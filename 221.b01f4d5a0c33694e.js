"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[221],{5221:(gn,K,m)=>{m.r(K),m.d(K,{AccountingModule:()=>un,createTranslateLoader:()=>le});var h=m(6895),c=m(3053),e=m(4650),u=m(1364);let de=(()=>{class n{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-accounting"]],decls:129,vars:36,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-3","mb-4"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],["routerLink","/accounting/weekendy",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-capsules","fa-2x","text-gray-300"],[1,"card","border-left-success","shadow","h-100","py-2"],["routerLink","/accounting/salaire-bureau",1,"btn"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-money-check-alt","fa-2x","text-gray-300"],[1,"card","border-left-info","shadow","h-100","py-2"],["routerLink","/accounting/expend",1,"btn"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"fas","fa-hand-holding-usd","fa-2x","text-gray-300"],[1,"card","border-left-warning","shadow","h-100","py-2"],["routerLink","/accounting/settings",1,"btn"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-percent","fa-2x","text-gray-300"],["routerLink","/accounting/paie-prime-sz",1,"btn"],[1,"fas","fa-money-check","fa-2x","text-gray-300"],[1,"card","border-left-warning","border-bottom-warning","shadow","h-100","py-2"],["routerLink","/accounting/paie-prime-sc",1,"btn"],[1,"fas","fa-file-invoice-dollar","fa-2x","text-gray-300"],[1,"card","border-left-danger","border-bottom-danger","shadow","h-100","py-2"],["routerLink","/accounting/garantie-manager",1,"btn"],[1,"text-xs","font-weight-bold","text-danger","text-uppercase","mb-1"],["routerLink","/accounting/vente-docteur",1,"btn"],[1,"fas","fa-dollar-sign","fa-2x","text-gray-300"],["routerLink","/accounting/chiffre-d-affaire-kine",1,"btn"],[1,"fa","fa-credit-card","fa-2x","text-gray-300"],["routerLink","/accounting/taux-section",1,"btn"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",13)(19,"a",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",16),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",17)(30,"a",18)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",11),e._UZ(38,"i",20),e.qZA()()()()()(),e.TgZ(39,"div",4)(40,"div",21)(41,"a",22)(42,"div",7)(43,"div",8)(44,"div",9)(45,"div",23),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",11),e._UZ(49,"i",24),e.qZA()()()()()()(),e.TgZ(50,"div",3)(51,"div",4)(52,"div",5)(53,"a",25)(54,"div",7)(55,"div",8)(56,"div",9)(57,"div",10),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",11),e._UZ(61,"i",26),e.qZA()()()()()(),e.TgZ(62,"div",4)(63,"div",27)(64,"a",28)(65,"div",7)(66,"div",8)(67,"div",9)(68,"div",23),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",11),e._UZ(72,"i",29),e.qZA()()()()()(),e.TgZ(73,"div",4)(74,"div",30)(75,"a",31)(76,"div",7)(77,"div",8)(78,"div",9)(79,"div",32),e._uU(80),e.ALo(81,"translate"),e.qZA()(),e.TgZ(82,"div",11),e._UZ(83,"i",29),e.qZA()()()()()(),e.TgZ(84,"div",4)(85,"div",13)(86,"a",33)(87,"div",7)(88,"div",8)(89,"div",9)(90,"div",15),e._uU(91),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"div",11),e._UZ(94,"i",34),e.qZA()()()()()()(),e.TgZ(95,"div",3)(96,"div",4)(97,"div",30)(98,"a",35)(99,"div",7)(100,"div",8)(101,"div",9)(102,"div",32),e._uU(103),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",11),e._UZ(106,"i",36),e.qZA()()()()()(),e.TgZ(107,"div",4)(108,"div",30)(109,"a",37)(110,"div",7)(111,"div",8)(112,"div",9)(113,"div",32),e._uU(114),e.ALo(115,"translate"),e.qZA()(),e.TgZ(116,"div",11),e._UZ(117,"i",24),e.qZA()()()()()(),e.TgZ(118,"div",4)(119,"div",30)(120,"a",37)(121,"div",7)(122,"div",8)(123,"div",9)(124,"div",32),e._uU(125),e.ALo(126,"translate"),e.qZA()(),e.TgZ(127,"div",11),e._UZ(128,"i",24),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,12,"AccountingManagement")),e.xp6(10),e.hij(" ",e.lcZ(14,14,"GestionWeekendy"),""),e.xp6(11),e.hij(" ",e.lcZ(25,16,"GestionDesSalaires"),""),e.xp6(11),e.hij("",e.lcZ(36,18,"GestionDesDepenses")," "),e.xp6(11),e.hij(" ",e.lcZ(47,20,"GestionDesTaux"),""),e.xp6(12),e.hij(" ",e.lcZ(59,22,"GestionPrime"),""),e.xp6(11),e.hij(" ",e.lcZ(70,24,"ChefsectionPrime"),""),e.xp6(11),e.hij(" ",e.lcZ(81,26,"GestionGarantie"),""),e.xp6(11),e.hij(" ",e.lcZ(92,28,"ListeVente"),""),e.xp6(12),e.hij(" ",e.lcZ(104,30,"PaiementSalairekine"),""),e.xp6(11),e.hij(" ",e.lcZ(115,32,"gestionTauxSection"),""),e.xp6(11),e.hij(" ",e.lcZ(126,34,"gestionTauxSection"),""))},dependencies:[c.rH,u.X$]}),n})();var Z=m(7579),J=m(6158),l=m(4006),P=m(9061),y=m(4508),U=m(3862),f=m(7185),A=m(5415);const ue=function(n){return["/accounting/weekendys-list",n]},ce=function(n){return["/accounting/list-salaire-du-bureau",n]};function ge(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"li")(14,"a",11),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,6,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(12,ue,t._id)),e.xp6(1),e.Oqu(e.lcZ(12,8,"GestionWeekendy")),e.xp6(3),e.Q6J("routerLink",e.VKq(14,ce,t._id)),e.xp6(1),e.Oqu(e.lcZ(16,10,"GestionDesSalaires"))}}let he=(()=>{class n{constructor(t,i,o,a,s,d){this.fb=t,this.agenceService=o,this.productService=a,this.toastrService=s,this.translateService=d,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listBureau=[],this.loading=!0,this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.hoveredDate=null,this.toDate=null,this.weekend=new J.O,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,console.log(this.listBureau),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(P.vL),e.Y36(y.q),e.Y36(U.M),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,ge,17,16,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionWeekendy")," "),e.xp6(5),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",i.listBureau))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();var F=m(6166),pe=m(2983),g=m.n(pe),I=m(1384),C=m(8067);function me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.dette_manager=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.dette_manager)}}function _e(n,r){if(1&n&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dette_manager," FCFA ")}}function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onEditdette(o))}),e.qZA()()}}function Ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onSavedetteManager(o))}),e.qZA(),e.TgZ(2,"i",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onClosedette(o))}),e.qZA()()}}function be(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",5),e.YNc(9,me,2,1,"div",20),e.YNc(10,_e,2,1,"div",20),e.qZA()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,fe,2,0,"div",21),e.YNc(15,Ze,3,0,"div",21),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.managerId.nom),e.xp6(2),e.Oqu(t.salaire_manager),e.xp6(2),e.Oqu(t.garantie_manager),e.xp6(3),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.hij(" ",t.salaire_net_manager," FCFA "),e.xp6(2),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit)}}function Ae(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e._UZ(3,"td")(4,"td")(5,"td"),e.TgZ(6,"td"),e._uU(7),e.qZA(),e._UZ(8,"td")(9,"td")(10,"td"),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.motifajout),e.xp6(5),e.Oqu(t.montantajout)}}function ve(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Dette Retranch\xe9e"),e.qZA(),e._UZ(3,"td")(4,"td"),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&n){const t=r.$implicit;e.xp6(6),e.Oqu(t.motifdette),e.xp6(2),e.hij("",t.montantdette," FCFA")}}let Te=(()=>{class n{constructor(t,i,o,a,s){this.tauxService=t,this.route=i,this.salaireService=o,this.toastrService=a,this.translateService=s,this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.loading=!0,this.buttonloading=!1,this.listManager=[],this.dettetotale=0,this.listDette=[],this.listDetteBureau=[],this.listRemboursement=[],this.salaireData=[],this.salaireAgent=0,this.salairenetManager=0,this.cumulManager=0,this.garantietotale=0,this.totalemanager=0,this.remboursetotale=0,this.salaireFormateur=0,this.cumul1=0,this.cumul2=0,this.netapayer=0,this.managerId="",this.detteManager=0,this.monthof=(new Date).getMonth(),this.yearof=(new Date).getFullYear(),this.datedebut="",this.datefin="",this.columns=["NOM DU MANAGER","SALAIRE","GARANTIE","DETTE DU MANAGER","SALAIRE NET"],this.rows=[],this.rowsgarantie=[],this.detterows=[],this.remboursementrows=[],this.dataBulletin=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getSingleSalaire(),this.getsalairemanager(),this.getAllremboursement(),this.getAlldette(),this.gettaux()}gettaux(){this.tauxService.getAllTaux().subscribe({next:t=>{this.pourcentageAgent=t[0].taux_salaire_agent,console.log("taux data",t),console.log("taux agent",this.pourcentageAgent)},error:t=>{console.log(t),this.loading=!1}})}getSingleSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getSingleSalaireBureau(this.id).subscribe({next:t=>{this.chiffreAffaire=t.chiffreDaf,this.moisde=t.mois.valueMois,this.annee=t.annee.annee,this.moisid=t.annee._id,this.anneeid=t.annee._id,this.bureau=t.bureauId.bureau_name,this.salaireFormateur=t.salaire_formateur,this.salaireAgent=t.salaire_agent,this.salaireManager=t.salaire_total_manager,this.cumul1=this.salaireAgent+this.salaireFormateur,this.salairenetManager=this.remboursetotale+this.cumulManager+this.cumul1-this.dettetotale},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}onEditdette(t){this.salaireData.forEach(i=>{i.isEdit=!1}),t.isEdit=!0}onClosedette(t){t.isEdit=!1}onSavedetteManager(t){t.salaire_net_manager=t.salaire_net_manager-t.dette_manager,this.cumulManager=this.cumulManager-t.dette_manager,this.salaireService.updatesalaireManager({salaire_net_manager:t.salaire_net_manager,dette_manager:t.dette_manager,managerId:t.managerId._id,mois:this.moisid,annee:this.anneeid},t.salaireId._id).subscribe({next:o=>{console.log(o),this.toastrService.success("La dette a \xe9t\xe9 enregistr\xe9e avec succ\xe8s!")},error:o=>{console.log("erreur",o),this.toastrService.error(o.error.message),this.loading=!1}})}getAlldette(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getDette(this.id).subscribe({next:t=>{this.listDetteBureau=t;for(let i=0;i<this.listDetteBureau.length;i++)this.detterows.push([this.listDetteBureau[i].motifdette,"","","",this.listDetteBureau[i].montantdette.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]);console.log("detet row",this.detterows),this.dettetotale=this.listDetteBureau.reduce((i,o)=>i+o.montantdette,0),this.salairenetManager=this.remboursetotale+this.cumulManager+this.cumul1-this.dettetotale}})}getAllremboursement(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getRemboursement(this.id).subscribe({next:t=>{this.listRemboursement=t,console.log("listRemboursement",this.listRemboursement),this.remboursetotale=this.listRemboursement.reduce((i,o)=>i+o.montantajout,0),this.salairenetManager=this.remboursetotale+this.cumulManager+this.cumul1-this.dettetotale;for(let i=0;i<this.listRemboursement.length;i++)this.remboursementrows.push([this.listRemboursement[i].motifajout,"","","",this.listRemboursement[i].montantajout.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]),console.log("montant",this.listRemboursement[i].montantajout)}})}applyDetteBureau(){this.id=this.route.snapshot.paramMap.get("id");const t={salaireId:this.id,motifdette:this.motifdette,montantdette:this.montantdette};this.salaireService.createDette(t).subscribe({next:i=>{200==i.status&&(this.toastrService.success(i.message),window.location.reload())},error:i=>{this.toastrService.error(i.statusText)}}),console.log(t)}ajout(){this.id=this.route.snapshot.paramMap.get("id");const t={salaireId:this.id,motifajout:this.motifajout,montantajout:this.montantajout};this.salaireService.createRemboursement(t).subscribe({next:i=>{200==i.status&&(this.toastrService.success(i.message),window.location.reload())},error:i=>{this.toastrService.error(i.statusText)}}),console.log(t)}getsalairemanager(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllSalaireSalaireId(this.id).subscribe({next:t=>{this.salaireData=t,this.pourcentage=5*t.length,this.garantietotale=this.salaireData.reduce((i,o)=>i+o.garantie_manager,0),this.cumulManager=this.salaireData.reduce((i,o)=>i+o.salaire_net_manager,0),this.salairenetManager=this.remboursetotale+this.cumulManager+this.cumul1-this.dettetotale,this.detteManager=t.reduce((i,o)=>i+o.dette_manager,0),console.log("dette total des manager ==>",this.detteManager);for(let i=0;i<t.length;i++)this.rowsgarantie.push([t[i].managerId.fullnamemanager,"","","",t[i].garantie_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]),this.rows.push([t[i].managerId.fullnamemanager,t[i].salaire_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t[i].dette_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t[i].garantie_manager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),(t[i].salaire_manager-t[i].garantie_manager-t[i].dette_manager).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")])}})}downloadpayroll(){const t=new F.default;var i=new Image;return i.src="assets/logotsw.png",t.addImage(i.src,30,20,10,10),g()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),g()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.bureau}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),g()(t,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#334CFF"}}]],theme:"plain"}),g()(t,{body:[[{content:`Chiffre d'affaire: \n${this.chiffreAffaire}`,styles:{halign:"right",fontSize:14,textColor:"#334CFF"}}]],theme:"plain"}),g()(t,{head:[["LIBELLE","MONTANT"]],body:[["PRIME DE FORMATEUR 2% CA",`${this.salaireFormateur}`],["NUMERAIRE DES AGENTS 23% CA",`${this.salaireAgent}`],["CUMUL",`${this.cumul1}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{head:[["MOTIF DE REMBOURSEMENT","MONTANT"]],body:this.remboursementrows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{head:[["MOTIF DE LA DETTE DU BUREAU","MONTANT"]],body:this.detterows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{body:[["CUMUL MANAGERS","","","",`${this.cumulManager}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{body:[["Net \xe0 Payer","","","",`${this.salairenetManager}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{body:[[{content:`Signature du comptable\n\n\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n\n\n\n\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}getDatabulletin(){this.dataBulletin.push(["CHIFFRE D'AFFAIRE"," "," "," ",this.chiffreAffaire.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["SALAIRE + 2%"," "," "," ",this.cumul1.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["MANAGERS "+this.pourcentage+"%","",""," ",this.salaireManager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["TOTAL SALAIRE","",""," ",(this.salaireManager+this.cumul1).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],["GARANTIE TOTALE","",""," ",this.garantietotale.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")],[],["DETTE","","",""," "],...this.detterows,["REMBOURSEMENTS"," "," "," "," "],...this.remboursementrows,this.garantietotale,["SALAIRE DETAIL DES MANAGERS"],["","Brut","dette","garantie","reste"],...this.rows);const t=new F.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),t.setFillColor("#0E19DE"),t.text("BULLETIN DE PAIE: ",s+30,60),t.text(this.moisde+" "+this.annee,s+30,65),t.setTextColor("#030638"),t.setFont("Arial","bold"),t.setFontSize(14),t.text("BUREAU DE: "+this.bureau,30,80),g()(t,{startY:82,body:this.dataBulletin,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{body:[["TOTAL DETTE",`${(this.dettetotale+this.detteManager).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} FCFA`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"}}}),g()(t,{body:[["MODE DE PAIEMENT","ESPECE/CHEQUE",`Net \xe0 payer: ${this.salairenetManager.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} FCFA`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"},2:{fillColor:"#0F6507"}}}),g()(t,{body:[[{content:`Signature du comptable\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie2.pdf")}genererBulletin(){if(!this.salaireData)return void console.log("Les informations de l'employ\xe9 ne sont pas disponibles.");const t=new F.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),t.setFillColor("#0E19DE"),t.text("BULLETIN DE PAIE: ",s+30,60),t.text(this.moisde+" "+this.annee,s+30,65),t.setTextColor("#030638"),t.setFont("Arial","bold"),t.setFontSize(14),t.text("BUREAU DE: "+this.bureau,30,80),g()(t,{startY:85,body:[["CHIFFRE D'AFFAIRE",`${this.chiffreAffaire}`],["SALAIRE + 2%",`${this.cumul1}`],["MANAGERS "+this.pourcentage+"%",`${this.salaireManager}`],["TOTAL SALAIRE",`${this.salaireManager+this.cumul1}`]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#FFFFFF",tableLineWidth:.1}),g()(t,{startY:130,head:[["MANAGER","GARANTIE 10% PAR MANAGER"]],body:this.rowsgarantie,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:0}),g()(t,{body:[["GARANTIE TOTALE","","",`${this.garantietotale}`]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{head:[["DETTES"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),g()(t,{body:this.detterows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),g()(t,{head:[["REMBOURSEMENTS"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),g()(t,{body:this.remboursementrows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:[173,216,230]}}}),g()(t,{head:[["SALAIRE DETAILLE DES MANAGERS"]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"}}),g()(t,{head:[["","Brut","dette","reste"]],body:this.rows,theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#334CFF",textColor:"#FFFFFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#FFFFFF",tableLineWidth:.1}),g()(t,{body:[["TOTAL DETTE",`${this.dettetotale+this.detteManager}`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"}}}),g()(t,{body:[["MODE DE PAIEMENT","ESPECE/CHEQUE",`Net \xe0 payer: ${this.remboursetotale+this.cumulManager+this.cumul1}`]],theme:"plain",styles:{halign:"left",textColor:"#FFFFFF",fontStyle:"bold"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"},2:{fillColor:"#0F6507"}}}),g()(t,{body:[[{content:`Signature du comptable\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature des managers\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.Q),e.Y36(c.gz),e.Y36(C.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll"]],decls:145,vars:62,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-download","text-light"],[1,"container-fluid","pt-2","mb-5"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary"],[1,"card-header"],[1,"card-body"],[1,"table"],["scope","col"],["scope","row"],[2,"background-color","rgb(90, 95, 95)","color","white"],[4,"ngFor","ngForOf"],["type","text","placeholder","motif",1,"form-control",3,"ngModel","ngModelChange"],["min","0","type","number","placeholder","montant \xe0 ajouter",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["min","0","type","number","placeholder","montant",1,"form-control",3,"ngModel","ngModelChange"],[2,"text-transform","uppercase"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["min","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-pencil-square-o","px-2",3,"click"],["aria-hidden","true",1,"fa","fa-check-square-o","px-2","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle","px-2","text-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.getDatabulletin()}),e.TgZ(5,"i",3),e._uU(6,"\xa0bulletin de paie"),e.qZA()(),e._uU(7,"\xa0 "),e._uU(8," \xa0 "),e.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7),e._UZ(13,"div",8),e.TgZ(14,"div",9)(15,"table",10)(16,"thead")(17,"tr")(18,"th",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"td",12),e._uU(22),e.qZA()()(),e.TgZ(23,"tbody"),e._UZ(24,"tr"),e.TgZ(25,"tr")(26,"th",12),e._uU(27,"MOIS DE"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA()(),e.TgZ(30,"tr",13)(31,"th",12),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()()()()()()()(),e.TgZ(36,"div",5)(37,"div",6)(38,"div",7),e._UZ(39,"div",8),e.TgZ(40,"div",9)(41,"table",10)(42,"thead")(43,"tr")(44,"th",11),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"th",11),e._uU(48),e.ALo(49,"translate"),e.qZA()()(),e.TgZ(50,"tbody")(51,"tr")(52,"th",12),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA()(),e.TgZ(57,"tr")(58,"th",12),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"td"),e._uU(62),e.qZA()(),e.TgZ(63,"tr",13)(64,"th",12),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.qZA()()()()()()()(),e.TgZ(69,"div",5)(70,"div",6)(71,"div",7),e._UZ(72,"div",8),e.TgZ(73,"div",9)(74,"table",10)(75,"thead")(76,"tr")(77,"th",11),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"th",11),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"th",11),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"th",11),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"th",11),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"th",11),e._uU(93),e.ALo(94,"translate"),e.qZA()()(),e.TgZ(95,"tbody"),e.YNc(96,be,16,8,"tr",14),e.TgZ(97,"h6"),e._uU(98,"Ajouter suppl\xe9mentaire"),e.qZA(),e.YNc(99,Ae,11,2,"tr",14),e.TgZ(100,"tr"),e._UZ(101,"td"),e.TgZ(102,"td")(103,"input",15),e.NdJ("ngModelChange",function(a){return i.motifajout=a}),e.qZA()(),e.TgZ(104,"td")(105,"input",16),e.NdJ("ngModelChange",function(a){return i.montantajout=a}),e.qZA()(),e._UZ(106,"td")(107,"td"),e.TgZ(108,"td")(109,"a",17),e.NdJ("click",function(){return i.ajout()}),e._uU(110,"Appliquer"),e.qZA()()(),e.TgZ(111,"h6"),e._uU(112,"Autre dette"),e.qZA(),e.TgZ(113,"tr")(114,"th"),e._uU(115,"Aujouter dette"),e.qZA(),e._UZ(116,"td")(117,"td"),e.TgZ(118,"td")(119,"input",15),e.NdJ("ngModelChange",function(a){return i.motifdette=a}),e.qZA()(),e.TgZ(120,"td")(121,"input",18),e.NdJ("ngModelChange",function(a){return i.montantdette=a}),e.qZA()(),e._UZ(122,"td"),e.TgZ(123,"td")(124,"a",17),e.NdJ("click",function(){return i.applyDetteBureau()}),e._uU(125,"Appliquer"),e.qZA()()(),e.YNc(126,ve,9,2,"tr",14),e.TgZ(127,"tr")(128,"th"),e._uU(129,"CUMMUL DES MANAGERS"),e.qZA(),e._UZ(130,"td")(131,"td")(132,"td"),e.TgZ(133,"td"),e._uU(134),e.qZA()()(),e.TgZ(135,"tfoot")(136,"tr",13)(137,"th",19),e._uU(138),e.ALo(139,"translate"),e.qZA(),e._UZ(140,"td")(141,"td")(142,"td"),e.TgZ(143,"td"),e._uU(144),e.qZA()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,32,"FormPayroll")),e.xp6(17),e.Oqu(e.lcZ(20,34,"Bureau")),e.xp6(3),e.Oqu(i.bureau),e.xp6(7),e.AsE(" ",i.moisde," ",i.annee," "),e.xp6(3),e.Oqu(e.lcZ(33,36,"CHIFFREDAFFAIRE")),e.xp6(3),e.hij("",i.chiffreAffaire," FCFA"),e.xp6(10),e.Oqu(e.lcZ(46,38,"Libelle")),e.xp6(3),e.Oqu(e.lcZ(49,40,"Montant")),e.xp6(5),e.hij("",e.lcZ(54,42,"PrimeFormateur")," "),e.xp6(3),e.hij("",i.salaireFormateur," FCFA"),e.xp6(3),e.AsE("",e.lcZ(60,44,"SalaireAgents")," ",i.pourcentageAgent,"%"),e.xp6(3),e.hij("",i.salaireAgent," FCFA"),e.xp6(3),e.Oqu(e.lcZ(66,46,"CUMULATIVE")),e.xp6(3),e.hij("",i.cumul1," FCFA"),e.xp6(10),e.Oqu(e.lcZ(79,48,"NomPrenoms")),e.xp6(3),e.Oqu(e.lcZ(82,50,"SalaireBrutManager")),e.xp6(3),e.Oqu(e.lcZ(85,52,"GarantieManager")),e.xp6(3),e.Oqu(e.lcZ(88,54,"DetteManager")),e.xp6(3),e.Oqu(e.lcZ(91,56,"SalaireNetManager")),e.xp6(3),e.Oqu(e.lcZ(94,58,"Action")),e.xp6(3),e.Q6J("ngForOf",i.salaireData),e.xp6(3),e.Q6J("ngForOf",i.listRemboursement),e.xp6(4),e.Q6J("ngModel",i.motifajout),e.xp6(2),e.Q6J("ngModel",i.montantajout),e.xp6(14),e.Q6J("ngModel",i.motifdette),e.xp6(2),e.Q6J("ngModel",i.montantdette),e.xp6(5),e.Q6J("ngForOf",i.listDetteBureau),e.xp6(8),e.hij(" ",i.cumulManager," FCFA "),e.xp6(4),e.Oqu(e.lcZ(139,60,"NetPayer")),e.xp6(6),e.hij(" ",i.salairenetManager," FCFA "))},dependencies:[h.sg,h.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On,u.X$],styles:["i[_ngcontent-%COMP%]{color:#2b82e6;font-size:20px}"]}),n})();var S=m(529),x=m(2177);let V=(()=>{class n{constructor(t){this.http=t}registerCaisse(t){return this.http.post(x.k.CREATE_CAISSE,t)}registerCategorie(t){return this.http.post(x.k.CREATE_CATEGORY,t)}getReportData(t){return this.http.post(x.k.ALL_REPORT_DATA,t)}updateCaisse(t,i){return this.http.patch(x.k.UPDATE_CAISSE+t,i)}getAllCaisse(t){return this.http.get(x.k.ALL_CAISSE+t)}getAllCaisseByTypeOperation(t,i){return this.http.get(x.k.ALL_CAISSE_BY_TYPE+t)}getSolde(){return this.http.get(x.k.SOLDE)}singleCaisse(t){return this.http.get(x.k.GET_SINGLE_CAISSE+t)}removeCaisse(t){return this.http.delete(x.k.DELETED_CAISSE+t)}getAllCategorie(){return this.http.get(x.k.ALL_CATEGORY)}singleCategorie(t){return this.http.get(x.k.GET_SINGLE_CATEGORY+t)}removeCategorie(t){return this.http.delete(x.k.DELETED_CATEGORY+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(S.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=m(3056);function Se(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",66),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div")(13,"a",67),e._UZ(14,"i",68),e.qZA(),e.TgZ(15,"a",69),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteExpense(a._id))}),e._UZ(16,"i",70),e.qZA()(),e._UZ(17,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.date," "),e.xp6(2),e.hij(" ",t.motif," FCFA "),e.xp6(2),e.hij(" ",t.montant," "),e.xp6(2),e.hij(" ",t.typetransaction," "),e.xp6(2),e.hij(" ",t.auteur," ")}}function ye(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ce(n,r){1&n&&e._UZ(0,"span",71)}function xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function qe(n,r){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,xe,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date.errors.required)}}function we(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TypetransactionObligatoire")))}function Fe(n,r){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,we,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.typetransaction.errors.required)}}function Le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MotifSortieObligatoire")))}function Ue(n,r){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Le,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.motif.errors.required)}}function Me(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MontantSortieObligatoire")))}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,Me,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.montant.errors.required)}}function ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"AuteurSortieArgent")))}function De(n,r){if(1&n&&(e.TgZ(0,"div",72),e.YNc(1,ke,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.auteur.errors.required)}}function Oe(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Print")))}function Ne(n,r){1&n&&e._UZ(0,"span",71)}const Q=function(n){return{"is-invalid":n}};let Ee=(()=>{class n{constructor(t,i,o,a,s,d,p){this.fb=t,this.router=i,this.http=o,this.toastrService=a,this.translateService=s,this.caisseservice=d,this.salaireService=p,this.listExpense=[],this.listCategories=[],this.anneeList=[],this.pageNumber=1,this.nom="",this.selectedvalue="",this.loading=!0,this.buttonloading=!1,this.Listyears=[],this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.now=new Date,this.year=this.now.getFullYear(),this.columns=["DATE","MONTANT","TYPE DE TRANSACTION","AUTEUR","CATEGORIE","MOTIF"],this.rows=[],this.percentDone=0,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.expenseForm=new l.cw({categoryId:new l.NI(""),date:new l.NI(""),typetransaction:new l.NI(""),motif:new l.NI(""),auteur:new l.NI(""),montant:new l.NI("")}),this.reportForm=new l.cw({dateStart:new l.NI(""),dateEnd:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.expenseForm=this.fb.group({categoryId:["",l.kI.required],date:["",l.kI.required],typetransaction:["",l.kI.required],motif:["",l.kI.required],auteur:["",l.kI.required],montant:["",l.kI.required]}),this.reportForm=this.fb.group({dateStart:["",l.kI.required],dateEnd:["",l.kI.required]})}ngOnInit(){this.onChange(this.selectedvalue),this.getAllCategorie(),this.getSolde(),this.getALLannee(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"fait une recherche"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"category_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.expenseForm.controls}onSubmit(){if(this.submitted=!0,this.expenseForm?.invalid)return;this.buttonloading=!0;const t={categoryId:this.expenseForm.value.categoryId[0]._id,date:this.expenseForm.value.date,annee:Number(this.expenseForm.value.date.split("-")[0]),typetransaction:this.expenseForm.value.typetransaction,motif:this.expenseForm.value.motif,auteur:this.expenseForm.value.auteur,montant:this.expenseForm.value.montant};this.caisseservice.registerCaisse(t).subscribe({next:i=>{console.log(i),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,window.location.reload())},error:i=>{this.toastrService.error(i.error),this.buttonloading=!1}})}getAllExpense(){var t=(new Date).getFullYear();this.caisseservice.getAllCaisse(t).subscribe({next:i=>{this.listExpense=i,this.dtTrigger.next(null)},error:i=>{console.log(i)}})}getSolde(){this.caisseservice.getSolde().subscribe(t=>{this.Solde=t[0].solde,this.color=this.Solde>2e5?"background-color:green; font-style: bold;color:white":"background-color:red; font-style: bold;color:white",console.log("sole",this.Solde)})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDeleteExpense(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&(this.caisseservice.removeCaisse(t).subscribe({next:i=>{this.toastrService.success(i),this.getAllExpense()},error:i=>{console.log(i),this.loading=!1}}),this.ngOnInit())}getAllCategorie(){this.caisseservice.getAllCategorie().subscribe({next:t=>{this.listCategories=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onChange(t){console.log("Event",this.selectedvalue);var i=(new Date).getFullYear();this.caisseservice.getAllCaisse(i).subscribe({next:o=>{""==this.selectedvalue?this.listExpense=o:this.caisseservice.getAllCaisseByTypeOperation(this.selectedvalue,i).subscribe({next:a=>{this.listExpense=a,console.log("this.listExpense",this.listExpense)}}),console.log("listCategories",this.listExpense)},error:o=>{console.log(o)}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.expenseForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.expenseForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}downloadPdf(){const t={dateEnd:this.reportForm.value.dateEnd,dateStart:this.reportForm.value.dateStart};console.log("formData",t),this.caisseservice.getReportData(t).subscribe({next:i=>{for(let s=0;s<i.length;s++)this.rows.push([i[s].date,i[s].montant,i[s].typetransaction,i[s].auteur,i[s].categoryId.category_name,i[s].motif]);console.log("data report>>>",i);const o=new F.default;var a=new Image;return a.src="assets/logotsw.png",o.addImage(a.src,30,20,10,10),g()(o,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),g()(o,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}}]],theme:"plain"}),g()(o,{body:[[{content:`Rapport de la caisse du  ${this.reportForm.value.dateStart} au ${this.reportForm.value.dateEnd}`,styles:{halign:"center",fontSize:13,fillColor:"#334CFF"}}]],theme:"plain"}),g()(o,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1}),o.save("rapport-de-caisse.pdf")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(V),e.Y36(C.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-caisse"]],decls:212,vars:98,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addExpenseModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/accounting/category",1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#printreportModal",1,"btn","btn-primary"],[1,"fa","fa-print"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-md-4","col-lg-4","col-xl-4"],["for","filter",1,"col-md-3","control-label",2,"font-style","bold"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","entr\xe9e"],["value","sortie"],["for","filter",1,"col-md-4","control-label",2,"font-style","bold"],[1,"col-md-5"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addExpenseModal","tabindex","-1","aria-labelledby","addExpenseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addExpenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"col-md-3"],[1,"form-group"],[1,"mb-3"],["for","paysId"],[2,"color","red"],["formControlName","categoryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","md-3","xl-3"],["for","date"],["type","datetime-local","formControlName","date",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","typetransaction"],["formControlName","typetransaction","id","typetransaction",1,"form-control"],[1,"col-lg-6","md-6","xl-6"],["for","motif"],["formControlName","motif",1,"form-control",3,"ngClass"],["for","montant"],["type","number","formControlName","montant",1,"form-control",3,"ngClass"],["for","montantsorti"],["type","text","formControlName","auteur",1,"form-control",3,"ngClass"],["id","printreportModal","tabindex","-1","aria-labelledby","printreportModalLabel","aria-hidden","true",1,"modal","fade"],["id","printreportModalLabel",1,"modal-title"],[1,"col-lg-2","md-2","xl-2"],["type","datetime-local","formControlName","dateStart",1,"form-control"],["type","datetime-local","formControlName","dateEnd",1,"form-control"],[1,"col-lg-1","col-md-1","col-xl-1"],["type","submit",1,"btn","btn-primary"],[1,"center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h6",6)(10,"button",7),e._UZ(11,"i",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"a",9),e._UZ(16,"i",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._uU(19,"\xa0 "),e.TgZ(20,"a",10),e._UZ(21,"i",11),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"div",14)(29,"label",16),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",17)(33,"select",18),e.NdJ("ngModelChange",function(a){return i.selectedvalue=a})("change",function(a){return i.onChange(a.target)}),e.TgZ(34,"option",19),e._uU(35,"----select----"),e.qZA(),e.TgZ(36,"option",20),e._uU(37,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(38,"option",21),e._uU(39,"Sortie de caisse"),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",14)(42,"label",22),e._uU(43,"Solde:"),e.qZA(),e.TgZ(44,"div",23),e._uU(45),e.qZA()()()()(),e.TgZ(46,"div",24)(47,"table",25)(48,"thead")(49,"tr")(50,"th"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"th"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"th"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"th"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"th"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"th"),e._uU(66),e.ALo(67,"translate"),e.qZA()()(),e.TgZ(68,"tbody"),e.YNc(69,Se,18,5,"tr",26),e.qZA()()()()()(),e.TgZ(70,"div",27)(71,"div",28)(72,"div",29)(73,"div",30)(74,"h3",31),e._uU(75),e.ALo(76,"translate"),e.qZA(),e._UZ(77,"button",32),e.qZA(),e.TgZ(78,"div",33)(79,"div",14)(80,"div",34)(81,"form",35),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(82,"button",36),e.YNc(83,ye,3,3,"ng-container",37),e.YNc(84,Ce,1,0,"span",38),e.qZA(),e._uU(85," \xa0 "),e.TgZ(86,"button",39),e._uU(87),e.ALo(88,"translate"),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"div",13)(91,"div",14),e._UZ(92,"br")(93,"br"),e.TgZ(94,"div",40)(95,"div",41)(96,"div",42)(97,"div",34)(98,"label",43),e._uU(99),e.ALo(100,"translate"),e.TgZ(101,"span",44),e._uU(102,"*"),e.qZA()()(),e.TgZ(103,"div",34)(104,"ng-multiselect-dropdown",45),e.NdJ("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(a){return i.onItemSelect(a)})("onDeSelect",function(a){return i.onItemDeSelect(a)}),e.qZA()()()()(),e.TgZ(105,"div",46)(106,"div",41)(107,"div",42)(108,"div",17)(109,"label",47),e._uU(110),e.ALo(111,"translate"),e.TgZ(112,"span",44),e._uU(113,"*"),e.qZA()()(),e.TgZ(114,"div",34),e._UZ(115,"input",48),e.YNc(116,qe,2,1,"div",49),e.qZA()()()(),e.TgZ(117,"div",46)(118,"div",41)(119,"div",42)(120,"div",17)(121,"label",50),e._uU(122),e.ALo(123,"translate"),e.TgZ(124,"span",44),e._uU(125,"*"),e.qZA()()(),e.TgZ(126,"div",34)(127,"select",51)(128,"option",20),e._uU(129,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(130,"option",21),e._uU(131,"sortie de caisse"),e.qZA()(),e.YNc(132,Fe,2,1,"div",49),e.qZA()()()(),e.TgZ(133,"div",52)(134,"div",41)(135,"div",42)(136,"div",17)(137,"label",53),e._uU(138),e.ALo(139,"translate"),e.TgZ(140,"span",44),e._uU(141,"*"),e.qZA()()(),e.TgZ(142,"div",34),e._UZ(143,"textarea",54),e.YNc(144,Ue,2,1,"div",49),e.qZA()()()(),e.TgZ(145,"div",52)(146,"div",41)(147,"div",42)(148,"div",17)(149,"label",55),e._uU(150),e.ALo(151,"translate"),e.TgZ(152,"span",44),e._uU(153,"*"),e.qZA()()(),e.TgZ(154,"div",34),e._UZ(155,"input",56),e.YNc(156,Ie,2,1,"div",49),e.qZA()()()(),e.TgZ(157,"div",52)(158,"div",41)(159,"div",42)(160,"div",17)(161,"label",57),e._uU(162),e.ALo(163,"translate"),e.TgZ(164,"span",44),e._uU(165,"*"),e.qZA()()(),e.TgZ(166,"div",34),e._UZ(167,"input",58),e.YNc(168,De,2,1,"div",49),e.qZA()()()()()()()()()()()()(),e.TgZ(169,"div",59)(170,"div",28)(171,"div",29)(172,"div",30)(173,"h3",60),e._uU(174),e.ALo(175,"translate"),e.qZA(),e._UZ(176,"button",32),e.qZA(),e.TgZ(177,"div",33)(178,"div",14)(179,"div",34)(180,"form",35),e.NdJ("ngSubmit",function(){return i.downloadPdf()}),e._UZ(181,"br"),e.TgZ(182,"div",13)(183,"div",14),e._UZ(184,"br")(185,"br"),e.TgZ(186,"div",61)(187,"div",41)(188,"div",42)(189,"div",17)(190,"label",47),e._uU(191,"Du"),e.qZA()(),e.TgZ(192,"div",34),e._UZ(193,"input",62),e.qZA()()()(),e.TgZ(194,"div",61)(195,"div",41)(196,"div",42)(197,"div",17)(198,"label",47),e._uU(199,"Au"),e.qZA()(),e.TgZ(200,"div",34),e._UZ(201,"input",63),e.qZA()()()(),e.TgZ(202,"div",64),e._UZ(203,"br"),e.TgZ(204,"button",65),e.YNc(205,Oe,3,3,"ng-container",37),e.YNc(206,Ne,1,0,"span",38),e.qZA()(),e.TgZ(207,"div",64),e._UZ(208,"br"),e.TgZ(209,"button",39),e._uU(210),e.ALo(211,"translate"),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,48,"GestionDesSortieArgent")),e.xp6(9),e.hij("\xa0",e.lcZ(13,50,"nouvellesortiedargent")," "),e.xp6(5),e.hij("\xa0",e.lcZ(18,52,"CategoryCreate")," "),e.xp6(5),e.hij("\xa0",e.lcZ(23,54,"Imprimer")," "),e.xp6(8),e.Oqu(e.lcZ(31,56,"Filter")),e.xp6(3),e.Q6J("ngModel",i.selectedvalue),e.xp6(8),e.Akn(i.color),e.xp6(4),e.hij(" ",i.Solde," FCFA "),e.xp6(2),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(52,58,"DateSortie")),e.xp6(3),e.Oqu(e.lcZ(55,60,"MotifSortieArgent")),e.xp6(3),e.Oqu(e.lcZ(58,62,"Montant")),e.xp6(3),e.Oqu(e.lcZ(61,64,"typetransaction")),e.xp6(3),e.Oqu(e.lcZ(64,66,"Auteur")),e.xp6(3),e.Oqu(e.lcZ(67,68,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listExpense),e.xp6(6),e.Oqu(e.lcZ(76,70,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",i.expenseForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(88,72,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(100,74,"CategoryName")),e.xp6(5),e.Q6J("placeholder","Selectionner une Categorie")("data",i.listCategories)("disabled",i.disabled)("settings",i.dropdownSettings),e.xp6(6),e.Oqu(e.lcZ(111,76,"DateSortie")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,Q,i.submitted&&i.f.date.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.date.errors),e.xp6(6),e.Oqu(e.lcZ(123,78,"typetransaction")),e.xp6(10),e.Q6J("ngIf",i.submitted&&i.f.typetransaction.errors),e.xp6(6),e.Oqu(e.lcZ(139,80,"MotifSortieArgent")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,Q,i.submitted&&i.f.motif.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.motif.errors),e.xp6(6),e.Oqu(e.lcZ(151,82,"MontantSorti")),e.xp6(5),e.Q6J("ngClass",e.VKq(94,Q,i.submitted&&i.f.montant.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.montant.errors),e.xp6(6),e.Oqu(e.lcZ(163,84,"Auteur")),e.xp6(5),e.Q6J("ngClass",e.VKq(96,Q,i.submitted&&i.f.auteur.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.auteur.errors),e.xp6(6),e.Oqu(e.lcZ(175,86,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",i.reportForm),e.xp6(25),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(4),e.Oqu(e.lcZ(211,88,"Annuler")))},dependencies:[c.rH,h.mk,h.sg,h.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,M.OP,A.G,u.X$]}),n})();var R=m(5861);const Ye=function(n){return["/accounting/edit-settings",n]};function Je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div")(15,"a",45),e._UZ(16,"i",46),e.qZA(),e.TgZ(17,"a",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteTaux(a.id))}),e._UZ(18,"i",48),e.qZA()(),e._UZ(19,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.taux_transport," "),e.xp6(2),e.hij(" ",t.taux_bureau," "),e.xp6(2),e.hij(" ",t.taux_formateur," "),e.xp6(2),e.hij(" ",t.taux_salaire_agent," "),e.xp6(2),e.hij(" ",t.taux_salaire_mgr," "),e.xp6(2),e.hij(" ",t.taux_garantie_mgr," "),e.xp6(3),e.Q6J("routerLink",e.VKq(7,Ye,t._id))}}function Pe(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Be(n,r){1&n&&e._UZ(0,"span",49)}function Qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function je(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Qe,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_bureau.errors.required)}}function Re(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function We(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Re,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_transport.errors.required)}}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ze(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,$e,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_formateur.errors.required)}}function Ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ke(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Ge,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_agent.errors.required)}}function Ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function He(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Ve,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_mgr.errors.required)}}function Xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function et(n,r){if(1&n&&(e.TgZ(0,"div",50),e.YNc(1,Xe,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_garantie_mgr.errors.required)}}const O=function(n){return{"is-invalid":n}};let tt=(()=>{class n{constructor(t,i,o,a,s,d){this.tauxService=t,this.fb=i,this.router=o,this.http=a,this.toastrService=s,this.translateService=d,this.listTaux=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.tauxForm=new l.cw({taux_transport:new l.NI(""),taux_bureau:new l.NI(""),taux_formateur:new l.NI(""),taux_salaire_agent:new l.NI(""),taux_salaire_mgr:new l.NI(""),taux_garantie_mgr:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxForm=this.fb.group({taux_transport:["",l.kI.required],taux_bureau:["",l.kI.required],taux_formateur:["",l.kI.required],taux_salaire_agent:["",l.kI.required],taux_salaire_mgr:["",l.kI.required],taux_garantie_mgr:["",l.kI.required]})}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllTaux()}get f(){return this.tauxForm.controls}onSubmit(){var t=this;return(0,R.Z)(function*(){t.submitted=!0,console.log(t.tauxForm.value),!t.tauxForm?.invalid&&(t.buttonloading=!0,t.tauxService.registerTaux(t.tauxForm.value).subscribe({next:i=>{console.log(i),t.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(t.buttonloading=!1,t.ngOnInit())},error:i=>{console.log(i),t.toastrService.error(i.error),t.buttonloading=!1}}))})()}getAllTaux(){var t=this;return(0,R.Z)(function*(){t.tauxService.getAllTaux().subscribe({next:i=>{t.listTaux=i,console.log(t.listTaux),t.dtTrigger.next(null),t.loading=!1},error:i=>{console.log(i),t.loading=!1}})})()}onDeleteTaux(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.tauxService.removeTaux(t).subscribe({next:i=>{this.toastrService.success(i)},error:i=>{console.log(i),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.Q),e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:143,vars:82,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addTauxModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addTauxModal","tabindex","-1","aria-labelledby","addTauxModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addTauxModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-6","md-6","xl-6"],[1,"form-group"],[1,"mb-3"],["for","taux_bureau"],[2,"color","red"],["type","number","formControlName","taux_bureau",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","taux_transport"],["type","number","placeholder","","id","taux_transport","formControlName","taux_transport",1,"form-control",3,"ngClass"],["for","taux_formateur"],["type","number","placeholder","","id","taux_formateur","formControlName","taux_formateur",1,"form-control",3,"ngClass"],["for","taux_salaire_agent"],["type","number","id","taux_salaire_agent","placeholder","","id","taux_salaire_agent","formControlName","taux_salaire_agent",1,"form-control",3,"ngClass"],["for","taux_salaire_mgr"],["type","number","name","taux_salaire_mgr","id","taux_salaire_mgr","formControlName","taux_salaire_mgr",1,"form-control",3,"ngClass"],["for","taux_garantie_mgr"],["type","number","placeholder","","id","taux_garantie_mgr","formControlName","taux_garantie_mgr",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,Je,20,9,"tr",10),e.qZA()()()()()(),e.TgZ(39,"div",11)(40,"div",12)(41,"div",13)(42,"div",14)(43,"h3",15),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"button",16)(47,"span",17),e._uU(48,"\xd7"),e.qZA()()(),e.TgZ(49,"div",18)(50,"div",19)(51,"div",20)(52,"form",21),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(53,"button",22),e.YNc(54,Pe,3,3,"ng-container",23),e.YNc(55,Be,1,0,"span",24),e.qZA(),e._uU(56," \xa0 "),e.TgZ(57,"button",25),e._uU(58),e.ALo(59,"translate"),e.qZA(),e._UZ(60,"br"),e.TgZ(61,"div",26)(62,"div",19),e._UZ(63,"br")(64,"br"),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",20)(69,"label",30),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",20),e._UZ(75,"input",32),e.YNc(76,je,2,1,"div",33),e.qZA()()()(),e.TgZ(77,"div",27)(78,"div",28)(79,"div",29)(80,"div",34)(81,"label",35),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",31),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",20),e._UZ(87,"input",36),e.YNc(88,We,2,1,"div",33),e.qZA()()()()(),e.TgZ(89,"div",19),e._UZ(90,"br")(91,"br"),e.TgZ(92,"div",27)(93,"div",28)(94,"div",29)(95,"div",34)(96,"label",37),e._uU(97),e.ALo(98,"translate"),e.TgZ(99,"span",31),e._uU(100,"*"),e.qZA()()(),e.TgZ(101,"div",20),e._UZ(102,"input",38),e.YNc(103,ze,2,1,"div",33),e.qZA()()()(),e.TgZ(104,"div",27)(105,"div",28)(106,"div",29)(107,"div",34)(108,"label",39),e._uU(109),e.ALo(110,"translate"),e.TgZ(111,"span",31),e._uU(112,"*"),e.qZA()()(),e.TgZ(113,"div",20),e._UZ(114,"input",40),e.YNc(115,Ke,2,1,"div",33),e.qZA()()()()(),e.TgZ(116,"div",19),e._UZ(117,"br")(118,"br"),e.TgZ(119,"div",27)(120,"div",28)(121,"div",29)(122,"div",34)(123,"label",41),e._uU(124),e.ALo(125,"translate"),e.TgZ(126,"span",31),e._uU(127,"*"),e.qZA()()(),e.TgZ(128,"div",20),e._UZ(129,"input",42),e.YNc(130,He,2,1,"div",33),e.qZA()()()(),e.TgZ(131,"div",27)(132,"div",28)(133,"div",29)(134,"div",34)(135,"label",43),e._uU(136),e.ALo(137,"translate"),e.TgZ(138,"span",31),e._uU(139,"*"),e.qZA()()(),e.TgZ(140,"div",20),e._UZ(141,"input",44),e.YNc(142,et,2,1,"div",33),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,36,"gestionTaux")),e.xp6(7),e.hij("\xa0",e.lcZ(10,38,"AjouterNouveauTauxSalarial")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,40,"TauxTransportAgents")),e.xp6(3),e.Oqu(e.lcZ(21,42,"TauxEntretienBureau")),e.xp6(3),e.Oqu(e.lcZ(24,44,"TauxSalarialFormateur")),e.xp6(3),e.Oqu(e.lcZ(27,46,"TauxSalaireAgents")),e.xp6(3),e.Oqu(e.lcZ(30,48,"TauxSalaireManager")),e.xp6(3),e.Oqu(e.lcZ(33,50,"TauxGarantieManager")),e.xp6(3),e.Oqu(e.lcZ(36,52,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listTaux),e.xp6(6),e.Oqu(e.lcZ(45,54,"AjouterNouveauTauxSalarial")),e.xp6(8),e.Q6J("formGroup",i.tauxForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(59,56,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(71,58,"TauxEntretienBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(70,O,i.submitted&&i.f.taux_bureau.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_bureau.errors),e.xp6(6),e.Oqu(e.lcZ(83,60,"TauxTransportAgents")),e.xp6(5),e.Q6J("ngClass",e.VKq(72,O,i.submitted&&i.f.taux_transport.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_transport.errors),e.xp6(9),e.Oqu(e.lcZ(98,62,"TauxSalarialFormateur")),e.xp6(5),e.Q6J("ngClass",e.VKq(74,O,i.submitted&&i.f.taux_formateur.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_formateur.errors),e.xp6(6),e.hij("Taux ",e.lcZ(110,64,"TauxSalaireAgents"),""),e.xp6(5),e.Q6J("ngClass",e.VKq(76,O,i.submitted&&i.f.taux_salaire_agent.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_salaire_agent.errors),e.xp6(9),e.Oqu(e.lcZ(125,66,"TauxSalaireManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,O,i.submitted&&i.f.taux_salaire_mgr.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_salaire_mgr.errors),e.xp6(6),e.Oqu(e.lcZ(137,68,"TauxGarantieManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,O,i.submitted&&i.f.taux_garantie_mgr.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_garantie_mgr.errors))},dependencies:[c.rH,h.mk,h.sg,h.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,A.G,u.X$]}),n})();var H=m(9751),it=m(6252),W=m(388);let nt=(()=>{class n{constructor(t){this.bsModalRef=t}onNoClick(){this.bsModalRef.hide()}onYesClick(){this.bsModalRef.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(W.UZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirmation-dialog"]],decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Confirmation"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.onNoClick()}),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return i.onYesClick()}),e._uU(9,"Confirmer"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return i.onNoClick()}),e._uU(11,"Annuler"),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(i.message))},encapsulation:2}),n})(),X=(()=>{class n{constructor(t){this.modalService=t}openConfirmationDialog(t){const i=new Z.x;return this.modalRef=this.modalService.show(nt,{initialState:{message:t,confirmationSubject:i},class:"modal-dialog-centered"}),i.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(W.tT))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=m(1185);const ot=function(n){return["/accounting/detail-weekendy",n]};function at(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",52),e._uU(2),e.qZA(),e.TgZ(3,"td",52),e._uU(4),e.qZA(),e.TgZ(5,"td",52),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",53),e._UZ(9,"i",54),e.qZA(),e._uU(10,"\xa0 "),e.TgZ(11,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteWeekendy(a._id))}),e._UZ(12,"i",56),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.AsE("",t.mois.valueMois," ",t.annee.value,""),e.xp6(2),e.hij("",t.caTotal," FCFA"),e.xp6(2),e.Q6J("routerLink",e.VKq(5,ot,t._id))}}const $=function(n){return{"is-invalid":n}};function rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",44)(2,"input",57,58),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.name=o)}),e.qZA()(),e.TgZ(4,"td")(5,"input",59,60),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.qty=o)})("input",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.addItem(a,a.qty))}),e.qZA()(),e.TgZ(7,"td")(8,"input",61,62),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.price=o)}),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&n){const t=r.$implicit,i=r.index,o=e.MAs(3),a=e.MAs(6),s=e.MAs(9);e.oxw();const d=e.MAs(45);e.xp6(2),e.MGl("name","productName[",i,"]"),e.Q6J("ngClass",e.VKq(9,$,d.submitted&&o.invalid))("ngModel",t.name),e.xp6(3),e.Q6J("ngClass",e.VKq(11,$,d.submitted&&a.invalid))("ngModel",t.qty),e.xp6(3),e.MGl("name","price[",i,"]"),e.Q6J("ngClass",e.VKq(13,$,d.submitted&&s.invalid))("ngModel",t.price),e.xp6(3),e.hij(" ",t.price*t.qty||0," ")}}const N=function(){return{standalone:!0}},T="weekendy";let st=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v,k,D){this.confirmationDialogService=t,this.fb=i,this.route=a,this.router=s,this.toastrService=d,this.translateService=p,this.productService=b,this.agenceService=v,this.salaireService=k,this.weekendyService=D,this.moisList=[],this.anneeList=[],this.selectedItems=[],this.dtoptions={},this.dtTrigger=new Z.x,this.loading=!0,this.keyLanguage="userLanguage",this.autre1=0,this.autre2=0,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.dropdownSettingsAnnee={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listWeekendy=[],this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.totalbank=0,this.chargebureau=0,this.primetransport=0,this.weekend=new J.O,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getALLmois(),this.getALLannee(),this.getAllweekendy(),this.getBureau(),this.getAllProducts(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"valueMois",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllweekendy(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.weekendyService.getAllWeekendys(this.id).subscribe(t=>{this.listWeekendy=t,console.log("les weekendly",this.listWeekendy),this.dtTrigger.next(null),this.loading=!1},t=>{console.log(t),this.loading=!1})}getAllProducts(){this.productService.getAllProducts().subscribe({next:t=>{this.listProducts=t,console.log(this.listProducts),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}get(){return this.subscriptionObservable=new H.y(t=>(this.subscribers.push(t),t.next(this.retrieve()),()=>{this.subscribers=this.subscribers.filter(i=>i!==t)}))}getALLmois(){this.salaireService.getAllMois().subscribe(t=>{this.moisList=t,console.log(this.moisList)})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}getBureau(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.agenceService.singleBureau(this.id).subscribe({next:t=>{this.agence=t.findagence.bureau_name,this.bureauId=t.findagence._id,this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}getvaluemontant(){this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank,this.chiffreAf=JSON.parse(localStorage.getItem(T)).caTotal,this.chargebureau=JSON.parse(localStorage.getItem(T)).chargebureauTotal,this.primetransport=JSON.parse(localStorage.getItem(T)).primetrsportTotal}create(t){this.submitted=!0,this.id=this.route.snapshot.paramMap.get("id"),console.log("weekendyForm",t.value);const i={bureauId:this.id,mois:this.mois,annee:this.annee,autre1:Number(localStorage.getItem("autre1")),motif1:localStorage.getItem("motif1"),autre2:Number(localStorage.getItem("autre2")),moti2:localStorage.getItem("motif2"),items:JSON.parse(localStorage.getItem(T)).items,TotaltoBank:JSON.parse(localStorage.getItem(T)).TotaltoBank,caTotal:JSON.parse(localStorage.getItem(T)).caTotal,chargebureauTotal:JSON.parse(localStorage.getItem(T)).chargebureauTotal,primetrsportTotal:JSON.parse(localStorage.getItem(T)).primetrsportTotal,createdAt:Date()};console.log("form data",i),window.confirm("Etes-vous \xe0 enregistrer ce el\xe9ment ?")&&this.weekendyService.registerWeekendy(this.id,i).subscribe({next:o=>{console.log(o),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,localStorage.removeItem(T)&&window.location.reload(),localStorage.removeItem(T),localStorage.removeItem("autre1"),localStorage.removeItem("autre2"),localStorage.removeItem("motif1"),localStorage.removeItem("motif2"),window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}})}empty(){const t=new J.O;this.save(t),this.dispatch(t)}addItem(t,i){console.log("product==> ",t);const o=this.retrieve();let a=o.items.find(s=>s.productId===t._id);void 0===a&&(a=new it.Z,a.productId=t._id,a.name=t.name,o.items.push(a),console.log("weekendy==> ",o)),a.quantity=i,o.items=o.items.filter(s=>s.quantity>0),this.calculateCart(o),this.save(o),this.dispatch(o),this.getvaluemontant()}calculateCart(t){t.caTotal=t.items.map(i=>i.quantity*this.listProducts.find(o=>o._id===i.productId).price).reduce((i,o)=>i+o,0),t.chargebureauTotal=5*t.caTotal/100,t.primetrsportTotal=10*t.caTotal/100,t.TotaltoBank=t.caTotal-(t.chargebureauTotal+t.primetrsportTotal)}retrieve(){const t=new J.O,i=localStorage.getItem(T);return i&&t.updateFrom(JSON.parse(i)),t}save(t){localStorage.setItem(T,JSON.stringify(t))}dispatch(t){this.subscribers.forEach(i=>{try{i.next(t)}catch{}})}getlocaldata(){return this.ValeurMontant=localStorage.getItem(T),console.log(this.ValeurMontant),this.ValeurMontant}onDeleteWeekendy(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&(this.weekendyService.removeWeekendy(t).subscribe({next:i=>{this.toastrService.success(i),this.getAllweekendy(),window.location.reload()},error:i=>{console.log(i),this.loading=!1}}),this.ngOnInit())}onDetailWeekendy(t){this.weekendyService.removeWeekendy(t).subscribe({next:i=>{this.weekendyDetail=i,console.log(this.weekendyDetail)},error:i=>{this.toastrService.error(i.statusText)}})}savedepense1(t,i){console.log(t),localStorage.setItem("autre1",t),localStorage.setItem("motif1",i),this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank-t,console.log(this.totalbank),this.autre1=this.autre1}savedepense2(t,i){this.totalbank=JSON.parse(localStorage.getItem(T)).TotaltoBank-t,localStorage.setItem("autre2",t),localStorage.setItem("motif2",i)}onItemSelect(t){this.mois=t._id,console.log("onItemSelect",this.mois)}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectAnnee(t){this.annee=t._id,console.log("ann\xe9e",this.annee)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X),e.Y36(l.qu),e.Y36(P.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(U.M),e.Y36(y.q),e.Y36(C.o),e.Y36(L.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy-list"]],decls:179,vars:108,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/weekendy",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addWeekendyModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addWeekendyModal","tabindex","-1","aria-labelledby","addWeekendyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addUserModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit"],["weekendyForm","ngForm"],["type","submit",1,"btn","btn-primary"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container-fluid","pt-2","mb-5"],[1,"card","border-secondary"],[1,"card-title"],[1,"col-md-4"],[1,"form-group"],["for","bureauId"],["type","hidden","name","bureauId","id","bureauId",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"form-control"],["for","mois"],["id","weekendy_mois",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","annee"],["id","annee",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"card","border-secondary","mt-2"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["width","25%"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],[1,"col-md-3"],["type","number",1,"form-control",3,"min","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-7"],["id","","cols","40","rows","2",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-md-2"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-save"],[2,"cursor","pointer"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","text","id","productName","required","","readonly","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductName","ngModel"],["type","number","name","qty","id","qty","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange","input"],["ProductQty","ngModel"],["type","number","id","price","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductPrice","ngModel"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"h6",6)(11,"button",7),e._UZ(12,"i",8),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"div",9)(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Action"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,at,13,7,"tr",12),e.qZA()()()()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"div",15)(36,"div",16)(37,"h3",17),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"button",18),e.qZA(),e.TgZ(41,"div",19)(42,"div",20)(43,"div",21)(44,"form",22,23),e.NdJ("ngSubmit",function(){e.CHM(o);const s=e.MAs(45);return e.KtG(i.create(s))}),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._uU(49,"\xa0 "),e.TgZ(50,"button",25),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"div",26)(54,"div",20)(55,"div",21)(56,"div",27)(57,"div",9),e._UZ(58,"h4",28),e.TgZ(59,"div",20)(60,"div",29)(61,"div",30)(62,"label",31),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"input",32),e.NdJ("ngModelChange",function(s){return i.weekend.bureauId=s}),e.qZA(),e.TgZ(66,"label",33),e._uU(67),e.qZA()()(),e.TgZ(68,"div",29)(69,"div",30)(70,"label",34),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"ng-multiselect-dropdown",35),e.NdJ("ngModelChange",function(s){return i.weekend.weekendy_mois=s})("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(s){return i.onItemSelect(s)})("onDeSelect",function(s){return i.onItemDeSelect(s)}),e.qZA()()(),e.TgZ(74,"div",29)(75,"div",30)(76,"label",36),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"ng-multiselect-dropdown",37),e.NdJ("ngModelChange",function(s){return i.weekend.annee=s})("onDropDownClose",function(){return i.onDropDownCloseAnnee()})("onSelect",function(s){return i.onItemSelectAnnee(s)})("onDeSelect",function(s){return i.onItemDeSelectAnnee(s)}),e.qZA()()()()()(),e.TgZ(80,"div",38)(81,"div",9)(82,"h4",39),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"div",20)(86,"table",40)(87,"thead")(88,"tr")(89,"th",41),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"th",41),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"th",41),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"th",41),e._uU(99),e.ALo(100,"translate"),e.qZA()()(),e.TgZ(101,"tbody"),e.YNc(102,rt,12,15,"tr",12),e.qZA()()()()()()()()(),e.TgZ(103,"div",20)(104,"div",21)(105,"div",38)(106,"div",9)(107,"h4",28),e._uU(108),e.ALo(109,"translate"),e.qZA(),e._UZ(110,"div",30),e.TgZ(111,"table",42)(112,"thead")(113,"tr")(114,"th",43),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"th",43),e._uU(118,"%"),e.qZA(),e.TgZ(119,"th",43),e._uU(120),e.ALo(121,"translate"),e.qZA()()(),e.TgZ(122,"tbody")(123,"tr")(124,"th",44),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"td"),e._uU(128,"..."),e.qZA(),e.TgZ(129,"td"),e._uU(130),e.qZA()(),e.TgZ(131,"tr")(132,"th",44),e._uU(133,"PRIME DE TRANSPORT DE COMMERCIAUX"),e.qZA(),e.TgZ(134,"td"),e._uU(135,"10%"),e.qZA(),e.TgZ(136,"td"),e._uU(137),e.qZA()(),e.TgZ(138,"tr")(139,"th",44),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"td"),e._uU(143,"5%"),e.qZA(),e.TgZ(144,"td"),e._uU(145),e.qZA()(),e.TgZ(146,"tr")(147,"th",44),e._uU(148,"Autre 1"),e.qZA(),e._UZ(149,"td"),e.TgZ(150,"td")(151,"div",20)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(s){return i.autre1=s}),e.qZA()(),e.TgZ(154,"div",47)(155,"textarea",48),e.NdJ("ngModelChange",function(s){return i.motif1=s}),e.qZA()(),e.TgZ(156,"div",49)(157,"a",50),e.NdJ("click",function(){return i.savedepense1(i.autre1,i.motif1)}),e._UZ(158,"i",51),e.qZA()()()()(),e.TgZ(159,"tr")(160,"th",44),e._uU(161,"Autre 2"),e.qZA(),e._UZ(162,"td"),e.TgZ(163,"div",20)(164,"div",45)(165,"input",46),e.NdJ("ngModelChange",function(s){return i.autre2=s}),e.qZA()(),e.TgZ(166,"div",47)(167,"textarea",48),e.NdJ("ngModelChange",function(s){return i.motif2=s}),e.qZA()(),e.TgZ(168,"div",49)(169,"a",50),e.NdJ("click",function(){return i.savedepense2(i.autre2,i.motif2)}),e._UZ(170,"i",51),e.qZA()()()(),e.TgZ(171,"tr")(172,"th",44),e._uU(173),e.ALo(174,"translate"),e.qZA(),e.TgZ(175,"td"),e._uU(176,"..."),e.qZA(),e.TgZ(177,"td"),e._uU(178),e.qZA()()()()()()()()()()()()()()}2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,56,"GestionWeekendy")," ",e.lcZ(5,58,"de")," ",i.agence," "),e.xp6(10),e.hij("\xa0",e.lcZ(14,60,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(22,62,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(25,64,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(28,66,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",i.listWeekendy),e.xp6(6),e.Oqu(e.lcZ(39,68,"EnregistrerWeekendy")),e.xp6(9),e.Oqu(e.lcZ(48,70,"Sauver")),e.xp6(4),e.Oqu(e.lcZ(52,72,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(64,74,"NomBureau")),e.xp6(2),e.Q6J("ngModel",i.weekend.bureauId)("value",i.bureauId),e.xp6(2),e.hij(" ",i.agence," "),e.xp6(4),e.Oqu(e.lcZ(72,76,"MoisDe")),e.xp6(2),e.Q6J("data",i.moisList)("ngModel",i.weekend.weekendy_mois)("disabled",i.disabled)("settings",i.dropdownSettings)("ngModelOptions",e.DdM(102,N)),e.xp6(4),e.Oqu(e.lcZ(78,78,"Annee")),e.xp6(2),e.Q6J("data",i.anneeList)("ngModel",i.weekend.annee)("disabled",i.disabled)("settings",i.dropdownSettingsAnnee)("ngModelOptions",e.DdM(103,N)),e.xp6(4),e.hij(" ",e.lcZ(84,80,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(91,82,"Produit")),e.xp6(3),e.Oqu(e.lcZ(94,84,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(97,86,"Prix")),e.xp6(3),e.Oqu(e.lcZ(100,88,"Montant")),e.xp6(3),e.Q6J("ngForOf",i.listProducts)("ngForOf",i.weekend.items),e.xp6(6),e.Oqu(e.lcZ(109,90,"DetailsFinanciers")),e.xp6(7),e.Oqu(e.lcZ(116,92,"Libelle")),e.xp6(5),e.Oqu(e.lcZ(121,94,"Montant")),e.xp6(5),e.Oqu(e.lcZ(126,96,"TotalVente")),e.xp6(5),e.Oqu(i.chiffreAf),e.xp6(7),e.Oqu(i.primetransport),e.xp6(3),e.Oqu(e.lcZ(141,98,"ChargeBureau")),e.xp6(5),e.Oqu(i.chargebureau),e.xp6(8),e.Q6J("min",0)("ngModel",i.autre1)("ngModelOptions",e.DdM(104,N)),e.xp6(2),e.Q6J("ngModel",i.motif1)("ngModelOptions",e.DdM(105,N)),e.xp6(10),e.Q6J("min",0)("ngModel",i.autre2)("ngModelOptions",e.DdM(106,N)),e.xp6(2),e.Q6J("ngModel",i.motif2)("ngModelOptions",e.DdM(107,N)),e.xp6(6),e.Oqu(e.lcZ(174,100,"ResteDeposeBanque")),e.xp6(5),e.hij(" ",i.totalbank," "))},dependencies:[c.rH,h.mk,h.sg,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.qQ,l.On,l.F,M.OP,A.G,u.X$]}),n})();var q=m(7729),B=m(2217);const ee=function(n){return["/accounting/liste-ca-zone",n]};function lt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",10),e._UZ(5,"i",11),e.qZA(),e._uU(6,"\xa0 "),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,ee,t._id)),e.xp6(1),e.Oqu(t.zone_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,ee,t._id))}}let dt=(()=>{class n{constructor(t,i,o,a,s,d,p){this.zoneService=t,this.managerService=i,this.fb=o,this.http=a,this.toastrService=s,this.translateService=d,this.router=p,this.keyLanguage="userLanguage",this.listZone=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllZone()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:i=>{this.detailSZ=i,console.log(this.detailSZ)},error:i=>{this.toastrService.error(i.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(B.b),e.Y36(l.qu),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prime-sz"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,lt,7,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,5,"GestionPrime")," "),e.xp6(7),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,7,"NomZone")),e.xp6(5),e.Q6J("ngForOf",i.listZone))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();const ut=function(n){return["/accounting/detail-manager",n]};function ct(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",8)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",9)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",9)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",9)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",9)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",9)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",9)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",9)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div")(27,"a",10),e._UZ(28,"i",11),e.qZA(),e.TgZ(29,"a",12),e._UZ(30,"i",13),e.qZA()(),e._UZ(31,"div"),e.qZA()()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.situation_matrimonial),e.xp6(3),e.Q6J("routerLink",e.VKq(10,ut,t._id))}}let gt=(()=>{class n{constructor(t,i,o,a,s,d,p){this.agenceService=t,this.managerService=i,this.fb=o,this.router=a,this.http=s,this.toastrService=d,this.translateService=p,this.listManager=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.q),e.Y36(B.b),e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-garantie-manager"]],decls:40,vars:33,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"text-center",2,"cursor","pointer"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil","btn-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,ct,32,12,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,13,"GestionGarantie")),e.xp6(6),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(13,15,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(19,19,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(22,21,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(25,23,"Piece")),e.xp6(3),e.Oqu(e.lcZ(28,25,"NumeroPiece")),e.xp6(3),e.hij("",e.lcZ(31,27,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(34,29,"Grade")," "),e.xp6(3),e.Oqu(e.lcZ(37,31,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listManager))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();function ht(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.quantity," "),e.xp6(2),e.hij(" ",t.totaleVente," ")}}function pt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",14),e._UZ(2,"input",25),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"input",26),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.s9C("value",t.name),e.xp6(2),e.s9C("value",t.quantity)}}const mt=function(n){return["/accounting/weekendys-list",n]};let _t=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v){this.route=i,this.router=o,this.toastrService=a,this.translateService=s,this.productService=d,this.agenceService=p,this.salaireService=b,this.weekendyService=v,this.weekendyDetail=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductbyweekendy()}getAllProductbyweekendy(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.weekendyService.getSingleWeekendy(this.id).subscribe(t=>{this.mois=t.mois.valueMois,this.caTotal=t.caTotal,this.primetrsportTotal=t.primetrsportTotal,this.chargebureauTotal=t.chargebureauTotal,this.TotaltoBank=t.TotaltoBank,console.log("res",t),this.bureauId=t.bureauId._id,this.agence=t.bureauId.bureau_name;for(let i=0;i<t.items.length;i++)this.productService.getSingleProduct(t.items[i].productId).subscribe(a=>{this.weekendyDetail.push({name:t.items[i].name,quantity:t.items[i].quantity,totaleVente:t.items[i].quantity*a.price})});console.log("product vendu",this.weekendyDetail)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(U.M),e.Y36(y.q),e.Y36(C.o),e.Y36(L.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-weekendy-detail"]],decls:103,vars:59,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row-border","hover","table","table-bordered"],["width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary","mt-2"],[1,"card-body"],[1,"card-title"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],["id","detailWeekendy","tabindex","-1","aria-labelledby","detailWeekendyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addUserModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"card","border-secondary"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["type","text","readonly","",1,"form-control",3,"value"],["readonly","",1,"form-control",3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"a",3),e._uU(8,"back"),e.qZA()(),e.TgZ(9,"table",4)(10,"thead")(11,"tr")(12,"th",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th",5),e._uU(19),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,ht,7,3,"tr",6),e.qZA()(),e.TgZ(23,"div",7)(24,"div",8)(25,"div",9)(26,"div",10)(27,"h4",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"table",12)(31,"thead")(32,"tr")(33,"th",13),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th",13),e._uU(37,"%"),e.qZA(),e.TgZ(38,"th",13),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.TgZ(41,"tbody")(42,"tr")(43,"th",14),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"td"),e._uU(47,"..."),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA()(),e.TgZ(50,"tr")(51,"th",14),e._uU(52,"PRIME DE TRANSPORT DE COMMERCIAUX"),e.qZA(),e.TgZ(53,"td"),e._uU(54,"10%"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA()(),e.TgZ(57,"tr")(58,"th",14),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"td"),e._uU(62,"5%"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA()(),e.TgZ(65,"tr")(66,"th",14),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"td"),e._uU(70,"..."),e.qZA(),e.TgZ(71,"td"),e._uU(72),e.qZA()()()()()()()()(),e.TgZ(73,"div",15)(74,"div",16)(75,"div",17)(76,"div",18)(77,"h3",19),e._uU(78),e.ALo(79,"translate"),e.qZA(),e._UZ(80,"button",20),e.qZA(),e.TgZ(81,"div",21)(82,"div",7)(83,"div",8)(84,"div",22)(85,"div",10)(86,"div",9)(87,"div",10)(88,"h4",23),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",7)(92,"table",24)(93,"thead")(94,"tr")(95,"th",5),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"th",5),e._uU(99),e.ALo(100,"translate"),e.qZA()()(),e.TgZ(101,"tbody"),e.YNc(102,pt,5,2,"tr",6),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(3),e.xDo(" ",e.lcZ(4,25,"DetailsVente")," ",e.lcZ(5,27,"de")," ",i.agence," ",e.lcZ(6,29,"de")," ",i.mois," "),e.xp6(4),e.Q6J("routerLink",e.VKq(57,mt,i.bureauId)),e.xp6(6),e.Oqu(e.lcZ(14,31,"Produit")),e.xp6(3),e.Oqu(e.lcZ(17,33,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(20,35,"TotalVente")),e.xp6(3),e.Q6J("ngForOf",i.weekendyDetail),e.xp6(6),e.Oqu(e.lcZ(29,37,"DetailsFinanciers")),e.xp6(6),e.Oqu(e.lcZ(35,39,"Indication")),e.xp6(5),e.Oqu(e.lcZ(40,41,"Montant")),e.xp6(5),e.Oqu(e.lcZ(45,43,"TotalVente")),e.xp6(5),e.Oqu(i.caTotal),e.xp6(7),e.Oqu(i.primetrsportTotal),e.xp6(3),e.Oqu(e.lcZ(60,45,"ChargeBureau")),e.xp6(5),e.Oqu(i.chargebureauTotal),e.xp6(3),e.Oqu(e.lcZ(68,47,"ResteDeposeBanque")),e.xp6(5),e.hij(" ",i.TotaltoBank," "),e.xp6(6),e.hij("",e.lcZ(79,49,"DetailWeekendy")," "),e.xp6(11),e.hij(" ",e.lcZ(90,51,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(97,53,"Produit")),e.xp6(3),e.Oqu(e.lcZ(100,55,"Quantite")),e.xp6(3),e.Q6J("ngForOf",i.weekendyDetail))},dependencies:[c.rH,h.sg,u.X$]}),n})();const ft=function(n){return["/accounting/weekendys-list",n]},Zt=function(n){return["/accounting/list-salaire-du-bureau",n]},bt=function(n){return["/accounting/stock-bureau",n]};function At(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"li")(14,"a",11),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"li")(18,"a",11),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,8,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(16,ft,t._id)),e.xp6(1),e.Oqu(e.lcZ(12,10,"GestionWeekendy")),e.xp6(3),e.Q6J("routerLink",e.VKq(18,Zt,t._id)),e.xp6(1),e.Oqu(e.lcZ(16,12,"GestionDesSalaires")),e.xp6(3),e.Q6J("routerLink",e.VKq(20,bt,t._id)),e.xp6(1),e.Oqu(e.lcZ(20,14,"VoirStockduBureau"))}}let vt=(()=>{class n{constructor(t,i,o){this.agenceService=t,this.toastrService=i,this.translateService=o,this.listBureau=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.q),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-salaire-bureau"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,At,21,22,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",i.listBureau))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();const Tt=function(n){return["/accounting/payroll",n]},St=function(n){return["/accounting/stock-bureau",n]};function yt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",9),e._uU(8),e.qZA(),e.TgZ(9,"td",9),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",10)(13,"button",11),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ul",12)(17,"li")(18,"a",13),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li")(22,"a",13),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.AsE("",t.mois.valueMois," ",t.annee.annee,""),e.xp6(2),e.Oqu(t.chiffreDaf),e.xp6(2),e.Oqu(t.chargeBureau),e.xp6(2),e.Oqu(t.montant_bank),e.xp6(4),e.hij(" ",e.lcZ(15,11,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,Tt,t._id)),e.xp6(1),e.Oqu(e.lcZ(20,13,"GestionDesSalaires")),e.xp6(3),e.Q6J("routerLink",e.VKq(19,St,t.bureauId._id)),e.xp6(1),e.Oqu(e.lcZ(24,15,"VoirStockduBureau"))}}let Ct=(()=>{class n{constructor(t,i,o,a,s){this.route=t,this.agenceService=i,this.salaireService=o,this.toastrService=a,this.translateService=s,this.listSalaire=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllSalaire(),this.getBureau()}getAllSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllSalaireBureau(this.id).subscribe({next:t=>{this.listSalaire=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listSalaire)},error:t=>{console.log(t),this.loading=!1}})}getBureau(){this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.agenceService.singleBureau(this.id).subscribe({next:t=>{this.agence=t.findagence.bureau_name,this.bureauId=t._id,console.log(this.agence),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(y.q),e.Y36(C.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-salaire-bureau"]],decls:36,vars:28,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/salaire-bureau",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"h1",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",4)(12,"div",5)(13,"div",6)(14,"table",7)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Action"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,yt,25,21,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,12,"GestionDesSalaires")," ",e.lcZ(5,14,"de")," ",i.agence," "),e.xp6(6),e.hij(" ",e.lcZ(10,16,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(19,18,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(22,20,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(25,22,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(28,24,"ChargeBureau")),e.xp6(3),e.Oqu(e.lcZ(31,26,"ResteDeposeBanque")),e.xp6(5),e.Q6J("ngForOf",i.listSalaire))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();function xt(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function qt(n,r){1&n&&e._UZ(0,"span",31)}function wt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ft(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,wt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_bureau.errors.required)}}function Lt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ut(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Lt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_transport.errors.required)}}function Mt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function It(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Mt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_formateur.errors.required)}}function kt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Dt(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,kt,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_agent.errors.required)}}function Ot(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Nt(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Ot,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_salaire_mgr.errors.required)}}function Et(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Yt(n,r){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,Et,3,3,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_garantie_mgr.errors.required)}}const E=function(n){return{"is-invalid":n}};let Jt=(()=>{class n{constructor(t,i,o,a,s,d,p){this.tauxService=t,this.fb=i,this.router=o,this.http=a,this.toastrService=s,this.route=d,this.translateService=p,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxeditForm=this.fb.group({taux_transport:["",l.kI.required],taux_bureau:["",l.kI.required],taux_formateur:["",l.kI.required],taux_salaire_agent:["",l.kI.required],taux_salaire_mgr:["",l.kI.required],taux_garantie_mgr:["",l.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.tauxService.singleTaux(t).subscribe(i=>{console.log(i.nom),this.tauxeditForm.patchValue({taux_transport:i.taux_transport,taux_bureau:i.taux_bureau,taux_formateur:i.taux_formateur,taux_salaire_agent:i.taux_salaire_agent,taux_salaire_mgr:i.taux_salaire_mgr,taux_garantie_mgr:i.taux_garantie_mgr})})}get f(){return this.tauxeditForm.controls}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.submitted=!0,console.log(t.tauxeditForm.value),t.tauxeditForm?.invalid)return;t.buttonloading=!0;const i=t.route.snapshot.paramMap.get("id");t.tauxService.updateTaux(i,t.tauxeditForm.value).subscribe({next:o=>{t.toastrService.success("Le information a bien \xe9t\xe9 modifi\xe9e \xe0 la base de donn\xe9es !")&&(t.buttonloading=!1,t.router.navigate(["/accounting/settings"]))},error:o=>{console.log(o),t.toastrService.error(o.error),t.buttonloading=!1}})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.Q),e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(c.gz),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-setting"]],decls:100,vars:52,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-6","md-6","xl-6"],[1,"form-group"],[1,"mb-3"],["for","taux_bureau"],[2,"color","red"],["type","number","formControlName","taux_bureau",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","taux_transport"],["type","number","placeholder","","id","taux_transport","formControlName","taux_transport",1,"form-control",3,"ngClass"],["for","taux_formateur"],["type","number","placeholder","","id","taux_formateur","formControlName","taux_formateur",1,"form-control",3,"ngClass"],["for","taux_salaire_agent"],["type","number","id","taux_salaire_agent","placeholder","","id","taux_salaire_agent","formControlName","taux_salaire_agent",1,"form-control",3,"ngClass"],["for","taux_salaire_mgr"],["type","number","name","taux_salaire_mgr","id","taux_salaire_mgr","formControlName","taux_salaire_mgr",1,"form-control",3,"ngClass"],["for","taux_garantie_mgr"],["type","number","placeholder","","id","taux_garantie_mgr","formControlName","taux_garantie_mgr",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(10,"button",8),e.YNc(11,xt,3,3,"ng-container",9),e.YNc(12,qt,1,0,"span",10),e.qZA(),e._uU(13," \xa0 "),e.TgZ(14,"button",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",5),e._UZ(20,"br")(21,"br"),e.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",6)(26,"label",16),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",17),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",6),e._UZ(32,"input",18),e.YNc(33,Ft,2,1,"div",19),e.qZA()()()(),e.TgZ(34,"div",13)(35,"div",14)(36,"div",15)(37,"div",20)(38,"label",21),e._uU(39),e.ALo(40,"translate"),e.TgZ(41,"span",17),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",6),e._UZ(44,"input",22),e.YNc(45,Ut,2,1,"div",19),e.qZA()()()()(),e.TgZ(46,"div",5),e._UZ(47,"br")(48,"br"),e.TgZ(49,"div",13)(50,"div",14)(51,"div",15)(52,"div",20)(53,"label",23),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"span",17),e._uU(57,"*"),e.qZA()()(),e.TgZ(58,"div",6),e._UZ(59,"input",24),e.YNc(60,It,2,1,"div",19),e.qZA()()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"div",15)(64,"div",20)(65,"label",25),e._uU(66),e.ALo(67,"translate"),e.TgZ(68,"span",17),e._uU(69,"*"),e.qZA()()(),e.TgZ(70,"div",6),e._UZ(71,"input",26),e.YNc(72,Dt,2,1,"div",19),e.qZA()()()()(),e.TgZ(73,"div",5),e._UZ(74,"br")(75,"br"),e.TgZ(76,"div",13)(77,"div",14)(78,"div",15)(79,"div",20)(80,"label",27),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",17),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",6),e._UZ(86,"input",28),e.YNc(87,Nt,2,1,"div",19),e.qZA()()()(),e.TgZ(88,"div",13)(89,"div",14)(90,"div",15)(91,"div",20)(92,"label",29),e._uU(93),e.ALo(94,"translate"),e.TgZ(95,"span",17),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",6),e._UZ(98,"input",30),e.YNc(99,Yt,2,1,"div",19),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,24,"gestionTaux")),e.xp6(7),e.Q6J("formGroup",i.tauxeditForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(16,26,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(28,28,"TauxEntretienBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(40,E,i.submitted&&i.f.taux_bureau.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_bureau.errors),e.xp6(6),e.Oqu(e.lcZ(40,30,"TauxTransportAgents")),e.xp6(5),e.Q6J("ngClass",e.VKq(42,E,i.submitted&&i.f.taux_transport.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_transport.errors),e.xp6(9),e.Oqu(e.lcZ(55,32,"TauxSalarialFormateur")),e.xp6(5),e.Q6J("ngClass",e.VKq(44,E,i.submitted&&i.f.taux_formateur.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_formateur.errors),e.xp6(6),e.hij("Taux ",e.lcZ(67,34,"TauxSalaireAgents"),""),e.xp6(5),e.Q6J("ngClass",e.VKq(46,E,i.submitted&&i.f.taux_salaire_agent.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_salaire_agent.errors),e.xp6(9),e.Oqu(e.lcZ(82,36,"TauxSalaireManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(48,E,i.submitted&&i.f.taux_salaire_mgr.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_salaire_mgr.errors),e.xp6(6),e.Oqu(e.lcZ(94,38,"TauxGarantieManager")),e.xp6(5),e.Q6J("ngClass",e.VKq(50,E,i.submitted&&i.f.taux_garantie_mgr.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_garantie_mgr.errors))},dependencies:[h.mk,h.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,u.X$]}),n})();var _=m(5439),w=m(5080),te=m(473);function Pt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getprimesupervisor(a.chiffreDaf,a.bureauId.zoneId))}),e._UZ(8,"i",16),e._uU(9," payer la prime"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}w.kL.register(...w.zX);let Qt=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v,k,D){this.zoneService=t,this.managerService=i,this.fb=o,this.http=a,this.tauxservice=s,this.route=d,this.countryservice=p,this.toastrService=b,this.translateService=v,this.router=k,this.serviceAfffectation=D,this.datazone=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getlistcabyzone(),this.getAllCaZone()}getlistcabyzone(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllSZByZone(t).subscribe({next:i=>{this.datazone=i,this.zoneNom=i[0].zoneId.zone_name,console.log("data sz and zone",this.datazone)},error:i=>{this.toastrService.error(i.statusText)}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesCa().subscribe({next:t=>{const i=window.navigator.language||window.navigator.language;console.log("navigator language: "+i),_.locale(i);for(let o=0;o<t.length;o++)t[o].bureauId.zoneId==this.id&&(this.listCaZone.push(t[o]),this.listDate.push(_(t[o].mois).format("MMMM-YYYY")));console.log("ca zone",this.listCaZone),this.sums=[...this.listCaZone.reduce((o,a)=>{const{mois:s,chiffreDaf:d}=a,p=o.get(s);return p?p.chiffreDaf+=d:o.set(s,Object.assign({},a)),o},new Map).values()],console.log("sums",this.sums);for(let o=0;o<this.sums.length;o++)this.labeldata.push(_(this.sums[o].mois).format("MMMM-YYYY")),this.realdata.push(this.sums[o].chiffreDaf),"january"===_(this.sums[o].mois).format("MMMM")||"janvier"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[0].name):"february"===_(this.sums[o].mois).format("MMMM")||"f\xe9vrier"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[1].name):"march"===_(this.sums[o].mois).format("MMMM")||"mars"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[2].name):"april"===_(this.sums[o].mois).format("MMMM")||"avril"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[3].name):"May"===_(this.sums[o].mois).format("MMMM")||"Mai"===_(this.sums[o].mois).format("MMMM")?(console.log(_(this.sums[o].mois).format("MMMM")),this.colordata.push(this.color[4].name)):"june"===_(this.sums[o].mois).format("MMMM")||"juin"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[5].name):"july"===_(this.sums[o].mois).format("MMMM")||"juillet"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[6].name):"august"===_(this.sums[o].mois).format("MMMM")||"ao\xfbt"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[7].name):"semptember"===_(this.sums[o].mois).format("MMMM")||"semptembre"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[8].name):"october"===_(this.sums[o].mois).format("MMMM")||"octobre"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[9].name):"november"===_(this.sums[o].mois).format("MMMM")||"novembre"===_(this.sums[o].mois).format("MMMM")?this.colordata.push(this.color[10].name):this.colordata.push(this.color[11].name);this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}getprimesupervisor(t,i){this.tauxservice.singleTauxBYZone(i).subscribe({next:s=>{this.primeSupervisor=t*s[0].taux_zone/100,console.log(this.primeSupervisor)}});const o=new F.default;var a=new Image;return a.src="assets/logotsw.png",o.addImage(a.src,30,20,10,10),g()(o,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),g()(o,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.zoneNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),g()(o,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),g()(o,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),g()(o,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),o.save("bulletin_paie.pdf")}RenderChart(t,i,o,a,s){new w.kL(s,{type:a,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:i,backgroundColor:o,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:i=>{this.detailca=i,console.log(this.detailca)},error:i=>{this.toastrService.error(i.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(B.b),e.Y36(l.qu),e.Y36(S.eN),e.Y36(I.Q),e.Y36(c.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0),e.Y36(te.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-ca-zone"]],decls:48,vars:23,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Pt,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Bt,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",5)(46,"div",13),e._UZ(47,"canvas",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,9,"CHIFFREDAFFAIREZone")," "),e.xp6(11),e.Oqu(e.lcZ(15,11,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(18,13,"nomsupervisieurZone")),e.xp6(3),e.Q6J("ngForOf",i.datazone),e.xp6(8),e.Oqu(e.lcZ(29,15,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,17,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,19,"Action")),e.xp6(3),e.Q6J("ngForOf",i.sums),e.xp6(6),e.Oqu(e.lcZ(44,21,"CHIFFREDAFFAIREZone")))},dependencies:[c.rH,h.sg,h.uU,u.X$]}),n})();function jt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",18),e._uU(4),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.mois," "),e.xp6(2),e.hij(" ",t.caTotal," FCFA ")}}w.kL.register(...w.zX);let Rt=(()=>{class n{constructor(t,i,o,a){this.locale=t,this.translateService=i,this.weekendeyservice=o,this.salaireService=a,this.startYear=2023,this.endYear=2100,this.Listyears=[],this.anneeList=[],this.listCaPaysMois=[],this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.labeldata=[],this.realdata=[],this.testlabeldata=[],this.colordata=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getALLannee(),this.generateYearsBetween(this.startYear,this.currentyear),console.log("currentyear",this.currentyear),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"faite une recherche"}},this.changeyeargetcapays(this.selectedvalue)}changeyeargetcapays(t){this.weekendeyservice.getallCadespays(this.anneecurrent).subscribe({next:o=>{""==this.selectedvalue?this.listCaPaysMois=o:this.weekendeyservice.getallCadespays(this.selectedvalue).subscribe(a=>{this.listCaPaysMois=a}),this.dtTrigger.next(null)},error:o=>{console.log(o)}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t;for(let i=0;this.anneeList.length>0;i++)(this.anneeList[i].value=(new Date).getFullYear())&&(this.anneecurrent=this.anneeList[i]._id);console.log("annee",this.anneeList)})}getAllCaPaysForDiagram(t){console.log(t),this.weekendeyservice.getallCadespays(t).subscribe({next:i=>{console.log("data",i);for(let o=0;o<i.length;o++);console.log(this.colordata),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:i=>{console.log(i)}})}RenderChart(t,i,o,a,s){new w.kL(s,{type:a,data:{labels:t,datasets:[{label:"Ca",data:i,backgroundColor:o,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}changeyear(t){this.anneecurrent=t.value,w.kL.getChart("barchart")?.destroy(),this.getAllCaPaysForDiagram(this.anneecurrent)}generateYearsBetween(t=2023,i=this.currentyear){i||(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.soG),e.Y36(u.sK),e.Y36(L.x),e.Y36(C.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiffre-affaire-by-country"]],decls:37,vars:15,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-md-3","col-lg-3","col-xl-3"],["for","filter",1,"col-md-3","control-label",2,"font-style","bold"],[1,"col-md-9"],[1,"form-control"],["value",""],["value","entr\xe9e"],["value","sortie"],[1,"top-0","end-0"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"select",10)(16,"option",11),e._uU(17,"----select----"),e.qZA(),e.TgZ(18,"option",12),e._uU(19,"Entr\xe9e en caisse"),e.qZA(),e.TgZ(20,"option",13),e._uU(21,"Sortie de caisse"),e.qZA()()()()(),e._UZ(22,"div",7),e.qZA()(),e.TgZ(23,"span",14),e._uU(24,"Solde: "),e.qZA(),e.TgZ(25,"div",15)(26,"table",16)(27,"thead")(28,"tr")(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,jt,5,2,"tr",17),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"CHIFFREDAFFAIREMonth")),e.xp6(10),e.Oqu(e.lcZ(13,9,"Filter")),e.xp6(14),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(31,11,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(34,13,"CHIFFREDAFFAIRE")),e.xp6(3),e.Q6J("ngForOf",i.listCaPaysMois))},dependencies:[h.sg,l.YN,l.Kr,A.G,u.X$]}),n})();const Wt=function(n){return["/accounting/paiement-garantie",n]};function $t(n,r){if(1&n&&(e.TgZ(0,"div",14)(1,"a",15),e._uU(2," payer maintenant"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(1,Wt,t.id))}}function zt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",16),e._uU(5),e.qZA(),e.TgZ(6,"td",16),e._uU(7),e.qZA(),e.TgZ(8,"td",16),e._uU(9),e.qZA(),e.TgZ(10,"td",16),e._uU(11),e.qZA(),e._UZ(12,"td",16),e.qZA()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.mois.valueMois,"\xa0 ",t.annee.annee," "),e.xp6(2),e.Oqu(t.bureau),e.xp6(2),e.Oqu(t.chiffreaffaire),e.xp6(2),e.Oqu(t.salaire),e.xp6(2),e.Oqu(t.cotisation)}}const Gt=function(){return["/accounting/garantie-manager"]};let Kt=(()=>{class n{constructor(t,i,o,a,s){this.route=t,this.agenceservice=i,this.salaireService=o,this.toastrService=a,this.translateService=s,this.managerData=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getManagerSalaire(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{this.nom=t[0].managerId.nom,this.prenom=t[0].managerId.prenom,this.managerData=t,this.dtTrigger.next(null),console.log("managerData",this.managerData)}}),this.getcotisationtotale(this.id)}getcotisationtotale(t){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getCotisationTotaleManager(t).subscribe(i=>{this.cotisation=i.cotisation_totale,this.status=i.statut,console.log(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(y.q),e.Y36(C.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-manager"]],decls:43,vars:34,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],[1,"row"],[1,"col-md-9"],[1,"badge","badge-success"],["class","col-md-3",4,"ngIf"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"btn","btn-primary",3,"routerLink"],[1,"text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",1)(12,"div",8)(13,"div",9)(14,"h3",2),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",10),e._uU(18),e.qZA()()(),e.YNc(19,$t,3,3,"div",11),e.qZA()(),e.TgZ(20,"table",12)(21,"thead")(22,"tr")(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,zt,13,6,"tr",13),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,17,"DetailManager")," ",i.nom," ",i.prenom," "),e.xp6(2),e.Q6J("routerLink",e.DdM(33,Gt)),e.xp6(10),e.AsE(" ",e.lcZ(16,19,"CotisationTotaleManager"),": ",i.cotisation," FCFA \xa0"),e.xp6(3),e.Oqu(i.status),e.xp6(1),e.Q6J("ngIf","impay\xe9"===i.status),e.xp6(1),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(25,21,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(28,23,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(31,25,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(34,27,"Salaire")),e.xp6(3),e.Oqu(e.lcZ(37,29,"Cotisation")),e.xp6(3),e.Oqu(e.lcZ(40,31,"Action")),e.xp6(3),e.Q6J("ngForOf",i.managerData))},dependencies:[c.rH,h.sg,h.O5,A.G,u.X$]}),n})();var ie=m(5644);function Vt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.quantity=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.quantity)}}function Ht(n,r){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.quantity," ")}}function Xt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"i",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onEditquantity(o))}),e.qZA()()}}function ei(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"a",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onSavequantity(o))}),e._uU(2,"Enregistrer"),e.qZA(),e.TgZ(3,"a",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onClosequantity(o))}),e._uU(4,"Annuler"),e.qZA()()}}function ti(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Vt,2,1,"div",12),e.YNc(5,Ht,2,1,"div",12),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Xt,2,0,"div",13),e.YNc(8,ei,5,0,"div",13),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.productId.name),e.xp6(2),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(2),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit)}}const ii=function(){return["/accounting/salaire-bureau"]};let ni=(()=>{class n{constructor(t,i,o,a,s,d,p,b){this.route=t,this.countryService=i,this.productService=o,this.stockService=a,this.http=s,this.toastrService=d,this.translateService=p,this.router=b,this.listProducts=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.keyLanguage="userLanguage",this.columns=["NOM DU PRODUIT","QUANTITE"],this.rows=[],this.now=new Date,this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductsbyBureau()}onEditquantity(t){this.listProducts.forEach(i=>{i.isEdit=!1}),t.isEdit=!0}onClosequantity(t){t.isEdit=!1,window.location.reload()}onSavequantity(t){console.log("productQuantityObj",t);const i={id:t._id,agenceId:t.agenceId._id,productId:t.productId._id,quantity:Number(t.quantity),quantitytotalenmagasin:Number(t.quantitytotalenmagasin)};this.stockService.updateBureauProductstoct(JSON.stringify(i)).subscribe(o=>{500==o.status?this.toastrService.error(o.message):200==o.status?(this.toastrService.success("Quantit\xe9 modifi\xe9e avec succ\xe8s!!"),this.loading=!1,window.location.reload()):this.toastrService.error(o.message)})}getAllProductsbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.stockService.getAllBureauProduct(this.id).subscribe(t=>{this.listProducts=t,console.log("data",t),this.agence=this.listProducts[0].agenceId.bureau_name,this.agenceId=this.id,console.log("this.listProducts",this.listProducts),this.loading=!1;for(let i=0;i<this.listProducts.length;i++)this.rows.push([this.listProducts[i].productId.name,this.listProducts[i].quantity])})}downloadPDF(){const t=new F.jsPDF;var i=new Image;return i.src="assets/logotsw.png",t.addImage(i.src,30,20,10,10),g()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),g()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Stock du bureau ${this.agence}\n\n\xe0 la date du ${this.date}`,styles:{halign:"right",fontSize:20}}]],theme:"plain"}),g()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),t.save("stock_pays.pdf")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(q.T),e.Y36(U.M),e.Y36(ie.q),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-stockbureau"]],decls:28,vars:16,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fas-printer"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"col-md-5"],["min","0","type","number",1,"form-control",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-pencil-square-o","px-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"a",6),e.NdJ("click",function(){return i.downloadPDF()}),e._uU(10," imprimer "),e._UZ(11,"i",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,ti,9,5,"tr",11),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,7,"StockBureau")," ",i.agence," "),e.xp6(2),e.Q6J("routerLink",e.DdM(15,ii)),e.xp6(13),e.Oqu(e.lcZ(19,9,"NomProduit")),e.xp6(3),e.Oqu(e.lcZ(22,11,"QuantiteDispo")),e.xp6(3),e.Oqu(e.lcZ(25,13,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listProducts))},dependencies:[c.rH,h.sg,h.O5,l.Fj,l.wV,l.JJ,l.qQ,l.On,u.X$]}),n})();function oi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div")(5,"a",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteCategorie(a._id))}),e._UZ(6,"i",36),e.qZA()(),e._UZ(7,"div"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.category_name," ")}}function ai(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ri(n,r){1&n&&e._UZ(0,"span",37)}function si(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function li(n,r){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,si,3,3,"div",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.category_name.errors.required)}}const di=function(n){return{"is-invalid":n}};let ui=(()=>{class n{constructor(t,i,o,a,s,d){this.fb=t,this.router=i,this.http=o,this.toastrService=a,this.translateService=s,this.caisseservice=d,this.listCategories=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.categoryForm=new l.cw({category_name:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.categoryForm=this.fb.group({category_name:["",l.kI.required]})}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"faite une recherche"}},this.getAllCategorie()}get f(){return this.categoryForm.controls}onSubmit(){this.submitted=!0,!this.categoryForm?.invalid&&(this.buttonloading=!0,this.caisseservice.registerCategorie(this.categoryForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1)},error:t=>{this.toastrService.error(t.error.message),this.buttonloading=!1}}))}getAllCategorie(){this.caisseservice.getAllCategorie().subscribe({next:t=>{this.listCategories=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteCategorie(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.caisseservice.removeCategorie(t).subscribe({next:i=>{this.toastrService.success(i),this.getAllCategorie()},error:i=>{console.log(i),this.loading=!1}}),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category"]],decls:60,vars:29,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],["routerLink","/accounting/expend",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addExpenseModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addExpenseModal","tabindex","-1","aria-labelledby","addExpenseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addExpenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],[1,"col-md-6"],["for","date"],[2,"color","red"],["type","text","formControlName","category_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._uU(3,"back"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"h6",5)(7,"button",6),e._UZ(8,"i",7),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,oi,8,1,"tr",11),e.qZA()()()()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"h3",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"button",17),e.qZA(),e.TgZ(32,"div",18)(33,"div",19)(34,"div",20)(35,"form",21),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(36,"button",22),e.YNc(37,ai,3,3,"ng-container",23),e.YNc(38,ri,1,0,"span",24),e.qZA(),e._uU(39," \xa0 "),e.TgZ(40,"button",25),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"div",26)(45,"div",19),e._UZ(46,"br")(47,"br"),e.TgZ(48,"div",27)(49,"div",28)(50,"div",29)(51,"div",30)(52,"label",31),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",32),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",20),e._UZ(58,"input",33),e.YNc(59,li,2,1,"div",34),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(9),e.hij("\xa0",e.lcZ(10,15,"CategoryNew")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,17,"CategoryName")),e.xp6(3),e.Oqu(e.lcZ(21,19,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listCategories),e.xp6(6),e.Oqu(e.lcZ(30,21,"AjouterSortieArgent")),e.xp6(6),e.Q6J("formGroup",i.categoryForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(42,23,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(54,25,"CategoryName")),e.xp6(5),e.Q6J("ngClass",e.VKq(27,di,i.submitted&&i.f.category_name.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.category_name.errors))},dependencies:[c.rH,h.mk,h.sg,h.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.G,u.X$]}),n})();const ne=function(n){return["/accounting/liste-ca-section",n]};function ci(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",10),e._UZ(5,"i",11),e.qZA(),e._uU(6,"\xa0 "),e.qZA()()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,ne,t._id)),e.xp6(1),e.Oqu(t.section_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,ne,t._id))}}let gi=(()=>{class n{constructor(t,i,o,a,s,d,p){this.zoneService=t,this.managerService=i,this.fb=o,this.http=a,this.toastrService=s,this.translateService=d,this.router=p,this.keyLanguage="userLanguage",this.listSection=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.getAllSection()}getAllSection(){this.zoneService.getAllSections().subscribe({next:t=>{this.listSection=t,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDetailMLS(t){this.managerService.singleManager(t).subscribe({next:i=>{this.detailMLS=i,console.log(this.detailMLS)},error:i=>{this.toastrService.error(i.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(B.b),e.Y36(l.qu),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prime-chef-section"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ci,7,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,5,"GestionPrime")," "),e.xp6(7),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(15,7,"NomSection")),e.xp6(5),e.Q6J("ngForOf",i.listSection))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();function hi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",37),e._uU(5),e.qZA(),e.TgZ(6,"td",37)(7,"a",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDeleteZone(a._id))}),e._UZ(8,"i",39),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.hij(" ",t.taux_zone,"% ")}}function pi(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function mi(n,r){1&n&&e._UZ(0,"span",40)}function _i(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function fi(n,r){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,_i,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function Zi(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function bi(n,r){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,Zi,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_zone.errors.required)}}const Ai=function(n){return{"is-invalid":n}};let vi=(()=>{class n{constructor(t,i,o,a,s,d,p){this.tauxservice=t,this.zoneService=i,this.fb=o,this.router=a,this.http=s,this.toastrService=d,this.translateService=p,this.listZone=[],this.listTauxZone=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.percentDone=0,this.tauxForm=new l.cw({taux_zone:new l.NI(""),zoneId:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxForm=this.fb.group({taux_zone:["",l.kI.required],zoneId:["",l.kI.required]})}ngOnInit(){this.getAllTauxZone(),this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.tauxForm.controls}onSubmit(){this.submitted=!0,console.log("form zone",this.tauxForm.value.zoneId[0]._id),this.tauxForm?.invalid||(this.buttonloading=!0,this.tauxservice.registerTauxZone({zoneId:this.tauxForm.value.zoneId[0]._id,taux_zone:this.tauxForm.value.taux_zone}).subscribe({next:i=>{console.log(i),this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:i=>{console.log(i),this.toastrService.error(i.error),this.buttonloading=!1}}))}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllTauxZone(){this.tauxservice.getAllTauxZone().subscribe({next:t=>{this.listTauxZone=t,console.log(this.listZone),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemZoneSelect(t){console.log("onItemSelect",t),console.log("form model",this.tauxForm.value)}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.tauxForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeleteZone(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9l\xe9ment ?")&&this.tauxservice.removeTauxZone(t).subscribe({next:i=>{this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !"),window.location.reload()},error:i=>{this.toastrService.error(i.statusText)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.Q),e.Y36(q.T),e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-taux-zone"]],decls:74,vars:42,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","zoneId"],[2,"color","red"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","taux_zone"],["step","0.01","type","number","placeholder","","id","taux_zone","formControlName","taux_zone",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,hi,9,2,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,pi,3,3,"ng-container",22),e.YNc(41,mi,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return i.onDropDownZoneClose()})("onSelect",function(a){return i.onItemZoneSelect(a)})("onDeSelect",function(a){return i.onItemZoneDeSelect(a)}),e.qZA(),e.YNc(61,fi,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",34)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",35),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",31),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",19),e._UZ(72,"input",36),e.YNc(73,bi,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,22,"gestionTauxZone")),e.xp6(7),e.hij("\xa0",e.lcZ(10,24,"AjouterNouveauTauxZone")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,26,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,28,"TauxPrimeZone")),e.xp6(3),e.Oqu(e.lcZ(24,30,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listTauxZone),e.xp6(6),e.Oqu(e.lcZ(33,32,"AjouterNouveauTauxZone")),e.xp6(6),e.Q6J("formGroup",i.tauxForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,34,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,36,"SelectionZone")),e.xp6(5),e.Q6J("data",i.listZone)("disabled",i.disabled)("settings",i.dropdownSettings),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.zoneId.errors),e.xp6(6),e.hij("",e.lcZ(68,38,"TauxPrimeZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(40,Ai,i.submitted&&i.f.taux_zone.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_zone.errors))},dependencies:[h.mk,h.sg,h.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,M.OP,A.G,u.X$]}),n})();function Ti(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",39),e._uU(8),e.qZA(),e.TgZ(9,"td",39)(10,"a",40),e._UZ(11,"i",41),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"a",42),e._UZ(14,"i",43),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.zoneId.zone_name),e.xp6(3),e.Oqu(t.sectionId.section_name),e.xp6(2),e.hij(" ",t.taux_section,"% ")}}function Si(n,r){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function yi(n,r){1&n&&e._UZ(0,"span",44)}function Ci(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function xi(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Ci,3,3,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function qi(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function wi(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,qi,2,0,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.taux_section.errors.required)}}const Fi=function(n){return{"is-invalid":n}};let Li=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v){this.agenceService=t,this.sectionService=i,this.tauxservice=o,this.zoneService=a,this.fb=s,this.router=d,this.http=p,this.toastrService=b,this.translateService=v,this.listZone=[],this.listTauxZone=[],this.listTauxSection=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownZoneSettings={},this.listSection=[],this.dropdownSectionSettings={},this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.percentDone=0,this.tauxsectionForm=new l.cw({taux_section:new l.NI(""),zoneId:new l.NI(""),sectionId:new l.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.tauxsectionForm=this.fb.group({taux_section:["",l.kI.required],zoneId:["",l.kI.required],sectionId:["",l.kI.required]})}ngOnInit(){this.getAllTauxSection(),this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.tauxsectionForm.controls}onSubmit(){this.submitted=!0,console.log("form section",this.tauxsectionForm.value.zoneId[0]._id),this.tauxsectionForm?.invalid||(this.buttonloading=!0,this.tauxservice.registerTauxSection({zoneId:this.tauxsectionForm.value.zoneId[0]._id,sectionId:this.tauxsectionForm.value.sectionId[0]._id,taux_section:this.tauxsectionForm.value.taux_section}).subscribe({next:i=>{console.log(i),this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:i=>{console.log(i),this.toastrService.error(i.error),this.buttonloading=!1}}))}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllTauxSection(){this.tauxservice.getAllTauxSection().subscribe({next:t=>{this.listTauxSection=t,console.log(this.listZone),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:i=>{this.listSection=i,console.log("section",this.listSection),this.loading=!1},error:i=>{console.log(i),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownZoneSettings=Object.assign({},this.dropdownZoneSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownZoneSettings=Object.assign({},this.dropdownZoneSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSectionSettings=Object.assign({},this.dropdownSectionSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSectionSettings=Object.assign({},this.dropdownSectionSettings,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.q),e.Y36(q.T),e.Y36(I.Q),e.Y36(q.T),e.Y36(l.qu),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-taux-chefsection"]],decls:88,vars:51,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addSectionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addSectionModal","tabindex","-1","aria-labelledby","addSectionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addSectionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","zoneId"],[2,"color","red"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","taux_section"],["step","0.01","type","number","placeholder","","id","taux_section","formControlName","taux_section",1,"form-control",3,"ngClass"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteZone(zone._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Ti,15,3,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,Si,3,3,"ng-container",22),e.YNc(44,yi,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",25)(51,"div",26)(52,"div",18)(53,"div",27)(54,"div",28)(55,"div",29)(56,"div",19)(57,"label",30),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span",31),e._uU(61,"*"),e.qZA()()(),e.TgZ(62,"div",19)(63,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return i.onDropDownZoneClose()})("onSelect",function(a){return i.onItemZoneSelect(a)})("onDeSelect",function(a){return i.onItemZoneDeSelect(a)}),e.qZA(),e.YNc(64,xi,2,1,"div",33),e.qZA()()()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",19)(69,"label",34),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",19)(75,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return i.onDropDownSectionClose()})("onSelect",function(a){return i.onItemSectionSelect(a)})("onDeSelect",function(a){return i.onItemSectionDeSelect(a)}),e.qZA()()()()(),e.TgZ(76,"div",36)(77,"div",28)(78,"div",29)(79,"div",19)(80,"label",37),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",31),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",19),e._UZ(86,"input",38),e.YNc(87,wi,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,27,"gestionTauxSection")),e.xp6(7),e.hij("\xa0",e.lcZ(10,29,"AjouterNouveauTauxSection")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,31,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,33,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,35,"TauxPrimeZone")),e.xp6(3),e.Oqu(e.lcZ(27,37,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listTauxSection),e.xp6(6),e.Oqu(e.lcZ(36,39,"AjouterNouveauTauxSection")),e.xp6(6),e.Q6J("formGroup",i.tauxsectionForm),e.xp6(1),e.Q6J("disabled",i.buttonloading),e.xp6(1),e.Q6J("ngIf",!i.buttonloading),e.xp6(1),e.Q6J("ngIf",i.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,41,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(59,43,"SelectionZone")),e.xp6(5),e.Q6J("data",i.listZone)("disabled",i.disabled)("settings",i.dropdownZoneSettings),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.zoneId.errors),e.xp6(6),e.Oqu(e.lcZ(71,45,"SelectionSection")),e.xp6(5),e.Q6J("data",i.listSection)("disabled",i.disabled)("settings",i.dropdownSectionSettings),e.xp6(6),e.hij("",e.lcZ(82,47,"TauxPrimeSection")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(49,Fi,i.submitted&&i.f.taux_section.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.taux_section.errors))},dependencies:[h.mk,h.sg,h.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,M.OP,A.G,u.X$]}),n})();const Ui=["class","component"];function Mi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickSubmit(o.cotisation,o.taux,o.netapayer))}),e._uU(2,"Payer"),e.qZA()()}}const Ii=function(){return["/accounting/garantie-manager"]};let ki=(()=>{class n{constructor(t,i,o,a,s){this.route=t,this.agenceservice=i,this.salaireService=o,this.toastrService=a,this.translateService=s,this.managerData=[],this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getManagerSalaire()}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{this.nom=t[0].managerId.nom,this.prenom=t[0].managerId.prenom,this.date_naiss=t[0].managerId.date_naiss,this.telephone=t[0].managerId.telephone,this.lieu_naiss=t[0].managerId.lieu_naiss,this.piece=t[0].managerId.piece,this.num_piece=t[0].managerId.num_piece,this.grade=t[0].managerId.grade,this.genre=t[0].managerId.genre,this.situation_matrimonial=t[0].managerId.situation_matrimonial,this.ethnie=t[0].managerId.ethnie,this.religion=t[0].managerId.religion,this.maladie_exist=t[0].managerId.maladie_exist,this.nbr_enfant=t[0].managerId.nbr_enfant,this.managerData=t,console.log("managerData",this.managerData)}}),this.getcotisationtotale(this.id)}getcotisationtotale(t){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getCotisationTotaleManager(t).subscribe(i=>{this.cotisation=i.cotisation_totale,this.status=i.statut})}onChange(t,i){console.log(Number(t.target.value)),this.netapayer=i+i*Number(t.target.value),console.log(i)}onClickSubmit(t,i,o){const a={datecreated:Date(),managerId:this.route.snapshot.paramMap.get("id"),cotisation_totale:t,gratification:t*i};this.salaireService.payerCotisationsalaireManager(a).subscribe({next:s=>{this.toastrService.success("L'op\xe9ration a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !"),window.location.reload()},error:s=>{console.log(s),this.toastrService.error(s.error)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(y.q),e.Y36(C.o),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paiement-garantie",8,"component"]],attrs:Ui,decls:204,vars:86,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],[1,"col-md-12"],["for","nom"],["type","text","readonly","","placeholder","","id","nom",1,"form-control",3,"value"],[1,"col-md-6"],["for","prenom"],["type","text","readonly","",1,"form-control",3,"value"],["for","genre"],["readonly","",1,"form-control",3,"value"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","readonly","","placeholder","","id","date_naiss",1,"form-control",3,"value"],["for","lieu_naiss"],["type","text","readonly","","id","lieu_naiss",1,"form-control",3,"value"],["for","piece"],["readonly","","id","piece",1,"form-control",3,"value"],["for","num_piece"],["for","situation_matrimonial"],["for","grade"],["for","ethnie"],["for","religion"],["type","text","readonly","","id","religion",1,"form-control",3,"value"],["for","maladie_exist"],["for","nbr_enfant"],["type","number","readonly","","id","nbr_enfant",1,"form-control",3,"value"],["type","number",1,"form-control",3,"ngModel","value","ngModelChange"],["id","",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","0.01"],["value","0.02"],["value","0.03"],["value","0.04"],["value","0.05"],["value","0.06"],["value","0.07"],["value","0.08"],["value","0.09"],["value","0.10"],["type","number","value","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h3"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6)(13,"div",7)(14,"div",8),e._UZ(15,"br")(16,"br"),e.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",12),e._UZ(25,"input",14),e.qZA()()()(),e.TgZ(26,"div",9)(27,"div",10)(28,"div",11)(29,"div",15)(30,"label",16),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",12),e._UZ(34,"input",17),e.qZA()()()(),e.TgZ(35,"div",9)(36,"div",10)(37,"div",11)(38,"div",15)(39,"label",13),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",12),e._UZ(43,"input",17),e.qZA()()()(),e.TgZ(44,"div",9)(45,"div",10)(46,"div",11)(47,"div",15)(48,"label",18),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"div",12),e._UZ(52,"input",19),e.qZA()()()()(),e.TgZ(53,"div",8),e._UZ(54,"br")(55,"br"),e.TgZ(56,"div",20)(57,"div",10)(58,"div",11)(59,"div",12)(60,"label",21),e._uU(61),e.ALo(62,"translate"),e.qZA()(),e.TgZ(63,"div",12),e._UZ(64,"input",22),e.qZA()()()(),e.TgZ(65,"div",20)(66,"div",10)(67,"div",11)(68,"div",12)(69,"label",23),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",12),e._UZ(73,"input",24),e.qZA()()()(),e.TgZ(74,"div",20)(75,"div",10)(76,"div",11)(77,"div",12)(78,"label",25),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",12),e._UZ(82,"input",26),e.qZA()()()()(),e.TgZ(83,"div",8),e._UZ(84,"br")(85,"br"),e.TgZ(86,"div",9)(87,"div",10)(88,"div",11)(89,"div",12)(90,"label",27),e._uU(91),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"div",12),e._UZ(94,"input",17),e.qZA()()()(),e.TgZ(95,"div",20)(96,"div",10)(97,"div",11)(98,"div",12)(99,"label",28),e._uU(100),e.ALo(101,"translate"),e.qZA()(),e.TgZ(102,"div",12),e._UZ(103,"input",17),e.qZA()()()(),e.TgZ(104,"div",20)(105,"div",10)(106,"div",11)(107,"div",12)(108,"label",29),e._uU(109),e.ALo(110,"translate"),e.qZA()(),e.TgZ(111,"div",12),e._UZ(112,"input",17),e.qZA()()()()(),e.TgZ(113,"div",8),e._UZ(114,"br")(115,"br"),e.TgZ(116,"div",9)(117,"div",10)(118,"div",11)(119,"div",12)(120,"label",30),e._uU(121),e.ALo(122,"translate"),e.qZA()(),e.TgZ(123,"div",12),e._UZ(124,"input",17),e.qZA()()()(),e.TgZ(125,"div",9)(126,"div",10)(127,"div",11)(128,"div",12)(129,"label",31),e._uU(130),e.ALo(131,"translate"),e.qZA()(),e.TgZ(132,"div",12),e._UZ(133,"input",32),e.qZA()()()(),e.TgZ(134,"div",9)(135,"div",10)(136,"div",11)(137,"div",12)(138,"label",33),e._uU(139),e.ALo(140,"translate"),e.qZA()(),e.TgZ(141,"div",12),e._UZ(142,"input",17),e.qZA()()()(),e.TgZ(143,"div",9)(144,"div",10)(145,"div",11)(146,"div",12)(147,"label",34),e._uU(148),e.ALo(149,"translate"),e.qZA()(),e.TgZ(150,"div",12),e._UZ(151,"input",35),e.qZA()()()()()()()(),e.TgZ(152,"div",4)(153,"div",5)(154,"h3"),e._uU(155),e.ALo(156,"translate"),e.qZA()(),e.TgZ(157,"div",6)(158,"div",7)(159,"div",8)(160,"table")(161,"thead")(162,"th"),e._uU(163),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"th"),e._uU(166),e.ALo(167,"translate"),e.qZA(),e.TgZ(168,"th"),e._uU(169),e.ALo(170,"translate"),e.qZA(),e.TgZ(171,"th"),e._uU(172),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"tbody")(175,"td")(176,"input",36),e.NdJ("ngModelChange",function(a){return i.cotisationmanager=a}),e.qZA()(),e.TgZ(177,"td")(178,"select",37),e.NdJ("ngModelChange",function(a){return i.taux=a})("change",function(a){return i.onChange(a,i.cotisation)}),e.TgZ(179,"option",38),e._uU(180,"selectioner un taux de gratification"),e.qZA(),e.TgZ(181,"option",39),e._uU(182,"1%"),e.qZA(),e.TgZ(183,"option",40),e._uU(184,"2%"),e.qZA(),e.TgZ(185,"option",41),e._uU(186,"3%"),e.qZA(),e.TgZ(187,"option",42),e._uU(188,"4%"),e.qZA(),e.TgZ(189,"option",43),e._uU(190,"5%"),e.qZA(),e.TgZ(191,"option",44),e._uU(192,"6%"),e.qZA(),e.TgZ(193,"option",45),e._uU(194,"7%"),e.qZA(),e.TgZ(195,"option",46),e._uU(196,"8%"),e.qZA(),e.TgZ(197,"option",47),e._uU(198,"9%"),e.qZA(),e.TgZ(199,"option",48),e._uU(200,"10%"),e.qZA()()(),e.TgZ(201,"td")(202,"input",49),e.NdJ("ngModelChange",function(a){return i.netapayer=a}),e.qZA()(),e.YNc(203,Mi,3,0,"td",50),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.lnq("",e.lcZ(4,43,"DetailManager")," ",i.nom," ",i.prenom,""),e.xp6(2),e.Q6J("routerLink",e.DdM(85,Ii)),e.xp6(5),e.Oqu(e.lcZ(11,45,"InfoManager")),e.xp6(12),e.hij("",e.lcZ(23,47,"Nom")," "),e.xp6(3),e.s9C("value",i.nom),e.xp6(6),e.Oqu(e.lcZ(32,49,"Prenom")),e.xp6(3),e.s9C("value",i.prenom),e.xp6(6),e.Oqu(e.lcZ(41,51,"Telephone")),e.xp6(3),e.s9C("value",i.telephone),e.xp6(6),e.Oqu(e.lcZ(50,53,"Genre")),e.xp6(3),e.s9C("value",i.genre),e.xp6(9),e.hij("",e.lcZ(62,55,"DateNaissance")," "),e.xp6(3),e.s9C("value",i.date_naiss),e.xp6(6),e.hij("",e.lcZ(71,57,"LieuNaiss")," "),e.xp6(3),e.s9C("value",i.lieu_naiss),e.xp6(6),e.hij("",e.lcZ(80,59,"Piece")," "),e.xp6(3),e.s9C("value",i.piece),e.xp6(9),e.Oqu(e.lcZ(92,61,"NumeroPiece")),e.xp6(3),e.s9C("value",i.num_piece),e.xp6(6),e.Oqu(e.lcZ(101,63,"SituationMatrimoniale")),e.xp6(3),e.s9C("value",i.situation_matrimonial),e.xp6(6),e.Oqu(e.lcZ(110,65,"Grade")),e.xp6(3),e.s9C("value",i.grade),e.xp6(9),e.Oqu(e.lcZ(122,67,"Ethenie")),e.xp6(3),e.s9C("value",i.ethnie),e.xp6(6),e.Oqu(e.lcZ(131,69,"Religion")),e.xp6(3),e.s9C("value",i.religion),e.xp6(6),e.Oqu(e.lcZ(140,71,"MaladiEntecedent")),e.xp6(3),e.s9C("value",i.maladie_exist),e.xp6(6),e.Oqu(e.lcZ(149,73,"NombreEnfant")),e.xp6(3),e.s9C("value",i.nbr_enfant),e.xp6(4),e.Oqu(e.lcZ(156,75,"CotisationTotaleManager")),e.xp6(8),e.Oqu(e.lcZ(164,77,"CotisationTotaleManager")),e.xp6(3),e.Oqu(e.lcZ(167,79,"gratis")),e.xp6(3),e.Oqu(e.lcZ(170,81,"NetPayer")),e.xp6(3),e.Oqu(e.lcZ(173,83,"Action")),e.xp6(4),e.s9C("value",i.cotisation),e.Q6J("ngModel",i.cotisationmanager),e.xp6(2),e.Q6J("ngModel",i.taux),e.xp6(24),e.Q6J("ngModel",i.netapayer),e.xp6(1),e.Q6J("ngIf","impay\xe9"===i.status))},dependencies:[c.rH,h.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,u.X$]}),n})();function Di(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.productId.name," "),e.xp6(2),e.hij(" ",t.quantity," ")}}const Oi=function(n){return["/accounting/weekendys-list",n]};let Ni=(()=>{class n{constructor(t,i,o,a,s,d,p,b){this.route=t,this.router=i,this.toastrService=o,this.translateService=a,this.productService=s,this.agenceService=d,this.salaireService=p,this.weekendyService=b,this.listProduits=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new Z.x,this.loading=!0,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductbyBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}}}getAllProductbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.weekendyService.getStockProductByBureau(this.id).subscribe(t=>{this.agence=t.bureau_name,this.listProduits=t,this.dtTrigger.next(null),this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(f._W),e.Y36(u.sK),e.Y36(U.M),e.Y36(y.q),e.Y36(C.o),e.Y36(L.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-produit-dispo-by-bureau"]],decls:19,vars:17,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row-border","hover","table","table-bordered"],["width","25%"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",5),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,Di,5,2,"tr",6),e.qZA()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,7,"VoirStockduBureau")," ",e.lcZ(5,9,"de")," ",i.agence," "),e.xp6(3),e.Q6J("routerLink",e.VKq(15,Oi,i.bureauId)),e.xp6(6),e.Oqu(e.lcZ(13,11,"Produit")),e.xp6(3),e.Oqu(e.lcZ(16,13,"Quantite")),e.xp6(3),e.Q6J("ngForOf",i.listProduits))},dependencies:[c.rH,h.sg,u.X$]}),n})();function Ei(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Yi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getprimesupervisor(a.chiffreDaf,a.bureauId.zoneId))}),e._UZ(8,"i",20),e._uU(9," payer la prime"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}w.kL.register(...w.zX);let Ji=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v,k,D,cn){this.sectionService=t,this.managerService=i,this.fb=o,this.http=a,this.tauxservice=s,this.route=d,this.countryservice=p,this.toastrService=b,this.translateService=v,this.router=k,this.salaireService=D,this.serviceAfffectation=cn,this.datasection=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.disabled=!1,this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaSection=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.anneeList=[],this.dropdownSettingsAnnee={},this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.filterForm=new l.cw({annee:new l.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.filterForm=this.fb.group({annee:[""]})}ngOnInit(){this.getlistcabysection(),this.getAllCaSection(),this.getALLannee(),this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.filterca()}getlistcabysection(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllMLSBychefSection(t).subscribe({next:i=>{this.datasection=i,this.sectionNom=i[0].zoneId.section_name,console.log("data mls and section",this.datasection)},error:i=>{this.toastrService.error(i.statusText)}})}getAllCaSection(){this.id=this.route.snapshot.paramMap.get("id"),this.sectionService.getAllSectionCa(this.id).subscribe({next:t=>{this.listCaSection=t;const i=window.navigator.language||window.navigator.language;console.log("navigator language: "+i),_.locale(i),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}filterca(){const t={sectionId:this.route.snapshot.paramMap.get("id"),dateStart:this.filterForm.value.annee};this.sectionService.getAllSectionCaBymois(t).subscribe({next:i=>{for(let o=0;o<i.length;o++)this.labeldata.push(_(i[o].mois.valueMois)),this.colordata.push(_(i[o].mois.codeColor)),this.realdata.push(i[o].casection)}}),console.log(t)}getprimesupervisor(t,i){this.tauxservice.singleTauxBYZone(i).subscribe({next:s=>{this.primeSupervisor=t*s[0].taux_zone/100,console.log(this.primeSupervisor)}});const o=new F.default;var a=new Image;return a.src="assets/logotsw.png",o.addImage(a.src,30,20,10,10),g()(o,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),g()(o,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.sectionNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),g()(o,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),g()(o,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),g()(o,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),o.save("bulletin_paie.pdf")}RenderChart(t,i,o,a,s){new w.kL(s,{type:a,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:i,backgroundColor:o,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:i=>{this.detailca=i,console.log(this.detailca)},error:i=>{this.toastrService.error(i.statusText)}})}onItemSelectAnnee(t){this.filterForm.value.annee=t._id,console.log("ann\xe9e",t._id)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.T),e.Y36(B.b),e.Y36(l.qu),e.Y36(S.eN),e.Y36(I.Q),e.Y36(c.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(u.sK),e.Y36(c.F0),e.Y36(C.o),e.Y36(te.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-ca-section"]],decls:53,vars:27,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"text-end"],[3,"formGroup","ngSubmit"],["for","annee"],["id","annee","formControlName","annee",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Ei,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Yi,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",13)(46,"form",14),e.NdJ("ngSubmit",function(){return i.filterca()}),e.TgZ(47,"label",15),e._uU(48,"Filtrer par ann\xe9e"),e.qZA(),e.TgZ(49,"ng-multiselect-dropdown",16),e.NdJ("onDropDownClose",function(){return i.onDropDownCloseAnnee()})("onSelect",function(a){return i.onItemSelectAnnee(a)})("onDeSelect",function(a){return i.onItemDeSelectAnnee(a)}),e.qZA()()()(),e.TgZ(50,"div",5)(51,"div",17),e._UZ(52,"canvas",18),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"CHIFFREDAFFAIRESection")," "),e.xp6(11),e.Oqu(e.lcZ(15,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(18,17,"nomchefSection")),e.xp6(3),e.Q6J("ngForOf",i.datasection),e.xp6(8),e.Oqu(e.lcZ(29,19,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,21,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,23,"Action")),e.xp6(3),e.Q6J("ngForOf",i.listCaSection),e.xp6(6),e.hij("",e.lcZ(44,25,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("formGroup",i.filterForm),e.xp6(3),e.Q6J("data",i.anneeList)("disabled",i.disabled)("settings",i.dropdownSettingsAnnee))},dependencies:[c.rH,h.sg,l._Y,l.JJ,l.JL,l.sg,l.u,M.OP,h.uU,u.X$]}),n})();var oe=m(2527),Y=m(461),z=m(5006);const Pi=function(n){return["/accounting/vente-by-doctor",n]};let Bi=(()=>{class n{constructor(t,i,o,a,s,d){this.route=t,this.toastrService=i,this.weekendyService=o,this.employeService=a,this.patientService=s,this.translateService=d,this.id="",this.months=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.months[this.now.getMonth()+1],this.year=this.now.getFullYear(),this.idDoctor="",this.employeNom="",this.employeTelephone="",this.employePiece="",this.employeNumPiece="",this.employeGenre="",this.employePoste="",this.employeSituationMatrimo="",this.employeId="12345",this.periode="Mai 2024",this.dateNaissance="",this.lieuNaissance="",this.nombreEnfant="",this.dette=0,this.gratification=0,this.salaireBase=0,this.chiffreAffairekine=0,this.chiffreAffairedoctor=0,this.chiffreAffaireTotal=0,this.pourcentage=0,this.venteautrebureau=0,this.pourcentagecakine=0,this.heuresSupplementaires=200,this.pret=0,this.congesPayes=150,this.totalBrut=this.salaireBase*this.pourcentage/100,this.salaireNet=this.totalBrut-this.dette+this.gratification,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getSingleEmployer(),this.chiffreAffaireMois(),this.getSingleDoctorWeekendy()}getSingleEmployer(){}getSingleDoctorWeekendy(){this.id=this.route.snapshot.paramMap.get("id"),this.weekendyService.geSingleWeekendiesByDoctor(this.id).subscribe(t=>{this.idDoctor=t.doctorId._id,this.employeNom=t.doctorId.nom+" "+t.doctorId.prenom,this.dateNaissance=t.doctorId.date_naiss,this.dateNaissance=(0,oe.Z)(new Date(t.doctorId.date_naiss),"dd/MM/yyyy"),this.lieuNaissance=t.doctorId.lieu_naiss,this.employeTelephone=t.doctorId.telephone,this.employePiece=t.doctorId.piece,this.employeNumPiece=t.doctorId.num_piece,this.employeGenre=t.doctorId.genre,this.employeSituationMatrimo=t.doctorId.situation_matrimonial,this.employePoste=t.doctorId.grade,this.chiffreAffairedoctor=t.caTotal,this.chiffreAffaireTotal=this.chiffreAffairedoctor+this.venteautrebureau+this.chiffreAffairekine*this.pourcentagecakine/100,this.totalBrut=this.chiffreAffaireTotal*this.pourcentage/100+this.salaireBase,this.salaireNet=this.totalBrut-this.dette+this.gratification})}chiffreAffaireMois(){const t={mois:this.month,annee:this.year};console.log("formdata",t),this.patientService.getSinglecakine(t).subscribe(i=>{this.chiffreAffairekine=i.chiffreAff,this.salaireBase=this.chiffreAffairekine*this.pourcentage,console.log("data",i)})}calculCaAutreBure(t){this.chiffreAffaireTotal=this.chiffreAffairedoctor+this.venteautrebureau+this.chiffreAffairekine*this.pourcentagecakine,this.totalBrut=this.chiffreAffaireTotal*this.pourcentage/100+this.salaireBase,this.salaireNet=this.totalBrut-this.dette+this.gratification}calculcatotal(t){console.log(t.target.value),console.log("ca kine",this.chiffreAffairekine*this.pourcentagecakine/100),this.chiffreAffaireTotal=this.chiffreAffairedoctor+this.venteautrebureau+this.chiffreAffairekine*this.pourcentagecakine,this.totalBrut=this.chiffreAffaireTotal*this.pourcentage/100+this.salaireBase,this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("brut",this.totalBrut),console.log("net",this.salaireNet)}calculsalairebase(t){this.totalBrut=this.salaireBase+this.chiffreAffaireTotal*this.pourcentage/100}calculbrut(t){console.log(t.target.value),this.totalBrut=this.chiffreAffaireTotal*this.pourcentage/100+this.salaireBase,this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("brut",this.totalBrut)}calculnet(t){console.log(t.target.value),this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("net",this.salaireNet)}calculgratis(t){console.log("gratification",t.target.value),this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("net",this.salaireNet)}generatePDF(){this.weekendyService.createDoctorSalary({employerId:this.idDoctor,chiffreAff:this.chiffreAffairedoctor,chiffAffkine:this.chiffreAffairekine,partcakine:this.pourcentagecakine,venteAutrebureau:this.venteautrebureau,caTotal:this.chiffreAffaireTotal,pourcentage:this.pourcentage,salairebase:this.salaireBase,salairebrut:this.totalBrut,dette:this.dette,gratification:this.gratification,salairenet:this.salaireNet,mois:this.month,annee:this.year,date_created:this.now}).subscribe(i=>{200==i.status?(this.toastrService.success(i.message),this.pdfConfig()):this.toastrService.error(i.message)})}pdfConfig(){const t=new F.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),g()(t,{startY:65,body:[["Bulletin de Paie"]],theme:"plain",styles:{halign:"center",textColor:"#FFFFFF",fontStyle:"bold",fontSize:18},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"}}}),g()(t,{startY:70,head:[["Informations sur l'employ\xe9","Informations sur la paie"]],body:[[`Nom: ${this.employeNom}`,"P\xe9riode: "+this.month+" "+this.year],[`Date de naissance: ${this.dateNaissance}`,""],[`Lieu de Naissance: ${this.lieuNaissance}`," "],[`T\xe9l\xe9phone: ${this.employeTelephone}`," "],[`Type de pi\xe8ce: ${this.employePiece}`," "],[`Num\xe9ro de la pi\xe8ce: ${this.employeNumPiece}`," "],[`Genre: ${this.employeGenre}`," "],[`Situation matrimoniale: ${this.employeSituationMatrimo}`," "],["N\xb0 Matricule: "," "]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#FFFFFF",textColor:"#000000",fontStyle:"bolditalic",fontSize:14},tableLineWidth:1}),g()(t,{head:[["Description","Montant (en FCFA)"]],body:[["Chiffre d'affaire",`${this.chiffreAffairedoctor.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Chiffre d'affaire Kin\xe9",`${this.chiffreAffairekine.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Vente autre bureau",`${this.venteautrebureau.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["CA Total",`${this.chiffreAffaireTotal.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Pourcentage sur la base de ca total",`${this.pourcentage}%`],["Salire de base",`${this.salaireBase.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Salire Brut",`${this.totalBrut.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Retenue de dette",`${this.dette}`],["Gratification",`${this.gratification.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Total Net",`${this.salaireNet.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`]],theme:"plain",styles:{halign:"center",textColor:"#070707",fontStyle:"bold",fontSize:12},headStyles:{halign:"right",fillColor:"#535355",textColor:"#FFFFFF"},tableLineWidth:.1,columnStyles:{0:{halign:"left"},1:{halign:"right"}}}),g()(t,{body:[[{content:`Signature du comptable\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature du kin\xe9\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(f._W),e.Y36(L.x),e.Y36(Y.g),e.Y36(z.e),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll-doctor"]],decls:105,vars:24,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-primary",3,"routerLink"],[1,"container-fluid","pt-2","mb-5"],[1,"row"],[1,"col-md-12"],[1,"card","border-secondary"],[1,"card-body"],[1,"container","pay-slip"],[1,"pay-slip-header"],[1,"pay-slip-body"],[1,"col-md-6"],[1,"table","table-bordered","mt-4"],[1,"thead-light"],["type","number",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-md-11"],["type","number","step",".1",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-md-1"],["type","hidden",3,"ngModel","ngModelChange"],[1,"font-weight-bold"],[1,"text-right","mb-4"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h2"),e._uU(14,"Bulletin de Paie"),e.qZA()(),e.TgZ(15,"div",10)(16,"div",4)(17,"div",11)(18,"h5"),e._uU(19,"Informations sur l'employ\xe9"),e.qZA(),e.TgZ(20,"p"),e._uU(21),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA()(),e.TgZ(24,"div",11)(25,"h5"),e._uU(26,"Informations sur la paie"),e.qZA(),e.TgZ(27,"p"),e._uU(28),e.qZA(),e.TgZ(29,"p"),e._uU(30),e.qZA()()(),e.TgZ(31,"table",12)(32,"thead",13)(33,"tr")(34,"th"),e._uU(35,"Description"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Montant (en FCFA)"),e.qZA()()(),e.TgZ(38,"tbody")(39,"tr")(40,"td"),e._uU(41,"Chiffre d'affaire du docteur"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA()(),e.TgZ(44,"tr")(45,"td"),e._uU(46,"Chiffre d'affaire du kin\xe9"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.qZA()(),e.TgZ(49,"tr")(50,"td"),e._uU(51,"Vente de autre bureau"),e.qZA(),e.TgZ(52,"td")(53,"input",14),e.NdJ("ngModelChange",function(a){return i.venteautrebureau=a})("change",function(a){return i.calculCaAutreBure(a)}),e.qZA()()(),e.TgZ(54,"tr")(55,"td"),e._uU(56,"Part du CA du kin\xe9"),e.qZA(),e.TgZ(57,"td")(58,"div",4)(59,"div",15)(60,"input",16),e.NdJ("ngModelChange",function(a){return i.pourcentagecakine=a})("change",function(a){return i.calculcatotal(a)}),e.qZA()()()()(),e.TgZ(61,"tr")(62,"td"),e._uU(63,"Chiffre d'affaire"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.qZA()(),e.TgZ(66,"tr")(67,"td"),e._uU(68,"Salaire de base"),e.qZA(),e.TgZ(69,"td")(70,"input",14),e.NdJ("ngModelChange",function(a){return i.salaireBase=a})("change",function(a){return i.calculsalairebase(a)}),e.qZA()()(),e.TgZ(71,"tr")(72,"td"),e._uU(73,"Pourcentage sur CA TOTAL la base"),e.qZA(),e.TgZ(74,"td")(75,"div",4)(76,"div",15)(77,"input",14),e.NdJ("ngModelChange",function(a){return i.pourcentage=a})("change",function(a){return i.calculbrut(a)}),e.qZA()(),e.TgZ(78,"div",17),e._uU(79,"%"),e.qZA()()()(),e.TgZ(80,"tr")(81,"td"),e._uU(82,"Salire Brut"),e.qZA(),e.TgZ(83,"td")(84,"input",18),e.NdJ("ngModelChange",function(a){return i.totalBrut=a}),e.qZA(),e._uU(85),e.qZA()(),e.TgZ(86,"tr")(87,"td"),e._uU(88,"Retenue de dette"),e.qZA(),e.TgZ(89,"td")(90,"input",14),e.NdJ("ngModelChange",function(a){return i.dette=a})("change",function(a){return i.calculnet(a)}),e.qZA()()(),e.TgZ(91,"tr")(92,"td"),e._uU(93,"Gratification"),e.qZA(),e.TgZ(94,"td")(95,"input",14),e.NdJ("ngModelChange",function(a){return i.gratification=a})("change",function(a){return i.calculgratis(a)}),e.qZA()()(),e.TgZ(96,"tr")(97,"td",19),e._uU(98,"Total Net"),e.qZA(),e.TgZ(99,"td",19)(100,"input",18),e.NdJ("ngModelChange",function(a){return i.salaireNet=a}),e.qZA(),e._uU(101),e.qZA()()()()(),e.TgZ(102,"div",20)(103,"button",21),e.NdJ("click",function(){return i.generatePDF()}),e._uU(104,"Imprimer"),e.qZA()()()()()()()()()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.VKq(22,Pi,i.idDoctor)),e.xp6(2),e.hij(" ",e.lcZ(5,20,"PaiementSalairedoctor")," "),e.xp6(17),e.hij("Nom: ",i.employeNom,""),e.xp6(2),e.hij("Poste: ",i.employePoste,""),e.xp6(5),e.AsE("P\xe9riode: ",i.month," ",i.year,""),e.xp6(2),e.hij("Date d'\xe9mission: ",i.date,""),e.xp6(13),e.Oqu(i.chiffreAffairedoctor),e.xp6(5),e.Oqu(i.chiffreAffairekine),e.xp6(5),e.Q6J("ngModel",i.venteautrebureau),e.xp6(7),e.Q6J("ngModel",i.pourcentagecakine),e.xp6(5),e.Oqu(i.chiffreAffaireTotal),e.xp6(5),e.Q6J("ngModel",i.salaireBase),e.xp6(7),e.Q6J("ngModel",i.pourcentage),e.xp6(7),e.Q6J("ngModel",i.totalBrut),e.xp6(1),e.hij(" ",i.totalBrut," FCFA "),e.xp6(5),e.Q6J("ngModel",i.dette),e.xp6(5),e.Q6J("ngModel",i.gratification),e.xp6(5),e.Q6J("ngModel",i.salaireNet),e.xp6(1),e.hij(" ",i.salaireNet," FCFA "))},dependencies:[c.rH,l.Fj,l.wV,l.JJ,l.On,u.X$]}),n})();const ae=function(){return{standalone:!0}};let Qi=(()=>{class n{constructor(t,i,o,a,s,d){this.route=t,this.toastrService=i,this.employeService=o,this.patientService=a,this.salaireService=s,this.translateService=d,this.id="",this.months=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.months[this.now.getMonth()],this.moisDe="",this.anneeDe="",this.year=this.now.getFullYear(),this.moisList=[],this.anneeList=[],this.dropdownSettings={},this.dropdownSettingsAnnee={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.idCa="",this.entreprise="TSW CI",this.salairemois="",this.salaireannee="",this.annee="",this.employeNom="",this.employeTelephone="",this.employePiece="",this.employeNumPiece="",this.employeGenre="",this.employePoste="",this.employeSituationMatrimo="",this.employeId="12345",this.periode="Mai 2024",this.dateNaissance="",this.lieuNaissance="",this.nombreEnfant="",this.dette=0,this.gratification=0,this.salaireBase=0,this.chiffreAffaire=0,this.pourcentage=0,this.heuresSupplementaires=200,this.pret=0,this.congesPayes=150,this.totalBrut=this.salaireBase*this.pourcentage/100,this.salaireNet=this.totalBrut-this.dette+this.gratification,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getALLmois(),this.getALLannee(),this.getSingleEmployer(),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"valueMois",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getSingleEmployer(){this.id=this.route.snapshot.paramMap.get("id"),this.employeService.singleEmployer(this.id).subscribe(t=>{this.employeNom=t.nom+" "+t.prenom,this.dateNaissance=t.date_naiss,this.dateNaissance=(0,oe.Z)(new Date(t.date_naiss),"dd/MM/yyyy"),this.lieuNaissance=t.lieu_naiss,this.employeTelephone=t.telephone,this.employePiece=t.piece,this.employeNumPiece=t.num_piece,this.employeGenre=t.genre,this.employeSituationMatrimo=t.situation_matrimonial,this.employePoste=t.grade})}chiffreAffaireMois(){const t={mois:this.month,annee:this.year};console.log("formdata",t),this.patientService.getSinglecakine(t).subscribe(i=>{this.chiffreAffaire=i.chiffreAff,this.salaireBase=this.chiffreAffaire*this.pourcentage,console.log("data",i)})}calculbrut(t){console.log(t.target.value),this.totalBrut=this.chiffreAffaire*this.pourcentage/100,this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("brut",this.totalBrut),console.log("net",this.salaireNet)}calculnet(t){console.log(t.target.value),this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("net",this.salaireNet)}calculgratis(t){console.log("gratification",t.target.value),this.salaireNet=this.totalBrut-this.dette+this.gratification,console.log("net",this.salaireNet)}generatePDF(){this.id=this.route.snapshot.paramMap.get("id");const t={employerId:this.id,chiffreAff:this.chiffreAffaire,pourcentage:this.pourcentage,salairebrut:this.totalBrut,dette:this.dette,gratification:this.gratification,salairenet:this.salaireNet,mois:this.mois,annee:this.annee,date_created:this.now};console.log(t),this.patientService.createsalaire(this.id,t).subscribe(i=>{200==i.status?this.patientService.UpdateSatusCakine(this.idCa,{chiffreAff:this.chiffreAffaire,mois:this.mois,annee:this.annee,status:"mois pay\xe9"}).subscribe(a=>{console.log(a),200==a.status?(this.toastrService.success(a.message),this.pdfConfig()):this.toastrService.error(a.message)}):this.toastrService.error(i.message)})}pdfConfig(){const t=new F.default;t.addImage("assets/logotsw.png","PNG",10,10,30,30);const s=t.internal.pageSize.width/2;t.setFont("Arial","bold"),t.setFontSize(72),t.setTextColor("#161E94"),t.text("TSW-CI",40,30),t.setFont("Arial","bold"),t.setFontSize(12),t.text("SARL",s+18,35),t.setFont("Arial","bold"),t.setFontSize(12),t.text("Abidjan Marcory cit\xe9 Hibiscus",s+35,22),t.text("Villa 189, 10 BP 3450 Abidjan 10",s+35,28),t.text("27 21 26 14 11/ 05 54 54 30 98",s+35,34),t.setFont("Arial","bold"),t.setFontSize(14),t.text("Total Success World",50,40),t.setFont("Arial","normal"),t.setFontSize(12),t.text("Distribution et vente d'alicaments",55,45),t.text("Prestation de services param\xe9dicaux",55,50),t.setFillColor("#0E19DE"),t.text("BULLETIN DE PAIE: ",s+30,60),t.text(this.moisDe+" "+this.anneeDe,s+30,65),t.setTextColor("#030638"),t.setFont("Arial","bold"),t.setFontSize(14),t.text("DE: "+this.employeNom,30,80),g()(t,{startY:85,body:[["Bulletin de Paie"]],theme:"plain",styles:{halign:"center",textColor:"#FFFFFF",fontStyle:"bold",fontSize:18},headStyles:{fillColor:"#334CFF"},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:"#334CFF",tableLineWidth:.1,columnStyles:{0:{fillColor:"#334CFF"},1:{fillColor:"#121212"}}}),g()(t,{startY:100,head:[["Informations sur l'employ\xe9","Informations sur la paie"]],body:[[`Nom: ${this.employeNom}`,`P\xe9riode de: ${Number(this.month)-1+" "+this.year} ${Number(this.month)+" "+this.year}`],[`Date de naissance: ${this.dateNaissance}`,""],[`Lieu de Naissance: ${this.lieuNaissance}`," "],[`T\xe9l\xe9phone: ${this.employeTelephone}`," "],[`Type de pi\xe8ce: ${this.employePiece}`," "],[`Num\xe9ro de la pi\xe8ce: ${this.employeNumPiece}`," "],[`Genre: ${this.employeGenre}`," "],[`Situation matrimoniale: ${this.employeSituationMatrimo}`," "],["N\xb0 Matricule: "," "]],theme:"plain",styles:{halign:"left"},headStyles:{fillColor:"#FFFFFF",textColor:"#000000",fontStyle:"bolditalic",fontSize:14},tableLineWidth:1}),g()(t,{head:[["Description","Montant (en FCFA)"]],body:[["Chiffre d'affaire",`${this.chiffreAffaire.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Pourcentage sur la base",`${this.pourcentage}%`],["Salire Brut",`${this.dette.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Retenue de dette",""],["Gratification",`${this.gratification.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`],["Total Net",`${this.salaireNet.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}`]],theme:"plain",styles:{halign:"center",textColor:"#070707",fontStyle:"bold",fontSize:12},headStyles:{halign:"right",fillColor:"#535355",textColor:"#FFFFFF"},tableLineWidth:.1,columnStyles:{0:{halign:"left"},1:{halign:"right"}}}),g()(t,{body:[[{content:`Signature du comptable\n\n\n\nfait le: ${this.date}`,styles:{halign:"left"}},{content:"Signature du kin\xe9\n",styles:{halign:"right"}}]],theme:"plain"}),t.save("bulletin_paie.pdf")}getALLmois(){this.salaireService.getAllMois().subscribe(t=>{this.moisList=t,console.log(this.moisList)})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onItemSelect(t){this.mois=t._id,this.moisDe=t.valueMois,console.log("onItemSelect",this.mois)}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectAnnee(t){this.annee=t._id,this.anneeDe=t.value,console.log("ann\xe9e",this.annee);const i={mois:this.mois,annee:this.annee};console.log(i),this.patientService.getSinglecakine(i).subscribe(o=>{this.chiffreAffaire=o.chiffreAff,this.idCa=o._id,this.salaireBase=this.chiffreAffaire*this.pourcentage,console.log("data",o)})}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.gz),e.Y36(f._W),e.Y36(Y.g),e.Y36(z.e),e.Y36(C.o),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-payroll-kine"]],decls:79,vars:29,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/chiffre-d-affaire-kine",1,"btn","btn-primary"],[1,"container","pay-slip"],["pdfContent",""],[1,"card-header","pay-slip-header"],[1,"card-body","pay-slip-body"],[1,"row"],[1,"col-md-6"],[1,"col-md-5"],["id","salairemois",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"col-md-4"],["id","salaireannee",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"table","table-bordered","mt-4"],[1,"thead-light"],[1,"col-md-11"],["type","number",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-md-1"],["type","hidden",3,"ngModel","ngModelChange"],[1,"font-weight-bold"],[1,"text-right","mb-4"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3,4)(8,"div",5)(9,"h2"),e._uU(10,"Bulletin de Paie"),e.qZA()(),e.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"h5"),e._uU(15,"Informations sur l'employ\xe9"),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA()(),e.TgZ(20,"div",8)(21,"h5"),e._uU(22,"Informations sur la paie"),e.qZA(),e.TgZ(23,"div",7),e._uU(24),e.ALo(25,"translate"),e.TgZ(26,"div",9)(27,"ng-multiselect-dropdown",10),e.NdJ("ngModelChange",function(a){return i.salairemois=a})("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(a){return i.onItemSelect(a)})("onDeSelect",function(a){return i.onItemDeSelect(a)}),e.qZA()(),e.TgZ(28,"div",11)(29,"ng-multiselect-dropdown",12),e.NdJ("ngModelChange",function(a){return i.salaireannee=a})("onDropDownClose",function(){return i.onDropDownCloseAnnee()})("onSelect",function(a){return i.onItemSelectAnnee(a)})("onDeSelect",function(a){return i.onItemDeSelectAnnee(a)}),e.qZA()()(),e.TgZ(30,"p"),e._uU(31),e.qZA()()(),e.TgZ(32,"table",13)(33,"thead",14)(34,"tr")(35,"th"),e._uU(36,"Description"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Montant (en FCFA)"),e.qZA()()(),e.TgZ(39,"tbody")(40,"tr")(41,"td"),e._uU(42,"Chiffre d'affaire"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA()(),e.TgZ(45,"tr")(46,"td"),e._uU(47,"Pourcentage sur la base"),e.qZA(),e.TgZ(48,"td")(49,"div",7)(50,"div",15)(51,"input",16),e.NdJ("ngModelChange",function(a){return i.pourcentage=a})("change",function(a){return i.calculbrut(a)}),e.qZA()(),e.TgZ(52,"div",17),e._uU(53,"%"),e.qZA()()()(),e.TgZ(54,"tr")(55,"td"),e._uU(56,"Salire Brut"),e.qZA(),e.TgZ(57,"td")(58,"input",18),e.NdJ("ngModelChange",function(a){return i.totalBrut=a}),e.qZA(),e._uU(59),e.qZA()(),e.TgZ(60,"tr")(61,"td"),e._uU(62,"Retenue de dette"),e.qZA(),e.TgZ(63,"td")(64,"input",16),e.NdJ("ngModelChange",function(a){return i.dette=a})("change",function(a){return i.calculnet(a)}),e.qZA()()(),e.TgZ(65,"tr")(66,"td"),e._uU(67,"Gratification"),e.qZA(),e.TgZ(68,"td")(69,"input",16),e.NdJ("ngModelChange",function(a){return i.gratification=a})("change",function(a){return i.calculgratis(a)}),e.qZA()()(),e.TgZ(70,"tr")(71,"td",19),e._uU(72,"Total Net"),e.qZA(),e.TgZ(73,"td",19)(74,"input",18),e.NdJ("ngModelChange",function(a){return i.salaireNet=a}),e.qZA(),e._uU(75),e.qZA()()()()(),e.TgZ(76,"div",20)(77,"button",21),e.NdJ("click",function(){return i.generatePDF()}),e._uU(78,"Imprimer"),e.qZA()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,23,"PaiementSalairekine")," "),e.xp6(13),e.hij("Nom: ",i.employeNom,""),e.xp6(2),e.hij("Poste: ",i.employePoste,""),e.xp6(5),e.hij(" ",e.lcZ(25,25,"MoisDe"),": "),e.xp6(3),e.Q6J("data",i.moisList)("ngModel",i.salairemois)("disabled",i.disabled)("settings",i.dropdownSettings)("ngModelOptions",e.DdM(27,ae)),e.xp6(2),e.Q6J("data",i.anneeList)("ngModel",i.salaireannee)("disabled",i.disabled)("settings",i.dropdownSettingsAnnee)("ngModelOptions",e.DdM(28,ae)),e.xp6(2),e.hij("Date d'\xe9mission: ",i.date,""),e.xp6(13),e.Oqu(i.chiffreAffaire),e.xp6(7),e.Q6J("ngModel",i.pourcentage),e.xp6(7),e.Q6J("ngModel",i.totalBrut),e.xp6(1),e.hij(" ",i.totalBrut," FCFA "),e.xp6(5),e.Q6J("ngModel",i.dette),e.xp6(5),e.Q6J("ngModel",i.gratification),e.xp6(5),e.Q6J("ngModel",i.salaireNet),e.xp6(1),e.hij(" ",i.salaireNet," FCFA "))},dependencies:[c.rH,l.Fj,l.wV,l.JJ,l.On,M.OP,u.X$],styles:[".pay-slip[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:5px}.pay-slip-header[_ngcontent-%COMP%], .pay-slip-footer[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.pay-slip-body[_ngcontent-%COMP%]{margin-bottom:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}"]}),n})();var re=m(982);class ji{constructor(){this.quantity=0}}const G=function(n){return{"is-invalid":n}};function Ri(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",32)(2,"input",33,34),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.name=o)}),e.qZA()(),e.TgZ(4,"td")(5,"input",35,36),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.qty=o)})("input",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.addItem(a,a.qty))}),e.qZA()(),e.TgZ(7,"td")(8,"input",37,38),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.price=o)}),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&n){const t=r.$implicit,i=r.index,o=e.MAs(3),a=e.MAs(6),s=e.MAs(9);e.oxw();const d=e.MAs(10);e.xp6(2),e.MGl("name","productName[",i,"]"),e.Q6J("ngClass",e.VKq(9,G,d.submitted&&o.invalid))("ngModel",t.name),e.xp6(3),e.Q6J("ngClass",e.VKq(11,G,d.submitted&&a.invalid))("ngModel",t.qty),e.xp6(3),e.MGl("name","price[",i,"]"),e.Q6J("ngClass",e.VKq(13,G,d.submitted&&s.invalid))("ngModel",t.price),e.xp6(3),e.hij(" ",t.price*t.qty||0," ")}}const Wi=function(n){return["/accounting/vente-by-doctor",n]},se=function(){return{standalone:!0}},j="weekendy";let $i=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v,k,D){this.fb=t,this.route=o,this.router=a,this.agenceService=s,this.employeService=d,this.productService=p,this.weekendyService=b,this.toastrService=v,this.salaireService=k,this.translateService=D,this.submitted=!1,this.myDate=Date.now(),this.dropdownSettings={},this.dropdownSettingsAnnee={},this.dropdownSettingsDoctor={},this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.listProducts=[],this.listBureau=[],this.loading=!0,this.liveDemoVisible=!1,this.subscribers=new Array,this.chiffreAf=0,this.hoveredDate=null,this.toDate=null,this.weekend=new re.O,this.dtoptions={},this.dtTrigger=new Z.x,this.moisList=[],this.doctorList=[],this.anneeList=[],this.keyLanguage="userLanguage",this.WEEKENDY_DOCTEUR_KEY="weekendy",this.translateService.use(localStorage.getItem(this.keyLanguage)),this.fromDate=i.getToday(),this.toDate=i.getNext(i.getToday(),"d",30)}get(){return this.subscriptionObservable=new H.y(t=>(this.subscribers.push(t),t.next(this.retrieve()),()=>{this.subscribers=this.subscribers.filter(i=>i!==t)}))}ngOnInit(){this.getBureau(),this.getAllProducts(),this.getDoctor(),this.getALLmois(),this.getAllannee(),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"valueMois",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSettingsDoctor={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getBureau(){this.agenceService.siegeBureau("TSW-CI").subscribe({next:i=>{this.agence=i.bureau_name,this.bureauId=i._id,console.log(i)},error:i=>{console.log(i),this.loading=!1}})}getALLmois(){this.salaireService.getAllMois().subscribe(t=>{this.moisList=t,console.log(this.moisList)})}getAllannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}getAlldoctor(){this.employeService.getAllDoctor().subscribe(t=>{this.doctorList=t,console.log(this.doctorList)})}getAllProducts(){this.productService.getAllProducts().subscribe({next:t=>{this.listProducts=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}create(t){this.submitted=!0,console.log("form",t.value);const i={bureauId:this.bureauId,doctorId:this.doctorId,mois:this.mois,annee:this.annee,items:JSON.parse(localStorage.getItem(j)).items,caTotal:JSON.parse(localStorage.getItem(j)).caTotal,createdAt:Date()};console.log("formData",i),this.weekendyService.createWeekendyDocteur(i).subscribe({next:o=>{console.log(o),this.toastrService.success("Le information a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(localStorage.removeItem(j),window.location.reload(),this.router.navigate(["/accounting/vente-by-doctor",this.doctorId]),this.buttonloading=!1)},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}})}empty(){const t=new re.O;this.save(t),this.dispatch(t)}addItem(t,i){console.log("product==> ",t);const o=this.retrieve();let a=o.items.find(s=>s.productId===t._id);void 0===a&&(a=new ji,a.productId=t._id,o.items.push(a),console.log("weekendy==> ",o)),a.quantity=i,o.items=o.items.filter(s=>s.quantity>0),this.calculateCart(o),this.save(o),this.dispatch(o),this.getvaluemontant()}calculateCart(t){console.log("monthen",t),t.caTotal=t.items.map(i=>i.quantity*this.listProducts.find(o=>o._id===i.productId).price).reduce((i,o)=>i+o,0)}retrieve(){const t=new J.O,i=localStorage.getItem(this.WEEKENDY_DOCTEUR_KEY);return i&&t.updateFrom(JSON.parse(i)),t}save(t){localStorage.setItem(this.WEEKENDY_DOCTEUR_KEY,JSON.stringify(t))}dispatch(t){this.subscribers.forEach(i=>{try{i.next(t)}catch{}})}getlocaldata(){return this.ValeurMontant=localStorage.getItem(this.WEEKENDY_DOCTEUR_KEY),console.log(this.ValeurMontant),this.ValeurMontant}getvaluemontant(){this.chiffreAf=JSON.parse(localStorage.getItem(j)).caTotal}onItemSelect(t){this.mois=t._id,console.log("onItemSelect",this.mois)}onItemDeSelect(t){console.log("onItem DeSelect",t)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSelectAnnee(t){this.annee=t._id,console.log("ann\xe9e",this.annee)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}onItemSelectDoctor(t){this.doctorId=t._id,console.log("docteur",this.doctorId)}onItemDeSelectDoctor(t){console.log("onItem DeSelect",t)}onDropDownCloseDoctor(){console.log("dropdown closed")}toogleShowAllDoctor(){this.showAll=!this.showAll,this.dropdownSettingsDoctor=Object.assign({},this.dropdownSettingsDoctor,{enableCheckAll:this.showAll})}toogleShowFilterDoctor(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsDoctor=Object.assign({},this.dropdownSettingsDoctor,{allowSearchFilter:this.ShowFilter})}getDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),console.log(this.doctorId),this.employeService.singleEmployer(this.doctorId).subscribe({next:t=>{this.doctor=t.nom,this.doctorId=t._id,console.log(this.doctor),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}annuler(){this.router.navigate(["/accounting/vente-by-doctor",this.doctorId])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(P.vL),e.Y36(c.gz),e.Y36(c.F0),e.Y36(y.q),e.Y36(Y.g),e.Y36(U.M),e.Y36(L.x),e.Y36(f._W),e.Y36(C.o),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-vente-doctor"]],decls:102,vars:70,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit"],["weekendyForm","ngForm"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"container-fluid","pt-2","mb-5"],[1,"card","border-secondary"],[1,"card-body"],[1,"card-title"],[1,"col-md-3"],[1,"form-group"],["for","name"],["type","hidden","name","bureauId","id","bureauId",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"form-control"],["for","doctor"],["type","text",1,"form-control",3,"value"],["for","mois"],["id","weekendy_mois",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],["for","annee"],["id","annee",3,"data","ngModel","disabled","settings","ngModelOptions","ngModelChange","onDropDownClose","onSelect","onDeSelect"],[1,"card","border-secondary","mt-2"],[1,"card-title","d-flex","justify-content-between"],[1,"table"],["width","25%"],[4,"ngFor","ngForOf"],[1,"table","table-sm","table-dark"],["scope","col"],["scope","row"],["type","text","id","productName","required","","readonly","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductName","ngModel"],["type","number","name","qty","id","qty","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange","input"],["ProductQty","ngModel"],["type","number","id","price","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductPrice","ngModel"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(o);const s=e.MAs(10);return e.KtG(i.create(s))}),e.TgZ(11,"button",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",9),e.NdJ("click",function(){return i.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",10)(19,"div",4)(20,"div",5)(21,"div",11)(22,"div",12),e._UZ(23,"h4",13),e.TgZ(24,"div",4)(25,"div",14)(26,"div",15)(27,"label",16),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(s){return i.weekend.bureauId=s}),e.qZA(),e.TgZ(31,"label",18),e._uU(32),e.qZA()()(),e.TgZ(33,"div",14)(34,"div",15)(35,"label",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",20),e.qZA()(),e.TgZ(39,"div",14)(40,"div",15)(41,"label",21),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"ng-multiselect-dropdown",22),e.NdJ("ngModelChange",function(s){return i.weekend.weekendy_mois=s})("onDropDownClose",function(){return i.onDropDownClose()})("onSelect",function(s){return i.onItemSelect(s)})("onDeSelect",function(s){return i.onItemDeSelect(s)}),e.qZA()()(),e.TgZ(45,"div",14)(46,"div",15)(47,"label",23),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"ng-multiselect-dropdown",24),e.NdJ("ngModelChange",function(s){return i.weekend.annee=s})("onDropDownClose",function(){return i.onDropDownCloseAnnee()})("onSelect",function(s){return i.onItemSelectAnnee(s)})("onDeSelect",function(s){return i.onItemDeSelectAnnee(s)}),e.qZA()()()()()(),e.TgZ(51,"div",25)(52,"div",12)(53,"h4",26),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"div",4)(57,"table",27)(58,"thead")(59,"tr")(60,"th",28),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"th",28),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"th",28),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"th",28),e._uU(70),e.ALo(71,"translate"),e.qZA()()(),e.TgZ(72,"tbody"),e.YNc(73,Ri,12,15,"tr",29),e.qZA()()()()()()()()(),e.TgZ(74,"div",4)(75,"div",5)(76,"div",25)(77,"div",12)(78,"h4",13),e._uU(79),e.ALo(80,"translate"),e.qZA(),e._UZ(81,"div",15),e.TgZ(82,"table",30)(83,"thead")(84,"tr")(85,"th",31),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"th",31),e._uU(89,"%"),e.qZA(),e.TgZ(90,"th",31),e._uU(91),e.ALo(92,"translate"),e.qZA()()(),e.TgZ(93,"tbody")(94,"tr")(95,"th",32),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"td"),e._uU(99,"..."),e.qZA(),e.TgZ(100,"td"),e._uU(101),e.qZA()()()()()()()()()()()}2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,34,"GestionWeekendy")," "),e.xp6(2),e.Q6J("routerLink",e.VKq(66,Wi,i.doctorId)),e.xp6(7),e.Oqu(e.lcZ(13,36,"Sauver")),e.xp6(4),e.Oqu(e.lcZ(17,38,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(29,40,"NomBureau")),e.xp6(2),e.Q6J("ngModel",i.weekend.bureauId)("value",i.bureauId),e.xp6(2),e.hij(" ",i.agence," "),e.xp6(4),e.Oqu(e.lcZ(37,42,"SelectDoctor")),e.xp6(2),e.s9C("value",i.doctor),e.xp6(4),e.Oqu(e.lcZ(43,44,"MoisDe")),e.xp6(2),e.Q6J("data",i.moisList)("ngModel",i.weekend.weekendy_mois)("disabled",i.disabled)("settings",i.dropdownSettings)("ngModelOptions",e.DdM(68,se)),e.xp6(4),e.Oqu(e.lcZ(49,46,"Annee")),e.xp6(2),e.Q6J("data",i.anneeList)("ngModel",i.weekend.annee)("disabled",i.disabled)("settings",i.dropdownSettingsAnnee)("ngModelOptions",e.DdM(69,se)),e.xp6(4),e.hij(" ",e.lcZ(55,48,"DetailsVente")," "),e.xp6(7),e.Oqu(e.lcZ(62,50,"Produit")),e.xp6(3),e.Oqu(e.lcZ(65,52,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(68,54,"Prix")),e.xp6(3),e.Oqu(e.lcZ(71,56,"Montant")),e.xp6(3),e.Q6J("ngForOf",i.listProducts)("ngForOf",i.weekend.items),e.xp6(6),e.Oqu(e.lcZ(80,58,"DetailsFinanciers")),e.xp6(7),e.Oqu(e.lcZ(87,60,"Libelle")),e.xp6(5),e.Oqu(e.lcZ(92,62,"Montant")),e.xp6(5),e.Oqu(e.lcZ(97,64,"TotalVente")),e.xp6(5),e.Oqu(i.chiffreAf))},dependencies:[c.rH,h.mk,h.sg,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.On,l.F,M.OP,u.X$]}),n})();const zi=function(n){return["/accounting/paiement-doctor",n]};function Gi(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",13),e._UZ(7,"i",14),e.qZA(),e._uU(8,"\xa0 "),e.TgZ(9,"a",7),e._uU(10," payer le salaire du mois "),e.qZA(),e._uU(11,"\xa0 "),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.AsE("",t.mois.valueMois,"- ",t.annee.annee,""),e.xp6(2),e.hij("",t.caTotal," FCFA"),e.xp6(5),e.Q6J("routerLink",e.VKq(4,zi,t._id))}}const Ki=function(n){return["/accounting/create-vente-doctor",n]};let Vi=(()=>{class n{constructor(t,i,o,a,s,d,p){this.agenceService=t,this.route=i,this.employeService=o,this.productService=a,this.weekendyService=s,this.toastrService=d,this.translateService=p,this.doctorId="",this.keyLanguage="userLanguage",this.listWeekendyDocteur=[],this.weekendyItem=[],this.doctorList=[],this.listWeekendy=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getDoctor(),this.getAllweekendyByDoctor(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getAllweekendyByDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),this.doctorId&&this.weekendyService.getAllWeekendiesByDoctor(this.doctorId).subscribe(t=>{this.listWeekendy=t,this.dtTrigger.next(null),this.loading=!1},t=>{console.log(t),this.loading=!1})}getDoctor(){this.doctorId=this.route.snapshot.paramMap.get("id"),console.log(this.doctorId),this.employeService.singleEmployer(this.doctorId).subscribe({next:t=>{this.doctor=t.nom+" "+t.prenom,this.doctorId=t._id,this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.q),e.Y36(c.gz),e.Y36(Y.g),e.Y36(U.M),e.Y36(L.x),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vente-by-doctor"]],decls:29,vars:19,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/vente-docteur",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","btn-success"],[1,"fa","fa-eye"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"Retour"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"h6",6)(10,"a",7),e._UZ(11,"i",8),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Action"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,Gi,12,6,"tr",12),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,9,"GestionWeekendy")," de ",i.doctor," "),e.xp6(7),e.Q6J("routerLink",e.VKq(17,Ki,i.doctorId)),e.xp6(2),e.hij("\xa0",e.lcZ(13,11,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(21,13,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(24,15,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",i.listWeekendy))},dependencies:[c.rH,h.sg,A.G,u.X$]}),n})();const Hi=function(n){return["/accounting/paiement-kine",n]};function Xi(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"a",12)(3,"div",6)(4,"div",13)(5,"div",14)(6,"div",15),e._uU(7),e.qZA()(),e.TgZ(8,"div",16),e._UZ(9,"i",17),e.qZA()()()()()()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(3,Hi,t._id)),e.xp6(5),e.AsE(" ",t.nom," ",t.prenom,"")}}const en=function(n,r){return{"badge badge-danger":n,"badge badge-success":r}};function tn(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",18)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",18)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",18)(8,"span",19),e._uU(9),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.AsE("",t.mois.valueMois," ",t.annee.annee,""),e.xp6(3),e.Oqu(t.chiffreAff),e.xp6(2),e.Q6J("ngClass",e.WLB(5,en,"mois cl\xf4tur\xe9"===t.status,"mois non pay\xe9"===t.status)),e.xp6(1),e.hij(" ",t.status," ")}}let nn=(()=>{class n{constructor(t,i,o,a,s,d,p,b,v){this.patientService=t,this.router=i,this.http=o,this.toastrService=a,this.countryService=s,this.salaireService=d,this.weekendyService=p,this.employeService=b,this.translateService=v,this.listChiffreAffaire=[],this.kineList=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new Z.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllCakine(),this.getAllkine(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllCakine(){this.patientService.AllCakineForcompta().subscribe(t=>{this.listChiffreAffaire=t,this.dtTrigger.next(null)})}cloturermois(t){console.log("value",t),this.patientService.UpdateSatusCakine(t._id,{chiffreAff:t.chiffreAff,mois:t.mois,annee:t.annee,status:"mois pay\xe9"}).subscribe(o=>{console.log(o),200==o.status?(this.toastrService.success(o.message),window.location.reload()):this.toastrService.error(o.message)})}getAllkine(){this.employeService.getAllkine().subscribe(t=>{this.kineList=t,console.log(this.kineList)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.e),e.Y36(c.F0),e.Y36(S.eN),e.Y36(f._W),e.Y36(q.T),e.Y36(C.o),e.Y36(L.x),e.Y36(Y.g),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chiffre-affaire-kine"]],decls:28,vars:16,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-primary"],[1,"card","shadow","mb-4"],[1,"row"],["class","col-xl-3 col-md-3 mb-4",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-3","mb-4"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],[1,"btn",3,"routerLink"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-capsules","fa-2x","text-gray-300"],[1,"text-center"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1)(2,"a",2),e._uU(3,"Retour"),e.qZA(),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"br")(7,"br"),e.TgZ(8,"div",3)(9,"div",4),e.YNc(10,Xi,10,5,"div",5),e.qZA()(),e.TgZ(11,"div",3)(12,"div",6)(13,"div",7)(14,"table",8)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,tn,10,8,"tr",9),e.qZA()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"CHIFFREDAFFAIRE")," "),e.xp6(6),e.Q6J("ngForOf",i.kineList),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(19,10,"Mois")),e.xp6(3),e.Oqu(e.lcZ(22,12,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(25,14,"statutmois")),e.xp6(3),e.Q6J("ngForOf",i.listChiffreAffaire))},dependencies:[c.rH,h.mk,h.sg,A.G,u.X$]}),n})();const on=function(n){return["/accounting/vente-by-doctor",n]};function an(n,r){if(1&n&&(e.TgZ(0,"div",15)(1,"div",16)(2,"a",17)(3,"div",11)(4,"div",18)(5,"div",19)(6,"div",20),e._uU(7),e.qZA()(),e.TgZ(8,"div",21),e._UZ(9,"i",22),e.qZA()()()()()()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(3,on,t._id)),e.xp6(5),e.AsE(" ",t.nom," ",t.prenom,"")}}function rn(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",23),e._UZ(8,"i",24),e.qZA(),e._uU(9,"\xa0 "),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(e.xi3(3,2,t.mois,"MMMM-yyyy")),e.xp6(3),e.hij("",t.caTotal," FCFA")}}const sn=[{path:"",component:de},{path:"weekendy",component:he},{path:"stock-disponible-au-bureau",component:Ni},{path:"expend",component:Ee},{path:"taux-zone",component:vi},{path:"taux-section",component:Li},{path:"settings",component:tt},{path:"paie-prime-sz",component:dt},{path:"paie-prime-sc",component:gi},{path:"weekendys-list/:id",component:st},{path:"payroll/:id",component:Te},{path:"salaire-bureau",component:vt},{path:"list-salaire-du-bureau/:id",component:Ct},{path:"edit-settings/:id",component:Jt},{path:"liste-ca-zone/:id",component:Qt},{path:"liste-ca-section/:id",component:Ji},{path:"garantie-manager",component:gt},{path:"paiement-garantie/:id",component:ki},{path:"vente-docteur",component:(()=>{class n{constructor(t,i,o,a,s,d,p){this.agenceService=t,this.employeService=i,this.productService=o,this.stockService=a,this.weekendyService=s,this.toastrService=d,this.translateService=p,this.bureauId="",this.keyLanguage="userLanguage",this.listWeekendyDocteur=[],this.weekendyItem=[],this.doctorList=[],this.dtoptions={},this.dtTrigger=new Z.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getBureau(),this.getAlldoctor(),console.log(this.bureauId),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getBureau(){this.agenceService.siegeBureau("TSW-CI").subscribe({next:i=>{this.bureauId=i._id,this.weekendyService.docteurWeekendies(this.bureauId).subscribe({next:o=>{for(let s=0;s<o.length;s++){const d={mois:String,caTotal:Number,Listproduits:this.weekendyItem};d.mois=o[s].mois,d.caTotal=o[s].caTotal,console.log("obj",d);for(let p=0;p<o[s].items.length;p++){const b={poductname:String,quantity:Number};this.productService.getSingleProduct(o[s].items[p].productId).subscribe({next:v=>{b.poductname=v.name,b.quantity=o[s].items[p].quantity,this.weekendyItem.push(b)},error:v=>{console.log(v),this.toastrService.error(v.statusText)}})}d.Listproduits=this.weekendyItem,this.listWeekendyDocteur.push(d)}console.log("listWeekendyDocteur",this.listWeekendyDocteur),this.dtTrigger.next(null),console.log("weekendy",this.listWeekendyDocteur)},error:o=>{console.log(o),this.toastrService.error(o.statusText)}})},error:i=>{console.log(i)}})}getAlldoctor(){this.employeService.getAllDoctor().subscribe(t=>{this.doctorList=t,console.log(this.doctorList)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.q),e.Y36(Y.g),e.Y36(U.M),e.Y36(ie.q),e.Y36(L.x),e.Y36(f._W),e.Y36(u.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vente-docteur"]],decls:31,vars:16,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting",1,"btn","btn-outline-primary"],[1,"row"],["class","col-xl-3 col-md-3 mb-4",4,"ngFor","ngForOf"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["routerLink","/docteur/create-vente",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-3","mb-4"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],[1,"btn",3,"routerLink"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-capsules","fa-2x","text-gray-300"],[1,"btn","btn-success"],[1,"fa","fa-eye"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"Retour"),e.qZA()(),e.TgZ(7,"div",4),e.YNc(8,an,10,5,"div",5),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"h6",8)(12,"a",9),e._UZ(13,"i",10),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"table",13)(19,"thead")(20,"tr")(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Action"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,rn,10,5,"tr",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,8,"GestionWeekendy")," "),e.xp6(5),e.Q6J("ngForOf",i.doctorList),e.xp6(6),e.hij("\xa0",e.lcZ(15,10,"EnregistrerWeekendy")," "),e.xp6(4),e.Q6J("dtOptions",i.dtoptions)("dtTrigger",i.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(23,12,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(26,14,"CHIFFREDAFFAIRE")),e.xp6(5),e.Q6J("ngForOf",i.listWeekendyDocteur))},dependencies:[c.rH,h.sg,A.G,h.uU,u.X$]}),n})()},{path:"chiffre-affaire-des-pays",component:Rt},{path:"detail-manager/:id",component:Kt},{path:"detail-weekendy/:id",component:_t},{path:"stock-bureau/:id",component:ni},{path:"category",component:ui},{path:"create-vente-doctor/:id",component:$i},{path:"vente-by-doctor/:id",component:Vi},{path:"paiement-doctor/:id",component:Bi},{path:"paiement-kine/:id",component:Qi},{path:"chiffre-d-affaire-kine",component:nn}];let ln=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(sn),c.Bz]}),n})();var dn=m(1744);function le(n){return new dn.w(n,"./assets/i18n/",".json")}let un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[X],imports:[c.Bz,h.ez,l.UX,l.u5,W.zk.forRoot(),M.ZQ,ln,P.IJ,A.T.forRoot(),u.aw.forRoot({defaultLanguage:"en",loader:{provide:u.Zw,useFactory:le,deps:[S.eN]}})]}),n})()}}]);