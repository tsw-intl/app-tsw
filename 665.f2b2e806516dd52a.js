"use strict";(self.webpackChunktswgestion=self.webpackChunktswgestion||[]).push([[665],{665:(la,P,h)=>{h.r(P),h.d(P,{RhModule:()=>aa,createTranslateLoader:()=>oe});var c=h(6895),m=h(3053),e=h(4650),g=h(1364);let ie=(()=>{class i{constructor(t){this.translateService=t,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rh"]],decls:193,vars:54,consts:[[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-info","border-bottom-info","shadow","h-100","py-2"],["routerLink","/rh/country",1,"btn"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"col-auto"],[1,"fas","fa-clipboard-list","fa-2x","text-gray-300"],[1,"card","border-left-primary","border-bottom-primary","shadow","h-100","py-2"],["routerLink","/rh/zone",1,"btn"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],[1,"card","border-left-danger","border-bottom-danger","shadow","h-100","py-2"],["routerLink","/rh/section",1,"btn"],[1,"text-xs","font-weight-bold","text-danger","text-uppercase","mb-1"],[1,"card","border-left-dark","border-bottom-dark","shadow","h-100","py-2"],["routerLink","/rh/bureau",1,"btn"],[1,"card","border-left-success","border-bottom-success","shadow","h-100","py-2"],["routerLink","/rh/manager",1,"btn"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-persons","fa-2x","text-gray-300"],[1,"card","border-left-warning","border-bottom-warning","shadow","h-100","py-2"],["routerLink","/rh/affectation",1,"btn"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-comments","fa-2x","text-gray-300"],[1,"card","border-left-secondary","border-bottom-secondary","shadow","h-100","py-2"],["routerLink","/rh/mission",1,"btn"],["routerLink","/rh/employers",1,"btn"],[1,"fas","fa-person","fa-2x","text-gray-300"],["routerLink","/rh/conge",1,"btn"],["routerLink","/rh/superviseur-zone",1,"btn"],[1,"text-xs","font-weight-bold","text-secondary","text-uppercase","mb-1"],["routerLink","/rh/chef-section",1,"btn"],["routerLink","/rh/rendement-national",1,"btn"],["routerLink","/rh/liste-zone-pour-ca",1,"btn"],["routerLink","/rh/rendement-bureau",1,"btn"],["routerLink","/rh/localisation-bureau",1,"btn"],["routerLink","/rh/commissaires",1,"btn"],["routerLink","/rh/liste-assistant-manager-a10",1,"btn"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.qZA()()()()()(),e.TgZ(17,"div",4)(18,"div",13)(19,"a",14)(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",15),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11),e._UZ(27,"i",16),e.qZA()()()()()(),e.TgZ(28,"div",4)(29,"div",17)(30,"a",18)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",19),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",11),e._UZ(38,"i",16),e.qZA()()()()()(),e.TgZ(39,"div",4)(40,"div",20)(41,"a",21)(42,"div",7)(43,"div",8)(44,"div",9)(45,"div",15),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",11),e._UZ(49,"i",16),e.qZA()()()()()(),e.TgZ(50,"div",4)(51,"div",22)(52,"a",23)(53,"div",7)(54,"div",8)(55,"div",9)(56,"div",24),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",11),e._UZ(60,"i",25),e.qZA()()()()()(),e.TgZ(61,"div",4)(62,"div",26)(63,"a",27)(64,"div",7)(65,"div",8)(66,"div",9)(67,"div",28),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",11),e._UZ(71,"i",29),e.qZA()()()()()(),e.TgZ(72,"div",4)(73,"div",30)(74,"a",31)(75,"div",7)(76,"div",8)(77,"div",9)(78,"div",28),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",11),e._UZ(82,"i",29),e.qZA()()()()()(),e.TgZ(83,"div",4)(84,"div",17)(85,"a",32)(86,"div",7)(87,"div",8)(88,"div",9)(89,"div",19),e._uU(90),e.ALo(91,"translate"),e.qZA()(),e.TgZ(92,"div",11),e._UZ(93,"i",33),e.qZA()()()()()(),e.TgZ(94,"div",4)(95,"div",5)(96,"a",34)(97,"div",7)(98,"div",8)(99,"div",9)(100,"div",10),e._uU(101),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"div",11),e._UZ(104,"i",12),e.qZA()()()()()(),e.TgZ(105,"div",4)(106,"div",30)(107,"a",35)(108,"div",7)(109,"div",8)(110,"div",9)(111,"div",36),e._uU(112),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",11),e._UZ(115,"i",29),e.qZA()()()()()(),e.TgZ(116,"div",4)(117,"div",17)(118,"a",37)(119,"div",7)(120,"div",8)(121,"div",9)(122,"div",19),e._uU(123),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",11),e._UZ(126,"i",29),e.qZA()()()()()(),e.TgZ(127,"div",4)(128,"div",17)(129,"a",38)(130,"div",7)(131,"div",8)(132,"div",9)(133,"div",19),e._uU(134),e.ALo(135,"translate"),e.qZA()(),e.TgZ(136,"div",11),e._UZ(137,"i",29),e.qZA()()()()()(),e.TgZ(138,"div",4)(139,"div",17)(140,"a",39)(141,"div",7)(142,"div",8)(143,"div",9)(144,"div",19),e._uU(145),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",11),e._UZ(148,"i",29),e.qZA()()()()()(),e.TgZ(149,"div",4)(150,"div",17)(151,"a",40)(152,"div",7)(153,"div",8)(154,"div",9)(155,"div",19),e._uU(156),e.ALo(157,"translate"),e.qZA()(),e.TgZ(158,"div",11),e._UZ(159,"i",29),e.qZA()()()()()(),e.TgZ(160,"div",4)(161,"div",17)(162,"a",41)(163,"div",7)(164,"div",8)(165,"div",9)(166,"div",19),e._uU(167),e.ALo(168,"translate"),e.qZA()(),e.TgZ(169,"div",11),e._UZ(170,"i",29),e.qZA()()()()()(),e.TgZ(171,"div",4)(172,"div",17)(173,"a",42)(174,"div",7)(175,"div",8)(176,"div",9)(177,"div",19),e._uU(178),e.ALo(179,"translate"),e.qZA()(),e.TgZ(180,"div",11),e._UZ(181,"i",29),e.qZA()()()()()(),e.TgZ(182,"div",4)(183,"div",17)(184,"a",43)(185,"div",7)(186,"div",8)(187,"div",9)(188,"div",19),e._uU(189),e.ALo(190,"translate"),e.qZA()(),e.TgZ(191,"div",11),e._UZ(192,"i",29),e.qZA()()()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,18,"RhManangement")),e.xp6(10),e.hij("",e.lcZ(14,20,"GestionPays")," "),e.xp6(11),e.hij(" ",e.lcZ(25,22,"GestionZone"),""),e.xp6(11),e.hij(" ",e.lcZ(36,24,"GestionSection"),""),e.xp6(11),e.hij(" ",e.lcZ(47,26,"GestionBureau"),""),e.xp6(11),e.hij(" ",e.lcZ(58,28,"GestionManagers"),""),e.xp6(11),e.hij(" ",e.lcZ(69,30,"ManageAffectation"),""),e.xp6(11),e.hij(" ",e.lcZ(80,32,"gestionMission"),""),e.xp6(11),e.hij(" ",e.lcZ(91,34,"gestionEmployer"),""),e.xp6(11),e.hij("",e.lcZ(102,36,"GestionConge")," "),e.xp6(11),e.hij(" ",e.lcZ(113,38,"gestionSuperviseur"),""),e.xp6(11),e.hij(" ",e.lcZ(124,40,"gestionChefSection"),""),e.xp6(11),e.hij(" ",e.lcZ(135,42,"RendementNational"),""),e.xp6(11),e.hij(" ",e.lcZ(146,44,"RendementZone"),""),e.xp6(11),e.hij(" ",e.lcZ(157,46,"RendementBureau"),""),e.xp6(11),e.hij(" ",e.lcZ(168,48,"Locallisationbureau"),""),e.xp6(11),e.hij(" ",e.lcZ(179,50,"InspecteurControl"),""),e.xp6(11),e.hij(" ",e.lcZ(190,52,"managerA10"),""))},dependencies:[m.rH,g.X$]}),i})();var n=h(4006),v=h(7579),A=h(4508),y=h(2217),Z=h(529),f=h(7185),T=h(5415);const x=function(i){return["/rh/detail-manager",i]},ne=function(i){return["/rh/edit-manager",i]};function re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",80)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",81)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",81)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",81)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",81)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",81)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",81)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",81)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",81)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",81)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",82)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",81)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",81)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",81)(41,"span",83),e._uU(42),e.qZA()(),e.TgZ(43,"td")(44,"div")(45,"a",84),e._UZ(46,"i",85),e.qZA(),e._uU(47,"\xa0 "),e.TgZ(48,"a",84),e._UZ(49,"i",86),e.qZA(),e._uU(50,"\xa0 "),e.TgZ(51,"a",87),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteManager(s._id))}),e._UZ(52,"i",88),e.qZA()(),e._UZ(53,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(30,x,t._id)),e.xp6(2),e.AsE("",t.nom," ",t.prenom,""),e.xp6(1),e.Q6J("routerLink",e.VKq(32,x,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(34,x,t._id)),e.xp6(2),e.Oqu(t.date_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(36,x,t._id)),e.xp6(2),e.Oqu(t.lieu_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(38,x,t._id)),e.xp6(2),e.Oqu(t.piece),e.xp6(1),e.Q6J("routerLink",e.VKq(40,x,t._id)),e.xp6(2),e.Oqu(t.num_piece),e.xp6(1),e.Q6J("routerLink",e.VKq(42,x,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(44,x,t._id)),e.xp6(2),e.Oqu(t.situation_matrimonial),e.xp6(1),e.Q6J("routerLink",e.VKq(46,x,t._id)),e.xp6(2),e.Oqu(t.grade),e.xp6(1),e.Q6J("routerLink",e.VKq(48,x,t._id)),e.xp6(2),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(1),e.Q6J("routerLink",e.VKq(50,x,t._id)),e.xp6(2),e.Oqu(t.maladie_exist),e.xp6(1),e.Q6J("routerLink",e.VKq(52,x,t._id)),e.xp6(2),e.Oqu(t.nbr_enfant),e.xp6(1),e.Q6J("routerLink",e.VKq(54,x,t._id)),e.xp6(2),e.Oqu(t.status_mgr),e.xp6(3),e.Q6J("routerLink",e.VKq(56,x,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(58,ne,t._id))}}function ae(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function se(i,r){1&i&&e._UZ(0,"span",89)}function le(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function de(i,r){if(1&i&&(e.TgZ(0,"div",90),e.YNc(1,le,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function ue(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ce(i,r){if(1&i&&(e.TgZ(0,"div",90),e.YNc(1,ue,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function ge(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function me(i,r){if(1&i&&(e.TgZ(0,"div",90),e.YNc(1,ge,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function pe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function _e(i,r){if(1&i&&(e.TgZ(0,"div",90),e.YNc(1,pe,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const I=function(i){return{"is-invalid":i}};let he=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.managerForm=new n.cw({nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.managerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){if(this.submitted=!0,console.log(this.managerForm.value),this.managerForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managerForm.value.nom,prenom:this.managerForm.value.prenom,telephone:this.managerForm.value.telephone,date_naiss:this.managerForm.value.date_naiss,lieu_naiss:this.managerForm.value.lieu_naiss,piece:this.managerForm.value.piece,num_piece:this.managerForm.value.num_piece,grade:this.managerForm.value.grade,genre:this.managerForm.value.genre,situation_matrimonial:this.managerForm.value.situation_matrimonial,ethnie:this.managerForm.value.ethnie,religion:this.managerForm.value.religion,maladie_exist:this.managerForm.value.maladie_exist,nbr_enfant:this.managerForm.value.nbr_enfant,fullnamemanager:`${this.managerForm.value.nom} ${this.managerForm.value.prenom}`};console.log("form data",t),this.managerService.registerManager(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteManager(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce manager ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}onSubmitUpdate(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manager"]],decls:294,vars:140,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addManagerModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addManagerModal","tabindex","-1","aria-labelledby","addManagerModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addManagerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Assistant Manager A10"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"badge","badge-success"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,re,54,60,"tr",10),e.qZA()()()()()(),e.TgZ(63,"div",11)(64,"div",12)(65,"div",13)(66,"div",14)(67,"h3",15),e._uU(68),e.ALo(69,"translate"),e.qZA(),e._UZ(70,"button",16),e.qZA(),e.TgZ(71,"div",17)(72,"div",18)(73,"div",19)(74,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(75,"button",21),e.YNc(76,ae,3,3,"ng-container",22),e.YNc(77,se,1,0,"span",23),e.qZA(),e._uU(78,"\xa0 "),e.TgZ(79,"button",24),e._uU(80),e.ALo(81,"translate"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"div",25)(84,"div",18),e._UZ(85,"br")(86,"br"),e.TgZ(87,"div",26)(88,"div",27)(89,"div",28)(90,"div",19)(91,"label",29),e._uU(92),e.ALo(93,"translate"),e.TgZ(94,"span",30),e._uU(95,"*"),e.qZA()()(),e.TgZ(96,"div",19),e._UZ(97,"input",31),e.YNc(98,de,2,1,"div",32),e.qZA()()()(),e.TgZ(99,"div",26)(100,"div",27)(101,"div",28)(102,"div",33)(103,"label",34),e._uU(104),e.ALo(105,"translate"),e.TgZ(106,"span",30),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",19),e._UZ(109,"input",35),e.YNc(110,ce,2,1,"div",32),e.qZA()()()(),e.TgZ(111,"div",26)(112,"div",27)(113,"div",28)(114,"div",33)(115,"label",29),e._uU(116),e.ALo(117,"translate"),e.TgZ(118,"span",30),e._uU(119,"*"),e.qZA()()(),e.TgZ(120,"div",19),e._UZ(121,"input",36),e.YNc(122,me,2,1,"div",32),e.qZA()()()(),e.TgZ(123,"div",26)(124,"div",27)(125,"div",28)(126,"div",33)(127,"label",37),e._uU(128),e.ALo(129,"translate"),e.TgZ(130,"span",30),e._uU(131,"*"),e.qZA()()(),e.TgZ(132,"div",19)(133,"select",38)(134,"option",39),e._uU(135,"Feminin"),e.qZA(),e.TgZ(136,"option",40),e._uU(137,"Masculin"),e.qZA()(),e.YNc(138,_e,2,1,"div",32),e.qZA()()()()(),e.TgZ(139,"div",18),e._UZ(140,"br")(141,"br"),e.TgZ(142,"div",41)(143,"div",27)(144,"div",28)(145,"div",19)(146,"label",42),e._uU(147),e.ALo(148,"translate"),e.TgZ(149,"span",30),e._uU(150,"*"),e.qZA()()(),e.TgZ(151,"div",19),e._UZ(152,"input",43),e.qZA()()()(),e.TgZ(153,"div",41)(154,"div",27)(155,"div",28)(156,"div",19)(157,"label",44),e._uU(158),e.ALo(159,"translate"),e.TgZ(160,"span",30),e._uU(161,"*"),e.qZA()()(),e.TgZ(162,"div",19),e._UZ(163,"input",45),e.qZA()()()(),e.TgZ(164,"div",41)(165,"div",27)(166,"div",28)(167,"div",19)(168,"label",46),e._uU(169),e.ALo(170,"translate"),e.TgZ(171,"span",30),e._uU(172,"*"),e.qZA()()(),e.TgZ(173,"div",19)(174,"select",47)(175,"option",48),e._uU(176,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(177,"option",49),e._uU(178,"attestation d'identit\xe9"),e.qZA(),e.TgZ(179,"option",50),e._uU(180,"passeport"),e.qZA(),e.TgZ(181,"option",51),e._uU(182,"recepisse"),e.qZA(),e.TgZ(183,"option",52),e._uU(184,"carte consulaire"),e.qZA(),e.TgZ(185,"option",53),e._uU(186,"carte de s\xe9jour"),e.qZA(),e.TgZ(187,"option",54),e._uU(188,"permis de conduire"),e.qZA(),e.TgZ(189,"option",55),e._uU(190,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(191,"div",18),e._UZ(192,"br")(193,"br"),e.TgZ(194,"div",26)(195,"div",27)(196,"div",28)(197,"div",19)(198,"label",56),e._uU(199),e.ALo(200,"translate"),e.TgZ(201,"span",30),e._uU(202,"*"),e.qZA()()(),e.TgZ(203,"div",19),e._UZ(204,"input",57),e.qZA()()()(),e.TgZ(205,"div",41)(206,"div",27)(207,"div",28)(208,"div",19)(209,"label",58),e._uU(210),e.ALo(211,"translate"),e.TgZ(212,"span",30),e._uU(213,"*"),e.qZA()()(),e.TgZ(214,"div",19)(215,"select",59)(216,"option",60),e._uU(217,"mari\xe9"),e.qZA(),e.TgZ(218,"option",61),e._uU(219,"celibataire"),e.qZA(),e.TgZ(220,"option",62),e._uU(221,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(222,"div",41)(223,"div",27)(224,"div",28)(225,"div",19)(226,"label",63),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19)(232,"select",64)(233,"option",65),e._uU(234,"Manager"),e.qZA(),e.TgZ(235,"option",66),e._uU(236,"HCEF"),e.qZA(),e.TgZ(237,"option",67),e._uU(238,"Assistant Manager"),e.qZA(),e.TgZ(239,"option",68),e._uU(240,"Assistant Manager A10"),e.qZA(),e.TgZ(241,"option",69),e._uU(242,"Gestionnaire"),e.qZA(),e.TgZ(243,"option",70),e._uU(244,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(245,"option",71),e._uU(246,"Manager Chef de section"),e.qZA()()()()()()(),e.TgZ(247,"div",18),e._UZ(248,"br")(249,"br"),e.TgZ(250,"div",26)(251,"div",27)(252,"div",28)(253,"div",19)(254,"label",72),e._uU(255),e.ALo(256,"translate"),e.TgZ(257,"span",30),e._uU(258,"*"),e.qZA()()(),e.TgZ(259,"div",19),e._UZ(260,"input",73),e.qZA()()()(),e.TgZ(261,"div",26)(262,"div",27)(263,"div",28)(264,"div",19)(265,"label",74),e._uU(266),e.ALo(267,"translate"),e.TgZ(268,"span",30),e._uU(269,"*"),e.qZA()()(),e.TgZ(270,"div",19),e._UZ(271,"input",75),e.qZA()()()(),e.TgZ(272,"div",26)(273,"div",27)(274,"div",28)(275,"div",19)(276,"label",76),e._uU(277),e.ALo(278,"translate"),e.TgZ(279,"span",30),e._uU(280,"*"),e.qZA()()(),e.TgZ(281,"div",19),e._UZ(282,"input",77),e.qZA()()()(),e.TgZ(283,"div",26)(284,"div",27)(285,"div",28)(286,"div",19)(287,"label",78),e._uU(288),e.ALo(289,"translate"),e.TgZ(290,"span",30),e._uU(291,"*"),e.qZA()()(),e.TgZ(292,"div",19),e._UZ(293,"input",79),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,54,"GestionManagers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,56,"AjouterManager")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,58,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,60,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,62,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,64,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,66,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,68,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(36,70,"Genre")),e.xp6(3),e.hij("",e.lcZ(39,72,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,74,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(45,76,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(48,78,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(51,80,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(54,82,"NombreEnfant")),e.xp6(3),e.Oqu(e.lcZ(57,84,"Status")),e.xp6(3),e.Oqu(e.lcZ(60,86,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listManager),e.xp6(6),e.Oqu(e.lcZ(69,88,"AjouterManager")),e.xp6(6),e.Q6J("formGroup",o.managerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(81,90,"Annuler")),e.xp6(12),e.hij("",e.lcZ(93,92,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(120,I,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(105,94,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(122,I,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(117,96,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(124,I,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(129,98,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(126,I,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(148,100,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(128,I,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(159,102,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(130,I,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(170,104,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(132,I,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(200,106,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(211,108,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(228,110,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(134,I,o.submitted&&o.f.grade.errors)),e.xp6(23),e.Oqu(e.lcZ(256,112,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(267,114,"Religion")),e.xp6(11),e.Oqu(e.lcZ(278,116,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(136,I,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(289,118,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(138,I,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,T.G,g.X$]}),i})();var Q=h(473),S=h(3056);function fe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e._UZ(8,"i",38),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(11,"i",40),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.bureauId.bureau_name)}}function Ze(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ve(i,r){1&i&&e._UZ(0,"span",41)}function be(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function Ae(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,be,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}let qe=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.affectationService=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectationForm=new n.cw({managerId:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectationForm=this.fb.group({managerId:["",n.kI.required],bureauId:["",n.kI.required]})}get f(){return this.affectationForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.getAllAffectation(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagersNonAffectes().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectationForm.value),this.affectationForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectation({bureauId:this.affectationForm.value.bureauId[0]._id,managerId:this.affectationForm.value.managerId}).subscribe({next:o=>{console.log(o),this.toastrService.success(o.message)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o.message),this.toastrService.error(o.message),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectation(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectationForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectationForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(Q.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-affectation"]],decls:71,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,fe,12,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Ze,3,3,"ng-container",22),e.YNc(41,ve,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,Ae,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectation")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectation")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectationForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"NomBureau")),e.xp6(5),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,39,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function Te(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",43),e._UZ(17,"i",44),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom," ",t.managerId.prenom,""),e.xp6(2),e.hij(" ",t.bureauId.telephone," "),e.xp6(2),e.hij(" ",t.tyepe_mission," "),e.xp6(2),e.hij(" ",t.date_depart," "),e.xp6(2),e.hij(" ",t.date_retour," "),e.xp6(2),e.hij(" ",t.bureauId.bureau_name," ")}}function Ce(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Se(i,r){1&i&&e._UZ(0,"span",45)}function xe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"BureauObligatoire")))}function we(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,xe,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau.errors.required)}}function Ue(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function ye(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Ue,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function Ie(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DateSortieObligatoire")))}function Fe(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Ie,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_sortie.errors.required)}}function Le(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Oe(i,r){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Le,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_mission.errors.required)}}const K=function(i){return{"is-invalid":i}};let Ne=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.missionService=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listMission=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.missionForm=new n.cw({managerId:new n.NI(""),bureauId:new n.NI(""),date_depart:new n.NI(""),date_retour:new n.NI(""),type_mission:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.missionForm=this.fb.group({managerId:["",n.kI.required],bureauId:["",n.kI.required],date_depart:["",n.kI.required],date_retour:["",n.kI.required],type_mission:["",n.kI.required]})}get f(){return this.missionForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagers().subscribe({next:t=>{this.listManagers=t,console.log(this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.missionForm.value),!this.missionForm?.invalid&&(this.buttonloading=!0,this.missionService.registerMission(this.missionForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("La mission du manager a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllMission(){this.missionService.getAllMission().subscribe({next:t=>{this.listMission=t,console.log(this.listMission),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteMission(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.missionService.removeMission(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.missionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.missionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(Q.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mission"]],decls:117,vars:69,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","bureau",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","date_sortie"],["type","date","id","date_sortie","formControlName","date_sortie",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_mission","id","type_mission",1,"form-control",3,"ngClass"],["value","mission de la direction"],["value","mission de  zone"],["onclick","onDeleteMission(mission._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"tbody"),e.YNc(32,Te,18,7,"tr",11),e.qZA()()()()()(),e.TgZ(33,"div",12)(34,"div",13)(35,"div",14)(36,"div",15)(37,"h3",16),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"button",17),e.qZA(),e.TgZ(41,"div",18)(42,"div",19)(43,"div",20)(44,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(45,"button",22),e.YNc(46,Ce,3,3,"ng-container",23),e.YNc(47,Se,1,0,"span",24),e.qZA(),e._uU(48,"\xa0 "),e.TgZ(49,"button",25),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"div",26)(54,"div",27)(55,"div",19)(56,"div",28)(57,"div",29)(58,"div",30)(59,"div",20)(60,"label",31),e._uU(61),e.ALo(62,"translate"),e.TgZ(63,"span",32),e._uU(64,"*"),e.qZA()()(),e.TgZ(65,"div",20)(66,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(67,we,2,1,"div",34),e.qZA()()()(),e.TgZ(68,"div",28)(69,"div",29)(70,"div",30)(71,"div",20)(72,"label",35),e._uU(73),e.ALo(74,"translate"),e.qZA()(),e.TgZ(75,"div",20)(76,"ng-multiselect-dropdown",36),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()(),e.TgZ(77,"div",28)(78,"div",29)(79,"div",30)(80,"div",20)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",32),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",20),e._UZ(87,"input",38),e.YNc(88,ye,2,1,"div",34),e.qZA()()()(),e.TgZ(89,"div",28)(90,"div",29)(91,"div",30)(92,"div",20)(93,"label",37),e._uU(94),e.ALo(95,"translate"),e.TgZ(96,"span",32),e._uU(97,"*"),e.qZA()()(),e.TgZ(98,"div",20),e._UZ(99,"input",38),e.YNc(100,Fe,2,1,"div",34),e.qZA()()()(),e.TgZ(101,"div",28)(102,"div",29)(103,"div",30)(104,"div",20)(105,"label",39),e._uU(106),e.ALo(107,"translate"),e.TgZ(108,"span",32),e._uU(109,"*"),e.qZA()()(),e.TgZ(110,"div",20)(111,"select",40)(112,"option",41),e._uU(113,"Mission de la direction"),e.qZA(),e.TgZ(114,"option",42),e._uU(115,"Mission de zone"),e.qZA()(),e.YNc(116,Oe,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"gestionMission")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterMission")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"DateSortie")),e.xp6(3),e.Oqu(e.lcZ(21,41,"Produit")),e.xp6(3),e.Oqu(e.lcZ(24,43,"Quantite")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Bureaudedestination")),e.xp6(3),e.Oqu(e.lcZ(30,47,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listMission),e.xp6(6),e.Oqu(e.lcZ(39,49,"AjouterMission")),e.xp6(6),e.Q6J("formGroup",o.missionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(51,51,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(62,53,"BureauMission")),e.xp6(5),e.Q6J("placeholder","Select bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau.errors),e.xp6(6),e.hij(" ",e.lcZ(74,55,"choisirManagers"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings),e.xp6(6),e.Oqu(e.lcZ(83,57,"DateDebutMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(63,K,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(95,59,"DateFinMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(65,K,o.submitted&&o.f.date_sortie.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_sortie.errors),e.xp6(6),e.Oqu(e.lcZ(107,61,"TypeMission")),e.xp6(5),e.Q6J("ngClass",e.VKq(67,K,o.submitted&&o.f.type_mission.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.type_mission.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();var q=h(7729);const $=function(i){return["/rh/zone-pays",i]};function De(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",36)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",37)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"div")(9,"a",38),e._UZ(10,"i",39),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteCountry(s._id))}),e._UZ(13,"i",41),e.qZA()()()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,$,t._id)),e.xp6(2),e.Oqu(t.country_name),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Q6J("routerLink",e.VKq(6,$,t._id))}}function Je(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Me(i,r){1&i&&e._UZ(0,"span",42)}function Ee(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomPaysObligatoire")))}function Ye(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Ee,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.country_name.errors.required)}}function Qe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephonePaysObligatoire")))}function ke(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Qe,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}const R=function(i){return{"is-invalid":i}};let Be=(()=>{class i{constructor(t,o,a,s,l){this.countryService=t,this.fb=o,this.http=a,this.toastrService=s,this.translateService=l,this.listCountry=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.percentDone=0,this.countryForm=new n.cw({country_name:new n.NI(""),telephone:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.countryForm=this.fb.group({country_name:["",n.kI.required],telephone:["",n.kI.required]})}ngOnInit(){this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}get f(){return this.countryForm.controls}onSubmit(){this.submitted=!0,!this.countryForm?.invalid&&(this.buttonloading=!0,this.countryService.registerCountry(this.countryForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success(`Le pays ${t.country_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`),this.buttonloading=!1},error:t=>{console.log(t),this.toastrService.error(t.error.message),this.buttonloading=!1}}))}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listCountry)},error:t=>{console.log(t),this.loading=!1}})}onDeleteCountry(t){console.log(t),window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&this.countryService.removeCountry(t).subscribe({next:o=>{this.toastrService.success(`${o}`),window.location.reload()},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.loading=!1}})}payszone(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.T),e.Y36(n.qu),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-country"]],decls:72,vars:42,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCountryModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addCountryModal","tabindex","-1","aria-labelledby","addCountryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCountryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["type","text","placeholder","C\xf4te d'ivoire","id","nom","formControlName","country_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","text","placeholder","+2250768300358","id","telephone","formControlName","telephone",1,"form-control",3,"ngClass"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,De,14,8,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Je,3,3,"ng-container",22),e.YNc(41,Me,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19),e._UZ(60,"input",32),e.YNc(61,Ye,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19),e._UZ(70,"input",35),e.YNc(71,ke,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,20,"GestionPays")),e.xp6(7),e.hij("\xa0",e.lcZ(10,22,"AjouterNouveauPays")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,24,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(21,26,"TelephonePays")),e.xp6(3),e.Oqu(e.lcZ(24,28,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCountry),e.xp6(6),e.Oqu(e.lcZ(33,30,"AjouterNouveauPays")),e.xp6(6),e.Q6J("formGroup",o.countryForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,32,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,34,"NomPays")),e.xp6(5),e.Q6J("ngClass",e.VKq(38,R,o.submitted&&o.f.country_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.country_name.errors),e.xp6(6),e.hij(" ",e.lcZ(68,36,"TelephonePays"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(40,R,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T.G,g.X$]}),i})();var V=h(461);const je=function(i){return["/rh/edit-employer",i]};function ze(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",93)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",93)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",93)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",93)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",93)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",93)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",93)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",93)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",93)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",93)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td")(35,"div")(36,"a",94),e._UZ(37,"i",95),e.qZA(),e.TgZ(38,"a",96),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteEmployer(s._id))}),e._UZ(39,"i",97),e.qZA()(),e._UZ(40,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.situation_matrimonial),e.xp6(3),e.Oqu(t.type_contrat),e.xp6(3),e.Oqu(t.debut_contrat),e.xp6(3),e.Oqu(t.fin_contrat),e.xp6(3),e.Q6J("routerLink",e.VKq(13,je,t._id))}}function Ke(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Ve(i,r){1&i&&e._UZ(0,"span",98)}function Ge(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Pe(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Ge,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function $e(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Re(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,$e,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Xe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function He(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Xe,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function We(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function et(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,We,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function tt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ot(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,tt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function it(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function nt(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,it,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function rt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function at(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,rt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function st(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function lt(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,st,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function dt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ut(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,dt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}function ct(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function gt(i,r){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,ct,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin_contrat.errors.required)}}const F=function(i){return{"is-invalid":i}};let mt=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.employerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listEmployer=[],this.pageNumber=1,this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.employerForm=new n.cw({nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),genre:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),type_contrat:new n.NI(""),debut_contrat:new n.NI(""),fin_contrat:new n.NI(""),nbr_enfant:new n.NI(""),maladie_exist:new n.NI(""),religion:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.employerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],genre:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],type_contrat:["",n.kI.required],debut_contrat:["",n.kI.required],fin_contrat:["",n.kI.required],nbr_enfant:["",n.kI.required],maladie_exist:["",n.kI.required],religion:["",n.kI.required]})}get f(){return this.employerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllEmployer(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){this.submitted=!0,console.log(this.employerForm.value),this.employerForm?.invalid||(this.buttonloading=!0,this.employerService.registerEmployer(this.employerForm.value).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}}))}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.dtTrigger.next(null),this.totalManager=t.length,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteEmployer(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce employer ?")&&(this.employerService.removeEmployer(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(V.g),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-employer"]],decls:332,vars:143,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addEmployeeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addEmployeeModal","tabindex","-1","aria-labelledby","addEmployeeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addEmployeeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-4","md-4","xl-4"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["for","telephone"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],[1,"col-lg-3","md-3","xl-3"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Chef de Service"],["value","Directeur G\xe9n\xe9ral"],["value","Superviseur g\xe9n\xe9ral"],["value","G\xe9rant"],["value","Comptable"],["value","Assistant(e) Comptable"],["value","Chef de service m\xe9dical"],["value","Adjoint(e) du Chef de service m\xe9dical"],["value","Kin\xe9sith\xe9rapeutre"],["value","Assistant(e) Kin\xe9sith\xe9rapeutre"],["value","Informaticien(enne)"],["value","S\xe9cretaire"],["value","R\xe9ceptionniste"],["value","Magasinier(\xe8re)"],["value","Coursier(\xe8re)"],["value","Agent de S\xe9curit\xe9"],["value","Agent de m\xe9nage"],["for","genre"],["formControlName","genre","id","genre",1,"form-control"],["value","masculin"],["value","f\xe9minin"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],["for","type_contrat"],["formControlName","type_contrat","id","type_contrat",1,"form-control"],["value","CDD"],["value","CDI"],["value","Prestation"],["for","debut_contrat"],["type","date","formControlName","debut_contrat","id","debut_contrat",1,"form-control"],["for","fin_contrat"],["type","date","formControlName","fin_contrat","id","fin_contrat",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil","btn-primary"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,ze,41,15,"tr",10),e.qZA()()()()()(),e.TgZ(54,"div",11)(55,"div",12)(56,"div",13)(57,"div",14)(58,"h3",15),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"button",16),e.qZA(),e.TgZ(62,"div",17)(63,"div",18)(64,"div",19)(65,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(66,"button",21),e.YNc(67,Ke,3,3,"ng-container",22),e.YNc(68,Ve,1,0,"span",23),e.qZA(),e._uU(69,"\xa0 "),e.TgZ(70,"button",24),e._uU(71),e.ALo(72,"translate"),e.qZA(),e._UZ(73,"br"),e.TgZ(74,"div",25)(75,"div",18),e._UZ(76,"br")(77,"br"),e.TgZ(78,"div",26)(79,"div",27)(80,"div",28)(81,"div",19)(82,"label",29),e._uU(83),e.ALo(84,"translate"),e.TgZ(85,"span",30),e._uU(86,"*"),e.qZA()()(),e.TgZ(87,"div",19),e._UZ(88,"input",31),e.YNc(89,Pe,2,1,"div",32),e.qZA()()()(),e.TgZ(90,"div",26)(91,"div",27)(92,"div",28)(93,"div",33)(94,"label",34),e._uU(95),e.ALo(96,"translate"),e.TgZ(97,"span",30),e._uU(98,"*"),e.qZA()()(),e.TgZ(99,"div",19),e._UZ(100,"input",35),e.YNc(101,Re,2,1,"div",32),e.qZA()()()(),e.TgZ(102,"div",26)(103,"div",27)(104,"div",28)(105,"div",33)(106,"label",36),e._uU(107),e.ALo(108,"translate"),e.TgZ(109,"span",30),e._uU(110,"*"),e.qZA()()(),e.TgZ(111,"div",19),e._UZ(112,"input",37),e.YNc(113,He,2,1,"div",32),e.qZA()()()()(),e.TgZ(114,"div",18),e._UZ(115,"br")(116,"br"),e.TgZ(117,"div",26)(118,"div",27)(119,"div",28)(120,"div",19)(121,"label",38),e._uU(122),e.ALo(123,"translate"),e.TgZ(124,"span",30),e._uU(125,"*"),e.qZA()()(),e.TgZ(126,"div",19),e._UZ(127,"input",39),e.YNc(128,et,2,1,"div",32),e.qZA()()()(),e.TgZ(129,"div",26)(130,"div",27)(131,"div",28)(132,"div",19)(133,"label",40),e._uU(134),e.ALo(135,"translate"),e.TgZ(136,"span",30),e._uU(137,"*"),e.qZA()()(),e.TgZ(138,"div",19),e._UZ(139,"input",41),e.YNc(140,ot,2,1,"div",32),e.qZA()()()(),e.TgZ(141,"div",26)(142,"div",27)(143,"div",28)(144,"div",19)(145,"label",42),e._uU(146),e.ALo(147,"translate"),e.TgZ(148,"span",30),e._uU(149,"*"),e.qZA()()(),e.TgZ(150,"div",19)(151,"select",43)(152,"option",44),e._uU(153,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(154,"option",45),e._uU(155,"attestation d'identit\xe9"),e.qZA(),e.TgZ(156,"option",46),e._uU(157,"passeport"),e.qZA()(),e.YNc(158,nt,2,1,"div",32),e.qZA()()()()(),e.TgZ(159,"div",18),e._UZ(160,"br")(161,"br"),e.TgZ(162,"div",47)(163,"div",27)(164,"div",28)(165,"div",19)(166,"label",48),e._uU(167),e.ALo(168,"translate"),e.TgZ(169,"span",30),e._uU(170,"*"),e.qZA()()(),e.TgZ(171,"div",19),e._UZ(172,"input",49),e.qZA()()()(),e.TgZ(173,"div",26)(174,"div",27)(175,"div",28)(176,"div",19)(177,"label",50),e._uU(178),e.ALo(179,"translate"),e.TgZ(180,"span",30),e._uU(181,"*"),e.qZA()()(),e.TgZ(182,"div",19)(183,"select",51)(184,"option",52),e._uU(185,"mari\xe9"),e.qZA(),e.TgZ(186,"option",53),e._uU(187,"celibataire"),e.qZA(),e.TgZ(188,"option",54),e._uU(189,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(190,"div",26)(191,"div",27)(192,"div",28)(193,"div",19)(194,"label",55),e._uU(195),e.ALo(196,"translate"),e.TgZ(197,"span",30),e._uU(198,"*"),e.qZA()()(),e.TgZ(199,"div",19)(200,"select",56)(201,"option",57),e._uU(202,"Chef Service"),e.qZA(),e.TgZ(203,"option",58),e._uU(204,"Directeur G\xe9n\xe9ral"),e.qZA(),e.TgZ(205,"option",59),e._uU(206,"Superviseur g\xe9n\xe9ral"),e.qZA(),e.TgZ(207,"option",60),e._uU(208,"G\xe9rant"),e.qZA(),e.TgZ(209,"option",61),e._uU(210,"Comptable"),e.qZA(),e.TgZ(211,"option",62),e._uU(212,"Assistant(e) Comptable"),e.qZA(),e.TgZ(213,"option",63),e._uU(214,"Chef de service m\xe9dical"),e.qZA(),e.TgZ(215,"option",64),e._uU(216,"Adjoint(e) du Chef de service m\xe9dical"),e.qZA(),e.TgZ(217,"option",65),e._uU(218,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(219,"option",66),e._uU(220,"Assistant(e) Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(221,"option",67),e._uU(222,"Informaticien(enne)"),e.qZA(),e.TgZ(223,"option",68),e._uU(224,"S\xe9cretaire"),e.qZA(),e.TgZ(225,"option",69),e._uU(226,"R\xe9ceptionniste"),e.qZA(),e.TgZ(227,"option",70),e._uU(228,"Magasinier(\xe8re)"),e.qZA(),e.TgZ(229,"option",71),e._uU(230,"Coursier(i\xe8re)"),e.qZA(),e.TgZ(231,"option",72),e._uU(232,"Agent de S\xe9curit\xe9"),e.qZA(),e.TgZ(233,"option",73),e._uU(234,"Agent de m\xe9nage"),e.qZA()(),e.YNc(235,at,2,1,"div",32),e.qZA()()()()(),e.TgZ(236,"div",18),e._UZ(237,"br")(238,"br"),e.TgZ(239,"div",47)(240,"div",27)(241,"div",28)(242,"div",19)(243,"label",74),e._uU(244),e.ALo(245,"translate"),e.TgZ(246,"span",30),e._uU(247,"*"),e.qZA()()(),e.TgZ(248,"div",19)(249,"select",75)(250,"option",76),e._uU(251,"Masculin"),e.qZA(),e.TgZ(252,"option",77),e._uU(253,"F\xe9minin"),e.qZA()()()()()(),e.TgZ(254,"div",47)(255,"div",27)(256,"div",28)(257,"div",19)(258,"label",78),e._uU(259),e.ALo(260,"translate"),e.TgZ(261,"span",30),e._uU(262,"*"),e.qZA()()(),e.TgZ(263,"div",19),e._UZ(264,"input",79),e.qZA()()()(),e.TgZ(265,"div",47)(266,"div",27)(267,"div",28)(268,"div",19)(269,"label",80),e._uU(270),e.ALo(271,"translate"),e.TgZ(272,"span",30),e._uU(273,"*"),e.qZA()()(),e.TgZ(274,"div",19),e._UZ(275,"input",81),e.YNc(276,lt,2,1,"div",32),e.qZA()()()(),e.TgZ(277,"div",47)(278,"div",27)(279,"div",28)(280,"div",19)(281,"label",82),e._uU(282),e.ALo(283,"translate"),e.TgZ(284,"span",30),e._uU(285,"*"),e.qZA()()(),e.TgZ(286,"div",19),e._UZ(287,"input",83),e.YNc(288,ut,2,1,"div",32),e.qZA()()()()(),e.TgZ(289,"div",18),e._UZ(290,"br")(291,"br"),e.TgZ(292,"div",47)(293,"div",27)(294,"div",28)(295,"div",19)(296,"label",84),e._uU(297),e.ALo(298,"translate"),e.TgZ(299,"span",30),e._uU(300,"*"),e.qZA()()(),e.TgZ(301,"div",19)(302,"select",85)(303,"option",86),e._uU(304,"CDD"),e.qZA(),e.TgZ(305,"option",87),e._uU(306,"CDI"),e.qZA(),e.TgZ(307,"option",88),e._uU(308,"Prestation"),e.qZA()()()()()(),e.TgZ(309,"div",26)(310,"div",27)(311,"div",28)(312,"div",19)(313,"label",89),e._uU(314),e.ALo(315,"translate"),e.TgZ(316,"span",30),e._uU(317,"*"),e.qZA()()(),e.TgZ(318,"div",19),e._UZ(319,"input",90),e.qZA()()()(),e.TgZ(320,"div",26)(321,"div",27)(322,"div",28)(323,"div",19)(324,"label",91),e._uU(325),e.ALo(326,"translate"),e.TgZ(327,"span",30),e._uU(328,"*"),e.qZA()()(),e.TgZ(329,"div",19),e._UZ(330,"input",92),e.YNc(331,gt,2,1,"div",32),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,59,"GestionEmployers")),e.xp6(7),e.hij("\xa0",e.lcZ(10,61,"AjouterNouveauEmployer")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,63,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,65,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,67,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,69,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,71,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,73,"NumeroPiece")),e.xp6(3),e.hij("",e.lcZ(36,75,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(39,77,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,79,"TypeContrat")," "),e.xp6(3),e.hij("",e.lcZ(45,81,"DebutContrat")," "),e.xp6(3),e.hij("",e.lcZ(48,83,"FinContrat")," "),e.xp6(3),e.Oqu(e.lcZ(51,85,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listEmployer),e.xp6(6),e.Oqu(e.lcZ(60,87,"AjouterNouveauEmployer")),e.xp6(6),e.Q6J("formGroup",o.employerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(72,89,"Annuler")),e.xp6(12),e.hij("",e.lcZ(84,91,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(123,F,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(96,93,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(125,F,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(108,95,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(127,F,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(9),e.hij("",e.lcZ(123,97,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(129,F,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(135,99,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(131,F,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(147,101,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(133,F,o.submitted&&o.f.piece.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(168,103,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(179,105,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(196,107,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(135,F,o.submitted&&o.f.grade.errors)),e.xp6(35),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(245,109,"Genre")),e.xp6(15),e.Oqu(e.lcZ(260,111,"Religion")),e.xp6(11),e.Oqu(e.lcZ(271,113,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(137,F,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(283,115,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(139,F,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors),e.xp6(9),e.Oqu(e.lcZ(298,117,"TypeContrat")),e.xp6(17),e.Oqu(e.lcZ(315,119,"DebutContrat")),e.xp6(11),e.Oqu(e.lcZ(326,121,"FinContrat")),e.xp6(5),e.Q6J("ngClass",e.VKq(141,F,o.submitted&&o.f.fin_contrat.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin_contrat.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,T.G,g.X$]}),i})();var Y=h(5861);const pt=function(i){return["/rh/edit-bureau",i]};function _t(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",42),e._uU(5),e.qZA(),e.TgZ(6,"td",42)(7,"a",43),e._UZ(8,"i",44),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteBureau(s._id))}),e._UZ(11,"i",46),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.bureau_name),e.xp6(2),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(3,pt,t._id))}}function ht(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ft(i,r){1&i&&e._UZ(0,"span",47)}function Zt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function vt(i,r){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Zt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function bt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function At(i,r){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,bt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const qt=function(i){return{"is-invalid":i}};let Tt=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.http=u,this.toastrService=p,this.translateService=b,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.sections=[],this.zones=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.percentDone=0,this.bureauForm=new n.cw({bureau_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI(""),sectionId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.bureauForm=this.fb.group({bureau_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllBureau(),this.getAllCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.bureauForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){if(t.submitted=!0,console.log(t.bureauForm.value),t.bureauForm?.invalid)return;t.buttonloading=!0;const o={bureau_name:t.bureauForm.value.bureau_name,countryId:t.bureauForm.value.countryId[0]?._id,zoneId:t.bureauForm.value.zoneId[0]?._id,sectionId:t.bureauForm.value.sectionId[0]?._id};null==o.zoneId&&(o.zoneId=""),null==o.sectionId&&(o.sectionId=""),console.log("formData",o),t.agenceService.registerBureau(o).subscribe({next:a=>{console.log(a),t.toastrService.success(`Le pays ${a.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}})})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.sections=t.sections,this.zones=t.zones,this.dtTrigger.next(null),this.loading=!1,console.log(this.listBureau)},error:t=>{console.log(t),this.loading=!1}})}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.bureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(q.T),e.Y36(q.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-bureau"]],decls:94,vars:54,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addBureauModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addBureauModal","tabindex","-1","aria-labelledby","addBureauModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addBureauModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,_t,12,5,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,ht,3,3,"ng-container",22),e.YNc(41,ft,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,vt,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",27)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",34),e._uU(67),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA()()()()(),e.TgZ(71,"div",27)(72,"div",28)(73,"div",29)(74,"div",19)(75,"label",36),e._uU(76),e.ALo(77,"translate"),e.TgZ(78,"span",31),e._uU(79,"*"),e.qZA()()(),e.TgZ(80,"div",19)(81,"ng-multiselect-dropdown",37),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(s){return o.onItemSectionSelect(s)})("onDeSelect",function(s){return o.onItemSectionDeSelect(s)}),e.qZA()()()()(),e.TgZ(82,"div",38)(83,"div",28)(84,"div",29)(85,"div",19)(86,"label",39),e._uU(87),e.ALo(88,"translate"),e.TgZ(89,"span",40),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",19),e._UZ(92,"input",41),e.YNc(93,At,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,30,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,32,"AjouterBureau")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,34,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(21,36,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,38,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listBureau),e.xp6(6),e.Oqu(e.lcZ(33,40,"AjouterBureau")),e.xp6(6),e.Q6J("formGroup",o.bureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,42,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,44,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(68,46,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(77,48,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(88,50,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(52,qt,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();const Ct=function(i){return["/rh/detail-zone",i]},St=function(i){return["/rh/zone-pays",i]},xt=function(i){return["/rh/edit-zone",i]};function wt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",37)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",38),e._uU(5),e.qZA(),e.TgZ(6,"td",39)(7,"a",40),e._UZ(8,"i",41),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteZone(s._id))}),e._UZ(11,"i",43),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,Ct,t._id)),e.xp6(2),e.Oqu(t.zone_name),e.xp6(1),e.Q6J("routerLink",e.VKq(7,St,t.countryId._id)),e.xp6(1),e.hij(" ",t.countryId.country_name," "),e.xp6(2),e.Q6J("routerLink",e.VKq(9,xt,t._id))}}function Ut(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function yt(i,r){1&i&&e._UZ(0,"span",44)}function It(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ft(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,It,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function Lt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Ot(i,r){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Lt,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const Nt=function(i){return{"is-invalid":i}};let Dt=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.zoneService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listCountry=[],this.listZone=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.percentDone=0,this.zoneForm=new n.cw({zone_name:new n.NI(""),countryId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.zoneForm=this.fb.group({zone_name:["",n.kI.required],countryId:["",n.kI.required]})}ngOnInit(){this.getAllZone(),this.getAllCountries(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.zoneForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){t.submitted=!0,t.zoneForm?.invalid||(t.buttonloading=!0,t.zoneService.registerZone({countryId:t.zoneForm.value.countryId[0]._id,zone_name:t.zoneForm.value.zone_name}).subscribe({next:a=>{t.toastrService.success(`La zone ${a.zone_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.ngOnInit())},error:a=>{console.log(a),t.toastrService.error(a.error),t.buttonloading=!1}}))})()}getAllCountries(){var t=this;return(0,Y.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listZone)},error:t=>{console.log(t),this.loading=!1}})}onDeleteZone(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.zoneService.removeZone(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.zoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.zoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-zone"]],decls:74,vars:43,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"hover",3,"routerLink"],[1,"hover","text-center",3,"routerLink"],[1,"text-center"],["href","",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,wt,12,11,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,Ut,3,3,"ng-container",22),e.YNc(41,yt,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"div",25)(48,"div",26)(49,"div",18)(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",19)(54,"label",30),e._uU(55),e.ALo(56,"translate"),e.TgZ(57,"span",31),e._uU(58,"*"),e.qZA()()(),e.TgZ(59,"div",19)(60,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(61,Ft,2,1,"div",33),e.qZA()()()(),e.TgZ(62,"div",34)(63,"div",28)(64,"div",29)(65,"div",19)(66,"label",35),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",31),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",19),e._UZ(72,"input",36),e.YNc(73,Ot,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"GestionZone")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouveauZone")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listZone),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouveauZone")),e.xp6(6),e.Q6J("formGroup",o.zoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(56,37,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(68,39,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(41,Nt,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function Jt(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",39),e._uU(5),e.qZA(),e.TgZ(6,"td",39),e._uU(7),e.qZA(),e.TgZ(8,"td",39)(9,"a",40),e._UZ(10,"i",41),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(2),e.hij(" ",t.zoneId.zone_name," "),e.xp6(2),e.hij(" ",t.countryId.country_name," ")}}function Mt(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Et(i,r){1&i&&e._UZ(0,"span",42)}function Yt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Qt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,Yt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function kt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Bt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,kt,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}function jt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function zt(i,r){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,jt,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.section_name.errors.required)}}const Kt=function(i){return{"is-invalid":i}};let Vt=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.fb=s,this.router=l,this.http=d,this.toastrService=u,this.translateService=p,this.listCountry=[],this.listZone=[],this.listSection=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.percentDone=0,this.sectionForm=new n.cw({section_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.sectionForm=this.fb.group({section_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:["",n.kI.required]})}ngOnInit(){this.getAllCountries(),this.getAllSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.sectionForm.controls}onSubmit(){this.submitted=!0,console.log("form zone",this.sectionForm.value.countryId[0]._id),this.sectionForm?.invalid||(this.buttonloading=!0,this.sectionService.registerSection({countryId:this.sectionForm.value.countryId[0]._id,zoneId:this.sectionForm.value.zoneId[0]._id,section_name:this.sectionForm.value.section_name}).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le pays ${o.section_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllCountries(){var t=this;return(0,Y.Z)(function*(){t.zoneService.getAllCountries().subscribe({next:o=>{t.listCountry=o,console.log(t.listCountry),t.loading=!1},error:o=>{console.log(o),t.loading=!1}})})()}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteSection(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.sectionService.removeSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,console.log(this.listZone),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),console.log("form model",this.sectionForm.value)}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.sectionForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(q.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-section"]],decls:89,vars:53,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addZoneModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addZoneModal","tabindex","-1","aria-labelledby","addZoneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addZoneModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["name","zoneId","formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","section_name"],["type","text","placeholder","","id","section_name","formControlName","section_name",1,"form-control",3,"ngClass"],[1,"text-center"],["onclick","onDeleteSection(section._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,Jt,11,3,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,Mt,3,3,"ng-container",22),e.YNc(44,Et,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",25)(51,"div",26)(52,"div",18)(53,"div",27)(54,"div",28)(55,"div",29)(56,"div",19)(57,"label",30),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span",31),e._uU(61,"*"),e.qZA()()(),e.TgZ(62,"div",19)(63,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(64,Qt,2,1,"div",33),e.qZA()()()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",19)(69,"label",34),e._uU(70),e.ALo(71,"translate"),e.TgZ(72,"span",31),e._uU(73,"*"),e.qZA()()(),e.TgZ(74,"div",19)(75,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA(),e.YNc(76,Bt,2,1,"div",33),e.qZA()()()(),e.TgZ(77,"div",36)(78,"div",28)(79,"div",29)(80,"div",19)(81,"label",37),e._uU(82),e.ALo(83,"translate"),e.TgZ(84,"span",31),e._uU(85,"*"),e.qZA()()(),e.TgZ(86,"div",19),e._UZ(87,"input",38),e.YNc(88,zt,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,29,"GestionBureau")),e.xp6(7),e.hij("\xa0",e.lcZ(10,31,"AjouterNouveauSection")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,33,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,35,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,37,"NomPays")),e.xp6(3),e.Oqu(e.lcZ(27,39,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listSection),e.xp6(6),e.Oqu(e.lcZ(36,41,"AjouterNouveauSection")),e.xp6(6),e.Q6J("formGroup",o.sectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,43,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(59,45,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.Oqu(e.lcZ(71,47,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij("",e.lcZ(83,49,"NomSection")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(51,Kt,o.submitted&&o.f.section_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.section_name.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();var B=h(2177);let Gt=(()=>{class i{constructor(t){this.http=t}registerConge(t){return this.http.post(B.k.CREATE_CONGE,t)}getAllConge(){return this.http.get(B.k.ALL_CONGE)}updateConge(t,o){return this.http.patch(B.k.UPDATE_CONGE+t,o)}singleConge(t){return this.http.get(B.k.GET_SINGLE_CONGE+t)}removeConge(t){return this.http.delete(B.k.DELETED_CONGE+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Pt(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e._uU(5),e.qZA(),e.TgZ(6,"td",10),e._uU(7),e.qZA(),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e._uU(13),e.qZA(),e._UZ(14,"td"),e.TgZ(15,"td",10)(16,"a",47),e._UZ(17,"i",48),e.qZA(),e._uU(18,"\xa0 "),e.TgZ(19,"a",49),e._UZ(20,"i",50),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.employerId.nom," ",t.employerId.prenom,""),e.xp6(2),e.hij(" ",t.type_conge," "),e.xp6(2),e.hij(" ",t.duree," "),e.xp6(2),e.hij(" ",t.debut," "),e.xp6(2),e.hij(" ",t.fin," "),e.xp6(2),e.hij(" ",t.status," ")}}function $t(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Rt(i,r){1&i&&e._UZ(0,"span",51)}function Xt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ht(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Xt,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.employerId.errors.required)}}function Wt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function eo(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,Wt,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.duree.errors.required)}}function to(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function oo(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,to,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.debut.errors.required)}}function io(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function no(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,io,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin.errors.required)}}function ro(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ao(i,r){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,ro,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.type_conge.errors.required)}}const j=function(i){return{"is-invalid":i}};let so=(()=>{class i{constructor(t,o,a,s,l,d,u){this.employerService=t,this.congeService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listEmployer=[],this.listConge=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.congeForm=new n.cw({employerId:new n.NI(""),type_conge:new n.NI(""),duree:new n.NI(""),debut:new n.NI(""),fin:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.congeForm=this.fb.group({employerId:["",n.kI.required],type_conge:["",n.kI.required],duree:["",n.kI.required],debut:["",n.kI.required],fin:["",n.kI.required]})}get f(){return this.congeForm.controls}ngOnInit(){this.getAllEmployer(),this.getAllConge(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"nom",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}getAllEmployer(){this.employerService.getAllEmployers().subscribe({next:t=>{this.listEmployer=t,console.log(this.listEmployer),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.congeForm.value),!this.congeForm?.invalid&&(this.buttonloading=!0,this.congeService.registerConge(this.congeForm.value).subscribe({next:t=>{console.log(t),this.toastrService.success("L'information a bien \xe9t\xe9 ajout\xe9e \xe0 la base de donn\xe9es !")&&(this.buttonloading=!1,this.ngOnInit())},error:t=>{console.log(t),this.toastrService.error(t.error),this.buttonloading=!1}}))}getAllConge(){this.congeService.getAllConge().subscribe({next:t=>{this.listConge=t,console.log(this.listConge),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteConge(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette mission ?")&&(this.congeService.removeConge(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.congeForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.congeForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(V.g),e.Y36(Gt),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-conge"]],decls:127,vars:75,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addCongeModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","addCongeModal","tabindex","-1","aria-labelledby","addCongeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addCongeModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-4","col-md-4"],[1,"form-group"],[1,"mb-3"],["for","bureau"],[2,"color","red"],["formControlName","employerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["type","number","formControlName","duree",1,"form-control",3,"ngClass"],["for","debut"],["type","date","id","debut","formControlName","debut",1,"form-control",3,"ngClass"],[1,"col-lg-6","col-md-6"],["for","fin"],["type","date","id","fin","formControlName","fin",1,"form-control",3,"ngClass"],["for","type_mission"],["formControlName","type_conge","id","type_conge",1,"form-control",3,"ngClass"],["value","cong\xe9 de annuel"],["value","cong\xe9 de maternit\xe9"],["value","cong\xe9 de maladie"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pencil"],["onclick","onDeleteConge(conge._id)",1,"btn","btn-danger"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",10),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,Pt,21,7,"tr",11),e.qZA()()()()()(),e.TgZ(39,"div",12)(40,"div",13)(41,"div",14)(42,"div",15)(43,"h3",16),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"button",17),e.qZA(),e.TgZ(47,"div",18)(48,"div",19)(49,"div",20)(50,"form",21),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(51,"button",22),e.YNc(52,$t,3,3,"ng-container",23),e.YNc(53,Rt,1,0,"span",24),e.qZA(),e._uU(54,"\xa0 "),e.TgZ(55,"button",25),e._uU(56),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"div",26)(60,"div",27)(61,"div",19)(62,"div",28)(63,"div",29)(64,"div",30)(65,"div",20)(66,"label",31),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span",32),e._uU(70,"*"),e.qZA()()(),e.TgZ(71,"div",20)(72,"ng-multiselect-dropdown",33),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(73,Ht,2,1,"div",34),e.qZA()()()(),e.TgZ(74,"div",28)(75,"div",29)(76,"div",30)(77,"div",20)(78,"label",35),e._uU(79),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",20),e._UZ(82,"input",36),e.YNc(83,eo,2,1,"div",34),e.qZA()()()(),e.TgZ(84,"div",28)(85,"div",29)(86,"div",30)(87,"div",20)(88,"label",37),e._uU(89),e.ALo(90,"translate"),e.TgZ(91,"span",32),e._uU(92,"*"),e.qZA()()(),e.TgZ(93,"div",20),e._UZ(94,"input",38),e.YNc(95,oo,2,1,"div",34),e.qZA()()()()(),e.TgZ(96,"div",19)(97,"div",39)(98,"div",29)(99,"div",30)(100,"div",20)(101,"label",40),e._uU(102),e.ALo(103,"translate"),e.TgZ(104,"span",32),e._uU(105,"*"),e.qZA()()(),e.TgZ(106,"div",20),e._UZ(107,"input",41),e.YNc(108,no,2,1,"div",34),e.qZA()()()(),e.TgZ(109,"div",39)(110,"div",29)(111,"div",30)(112,"div",20)(113,"label",42),e._uU(114),e.ALo(115,"translate"),e.TgZ(116,"span",32),e._uU(117,"*"),e.qZA()()(),e.TgZ(118,"div",20)(119,"select",43)(120,"option",44),e._uU(121,"Cong\xe9 annuel"),e.qZA(),e.TgZ(122,"option",45),e._uU(123,"Cong\xe9 de maternit\xe9"),e.qZA(),e.TgZ(124,"option",46),e._uU(125,"Cong\xe9 de maladie"),e.qZA()(),e.YNc(126,ao,2,1,"div",34),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"GestionConge")),e.xp6(7),e.hij("\xa0",e.lcZ(10,37,"AjouterNouveauConge")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,39,"Nom")),e.xp6(3),e.Oqu(e.lcZ(21,41,"TypeConge")),e.xp6(3),e.Oqu(e.lcZ(24,43,"dureeConge")),e.xp6(3),e.Oqu(e.lcZ(27,45,"debutConge")),e.xp6(3),e.Oqu(e.lcZ(30,47,"finConge")),e.xp6(3),e.Oqu(e.lcZ(33,49,"StatutConge")),e.xp6(3),e.Oqu(e.lcZ(36,51,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listConge),e.xp6(6),e.Oqu(e.lcZ(45,53,"AjouterNouveauConge")),e.xp6(6),e.Q6J("formGroup",o.congeForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(57,55,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(68,57,"SelectionnerEmployer")),e.xp6(5),e.Q6J("data",o.listEmployer)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.employerId.errors),e.xp6(6),e.hij(" ",e.lcZ(80,59,"dureeConge"),""),e.xp6(3),e.Q6J("ngClass",e.VKq(67,j,o.submitted&&o.f.duree.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.duree.errors),e.xp6(6),e.Oqu(e.lcZ(90,61,"debutConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(69,j,o.submitted&&o.f.debut.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.debut.errors),e.xp6(7),e.Oqu(e.lcZ(103,63,"finConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(71,j,o.submitted&&o.f.fin.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin.errors),e.xp6(6),e.Oqu(e.lcZ(115,65,"TypeConge")),e.xp6(5),e.Q6J("ngClass",e.VKq(73,j,o.submitted&&o.f.type_conge.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.type_conge.errors))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function lo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36)(7,"a",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(8,"i",38),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.zoneId.zone_name)}}function uo(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function co(i,r){1&i&&e._UZ(0,"span",39)}function go(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function mo(i,r){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,go,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zoneId.errors.required)}}let po=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b){this.agenceService=t,this.zoneService=o,this.managerService=a,this.fb=s,this.router=l,this.http=d,this.affectationService=u,this.toastrService=p,this.translateService=b,this.listBureau=[],this.listAffectation=[],this.listZone=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectsofzForm=new n.cw({zoneId:new n.NI(""),managerId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectsofzForm=this.fb.group({zoneId:["",n.kI.required],managerId:["",n.kI.required]})}get f(){return this.affectsofzForm.controls}ngOnInit(){this.getAllZone(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter},this.getAllSupervisorZone()}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,console.log(this.listZone),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllSupervisorZone(){this.affectationService.getAllAffectsofz().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerSupervisor().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onSubmit(){this.submitted=!0,console.log(this.affectsofzForm.value),this.affectsofzForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectsof({zoneId:this.affectsofzForm.value.zoneId[0]._id,managerId:this.affectsofzForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}getAllAffectation(){this.affectationService.getAllAffectation().subscribe({next:t=>{this.listAffectation=t,console.log(this.listAffectation),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectsofz(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectsofzForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectsofzForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(Q.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-superviseur"]],decls:72,vars:41,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,lo,9,3,"tr",10),e.qZA()()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h3",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",16),e.qZA(),e.TgZ(35,"div",17)(36,"div",18)(37,"div",19)(38,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(39,"button",21),e.YNc(40,uo,3,3,"ng-container",22),e.YNc(41,co,1,0,"span",23),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"br")(47,"br"),e.TgZ(48,"div",25)(49,"div",26)(50,"div",18)(51,"div",27)(52,"div",28)(53,"div",29)(54,"div",19)(55,"label",30),e._uU(56),e.ALo(57,"translate"),e.TgZ(58,"span",31),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"div",19)(61,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(62,mo,2,1,"div",33),e.qZA()()()(),e.TgZ(63,"div",27)(64,"div",28)(65,"div",29)(66,"div",19)(67,"label",34),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",19)(71,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,23,"ManageAffectationSZ")),e.xp6(7),e.hij("\xa0",e.lcZ(10,25,"AjouterNouvelleAffectationsofz")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,27,"nomsupervisieurZone")),e.xp6(3),e.Oqu(e.lcZ(21,29,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(24,31,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(33,33,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectsofzForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(45,35,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(57,37,"SelectionZone")),e.xp6(5),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zoneId.errors),e.xp6(6),e.hij(" ",e.lcZ(69,39,"choisirsupervisieurZone"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function _o(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",36),e._uU(5),e.qZA(),e.TgZ(6,"td",36),e._uU(7),e.qZA(),e.TgZ(8,"td",36)(9,"a",37),e._UZ(10,"i",38),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"a",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteAffectation(s._id))}),e._UZ(13,"i",40),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(t.sectionId.section_name),e.xp6(2),e.Oqu(o.zone)}}function ho(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function fo(i,r){1&i&&e._UZ(0,"span",41)}function Zo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"champObligatoire")))}function vo(i,r){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Zo,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sectionId.errors.required)}}let bo=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b){this.agenceService=t,this.sectionService=o,this.managerService=a,this.fb=s,this.router=l,this.http=d,this.affectationService=u,this.toastrService=p,this.translateService=b,this.listSection=[],this.zone=[],this.listAffectation=[],this.listManagers=[],this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!0,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.Settings={},this.affectchefsectionForm=new n.cw({sectionId:new n.NI(""),managerId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.affectchefsectionForm=this.fb.group({sectionId:["",n.kI.required],managerId:["",n.kI.required]})}get f(){return this.affectchefsectionForm.controls}ngOnInit(){this.getAllSection(),this.getAllManager(),this.getAllChefSection(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.Settings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"fullnamemanager",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,limitSelection:3,allowSearchFilter:this.ShowFilter}}getAllSection(){this.sectionService.getAllSections().subscribe({next:t=>{this.listSection=t,console.log(this.listSection),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllChefSection(){this.affectationService.getAllAffectchefSection().subscribe({next:t=>{this.listAffectation=t;for(let o=0;o<t.length;o++)this.sectionService.getsingleZone(t[o].sectionId.zoneId).subscribe(a=>{this.zone=a.zone_name});console.log(this.zone),console.log(this.listAffectation),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllManagerChefsection().subscribe({next:t=>{this.listManagers=t,console.log("listManagers",this.listManagers),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getSingleZone(t){this.sectionService.getsingleZone(t).subscribe(o=>{this.zone=o.zone_name})}onSubmit(){this.submitted=!0,this.affectchefsectionForm?.invalid||(this.buttonloading=!0,this.affectationService.registerAffectchefSection({sectionId:this.affectchefsectionForm.value.sectionId[0]._id,managerId:this.affectchefsectionForm.value.managerId[0]._id}).subscribe({next:o=>{console.log(o),this.toastrService.success("L'op\xe9ration a \xe9t\xe9 \xe9ffectu\xe9e avec succ\xe8s!")&&(this.buttonloading=!1,this.ngOnInit())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}}))}onDeleteAffectation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette affectation ?")&&(this.affectationService.removeAffectchefSection(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemManagerSelect(t){console.log("onItemSelect",t),console.log("form model",this.affectchefsectionForm.value)}onItemManagerDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.affectchefsectionForm.value)}onManagerDropDownClose(){console.log("dropdown closed")}toogleManagerShowAll(){this.showAll=!this.showAll,this.Settings=Object.assign({},this.Settings,{enableCheckAll:this.showAll})}toogleManagerShowFilter(){this.ShowFilter=!this.ShowFilter,this.Settings=Object.assign({},this.Settings,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(Q.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-chef-section"]],decls:75,vars:44,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addMissionModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addMissionModal","tabindex","-1","aria-labelledby","addMissionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addMissionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-6","col-md-6"],[1,"form-group"],[1,"mb-3"],["for","zone"],[2,"color","red"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","manager"],["formControlName","managerId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"text-center"],["href","",1,"btn","btn-primary"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,_o,14,4,"tr",10),e.qZA()()()()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"div",13)(33,"div",14)(34,"h3",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"button",16),e.qZA(),e.TgZ(38,"div",17)(39,"div",18)(40,"div",19)(41,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(42,"button",21),e.YNc(43,ho,3,3,"ng-container",22),e.YNc(44,fo,1,0,"span",23),e.qZA(),e._uU(45,"\xa0 "),e.TgZ(46,"button",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"br")(50,"br"),e.TgZ(51,"div",25)(52,"div",26)(53,"div",18)(54,"div",27)(55,"div",28)(56,"div",29)(57,"div",19)(58,"label",30),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",31),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",19)(64,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(65,vo,2,1,"div",33),e.qZA()()()(),e.TgZ(66,"div",27)(67,"div",28)(68,"div",29)(69,"div",19)(70,"label",34),e._uU(71),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",19)(74,"ng-multiselect-dropdown",35),e.NdJ("onDropDownClose",function(){return o.onManagerDropDownClose()})("onSelect",function(s){return o.onItemManagerSelect(s)})("onDeSelect",function(s){return o.onItemManagerDeSelect(s)}),e.qZA()()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,24,"gestionChefSection")),e.xp6(7),e.hij("\xa0",e.lcZ(10,26,"AjouterNouvelleAffectationChefSession")," "),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,28,"nomchefSection")),e.xp6(3),e.Oqu(e.lcZ(21,30,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(24,32,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(27,34,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listAffectation),e.xp6(6),e.Oqu(e.lcZ(36,36,"AjouterNouvelleAffectation")),e.xp6(6),e.Q6J("formGroup",o.affectchefsectionForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(48,38,"Annuler")),e.xp6(12),e.Oqu(e.lcZ(60,40,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.sectionId.errors),e.xp6(6),e.hij(" ",e.lcZ(72,42,"choisirchefSection"),""),e.xp6(3),e.Q6J("data",o.listManagers)("disabled",o.disabled)("settings",o.Settings))},dependencies:[c.sg,c.O5,n._Y,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function Ao(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}function qo(i,r){if(1&i&&(e.TgZ(0,"div",14)(1,"table")(2,"thead",10)(3,"tr")(4,"th",10),e._uU(5),e.qZA()()(),e.TgZ(6,"tbody"),e.YNc(7,Ao,3,1,"tr",8),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children)}}const X=function(i){return["/rh/detail-zone",i]};function To(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10),e.YNc(5,qo,8,2,"div",11),e.qZA(),e.TgZ(6,"td")(7,"div")(8,"a",12),e._UZ(9,"i",13),e.qZA(),e._uU(10,"\xa0 "),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,X,t.id)),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.children),e.xp6(3),e.Q6J("routerLink",e.VKq(6,X,t.id))}}const Co=function(){return["/rh/country"]};let So=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.countryservice=o,this.agenceService=a,this.toastrService=s,this.translateService=l,this.pays="",this.paysId="",this.listZone=[],this.listDatas=[],this.realData=[],this.finalData=[],this.allData=[],this.useData=[],this.obj={},this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllBureauByCountry(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesByCountry(this.id).subscribe({next:t=>{this.listZone=t,this.paysId=t[0].countryId._id,this.pays=t[0].countryId.country_name,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllBureauByCountry(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceService.getAllBureauByCountry(this.id).subscribe({next:t=>{this.listDatas=t,this.pays=t[0].countryId.country_name;for(let d=0;d<this.listDatas.length;d++){const u={id:String,zone:String,section:[String],bureau:String};u.id=this.listDatas[d].zoneId._id,u.zone=this.listDatas[d].zoneId.zone_name,u.section=[this.listDatas[d].sectionId.section_name],u.bureau=this.listDatas[d].bureau_name,this.realData.push(u)}const o=this.realData.reduce((d,{id:u,bureau:p,zone:b,section:E})=>(d[b]||(d[b]={}),E.forEach(k=>{d[b][k]=(d[b][k]||[]).concat({id:u,bureau:p})}),d),{});console.log("acc",o);const a=Object.entries(o).map(([d,u])=>({name:d,children:Object.entries(u).map(([p,b])=>({name:p,children:b}))}));this.allData=a;for(let d=0;d<this.allData.length;d++){const u={id:String,name:String,children:Array};u.id=this.allData[d].children[0].children[0].id,u.name=this.allData[d].name,u.children=this.allData[d].children,this.useData.push(u)}var l=new Date("09-2023".split("-")[1]);console.log("ann\xe9e:",l.getFullYear()),console.log("essai",this.useData),this.dtTrigger.next(null),console.log("data liste",this.allData),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(q.T),e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-pays"]],decls:25,vars:21,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[1,"text-center"],["class","row",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"row"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,To,11,8,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,10,"ListeZone")," ",e.lcZ(5,12,"de")," ",o.pays," "),e.xp6(3),e.Q6J("routerLink",e.DdM(20,Co)),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(16,14,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(19,16,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(22,18,"Action")),e.xp6(3),e.Q6J("ngForOf",o.useData))},dependencies:[c.sg,m.rH,T.G,g.X$]}),i})();var _=h(5439),C=h(5080);function xo(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau)}}const H=function(i){return["/rh/zone-pays",i]};function wo(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",16)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",16)(5,"div",11)(6,"table")(7,"tbody"),e.YNc(8,xo,3,1,"tr",10),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"a",17),e._UZ(12,"i",18),e.qZA(),e._uU(13,"\xa0 "),e.qZA()()()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.section_name),e.xp6(5),e.Q6J("ngForOf",t.bureau.bureau),e.xp6(3),e.Q6J("routerLink",e.VKq(3,H,t.id))}}C.kL.register(...C.zX);let Uo=(()=>{class i{constructor(t,o,a,s,l,d){this.locale=t,this.route=o,this.countryservice=a,this.agenceservice=s,this.toastrService=l,this.translateService=d,this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.startYear=2023,this.endYear=2100,this.zone="",this.paysId="",this.labeldata=[],this.realData=[],this.finalData=[],this.allData=[],this.allDatav=[],this.obj={},this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.generateYearsBetween(this.startYear,this.endYear),this.getAllSection(),this.getAllCaZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:""}}}getAllSection(){this.id=this.route.snapshot.paramMap.get("id"),this.agenceservice.getAllBureauByZone(this.id).subscribe({next:t=>{this.listSectionByZone=t,this.paysId=this.listSectionByZone[0].countryId._id,this.zone=this.listSectionByZone[0].zoneId.zone_name,console.log("listSectionByZone",this.listSectionByZone);for(let a=0;a<this.listSectionByZone.length;a++){const s={id:String,section:String,bureau:String};s.id=this.listSectionByZone[a].sectionId._id,s.section=this.listSectionByZone[a].sectionId.section_name,s.bureau=this.listSectionByZone[a].bureau_name,this.realData.push(s)}const o=this.realData.reduce((a,s)=>{const{section:l}=s;return a[l]=a[l]??[],a[l].push(s),a},{});this.allDatav=Object.entries(o).map(([a,s],l)=>({section_name:a,bureau:s}));for(let a=0;a<this.allDatav.length;a++){const s={section_name:String,bureau:Array,id:String};s.id=this.allDatav[a].bureau[0].id,s.section_name=this.allDatav[a].section_name,s.bureau=this.allDatav[a],this.finalData.push(s)}this.allData=this.finalData,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllCaZones().subscribe({next:t=>{const o=window.navigator.language||"fr";_.locale(o),this.listCaZone=t.filter(l=>l.bureauId.zoneId===this.id),this.listDate=this.listCaZone.map(l=>_(l.mois).format("MMMM-YYYY"));const a=Array.from(this.listCaZone.reduce((l,d)=>{const{mois:u,caTotal:p}=d,b=l.get(u);return b?b.caTotal+=p:l.set(u,{...d}),l},new Map).values());console.log("sums",a),this.labeldata=a.map(l=>l.bureauId.bureau_name),this.realdata=a.map(l=>l.chiffreDaf);const s={janvier:this.color[0].hex,f\u00e9vrier:this.color[1].hex,mars:this.color[2].hex,avril:this.color[3].hex,mai:this.color[4].hex,juin:this.color[5].hex,juillet:this.color[6].hex,ao\u00fbt:this.color[7].hex,septembre:this.color[8].hex,octobre:this.color[9].hex,novembre:this.color[10].hex,d\u00e9cembre:this.color[11].hex};this.colordata=a.map(l=>{const d=_(l.mois).format("MMMM").toLowerCase();return s[d]||this.color[11].hex}),console.log("Label Data:",this.labeldata),console.log("Main Data:",this.realdata),console.log("Color Data:",this.colordata),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t),this.toastrService.error("Une erreur est survenue lors de la r\xe9cup\xe9ration des donn\xe9es."),this.loading=!1}})}RenderChart(t,o,a,s,l){new C.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}generateYearsBetween(t=2e3,o=2100){const a=o||(new Date).getFullYear();let s=[];for(var l=t;l<=a;l++)s.push(t),t++;return console.log("years",s),s}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.soG),e.Y36(m.gz),e.Y36(q.T),e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-zone"]],decls:37,vars:25,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,""],["id","barchart"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7,"back"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5),e._UZ(10,"h6",6),e.qZA(),e.TgZ(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,wo,14,5,"tr",10),e.qZA()()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"div",13)(31,"h6",6),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",14),e._UZ(36,"canvas",15),e.qZA()()()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,11,"DetailZone")," ",e.lcZ(5,13,"de")," ",o.zone," "),e.xp6(3),e.Q6J("routerLink",e.VKq(23,H,o.paysId)),e.xp6(7),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(18,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(21,17,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.allData),e.xp6(6),e.Oqu(e.lcZ(33,21,"CHIFFREDAFFAIREZone")))},dependencies:[c.sg,m.rH,T.G,g.X$]}),i})();function yo(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Io(i,r){1&i&&e._UZ(0,"span",68)}function Fo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Lo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Fo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Oo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function No(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Oo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Do(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Jo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Do,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Mo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Eo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Mo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function Yo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Qo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Yo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function ko(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Bo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,ko,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function jo(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function zo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,jo,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function Ko(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Vo(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Ko,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function Go(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Po(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Go,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function $o(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ro(i,r){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,$o,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}const Xo=function(){return["/rh/manager"]},L=function(i){return{"is-invalid":i}};let Ho=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.route=l,this.http=d,this.toastrService=u,this.translateService=p,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managereditForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],ethnie:["",n.kI.required],religion:["",n.kI.required],maladie_exist:["",n.kI.required],nbr_enfant:["",n.kI.required],genre:["",n.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.managerService.singleManager(t).subscribe(o=>{console.log(o.nom),this.managereditForm.patchValue({nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})})}get f(){return this.managereditForm.controls}onSubmit(){if(this.submitted=!0,console.log(this.managereditForm.value),this.managereditForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managereditForm.value.nom,prenom:this.managereditForm.value.prenom,fullnamemanager:`${this.managereditForm.value.nom}    ${this.managereditForm.value.prenom}`,telephone:this.managereditForm.value.telephone,date_naiss:this.managereditForm.value.date_naiss,lieu_naiss:this.managereditForm.value.lieu_naiss,piece:this.managereditForm.value.piece,num_piece:this.managereditForm.value.num_piece,grade:this.managereditForm.value.grade,genre:this.managereditForm.value.genre,situation_matrimonial:this.managereditForm.value.situation_matrimonial,ethnie:this.managereditForm.value.ethnie,religion:this.managereditForm.value.religion,maladie_exist:this.managereditForm.value.maladie_exist,nbr_enfant:this.managereditForm.value.nbr_enfant},o=this.route.snapshot.paramMap.get("id");this.managerService.updateManager(o,t).subscribe({next:a=>{this.toastrService.success(`Les informations du manager ${a.nom} ont bien \xe9t\xe9 modifi\xe9es!`)&&(this.buttonloading=!1,this.router.navigate(["rh/managers"]))},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-manager-form"]],decls:237,vars:94,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Manager"],["value","HCEF"],["value","Assistant Manager"],["value","Assistant Manager A10"],["value","Gestionnaire"],["value","Manager Superviseur de Zone"],["value","Manager Chef de section"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(12,"button",9),e.YNc(13,yo,3,3,"ng-container",10),e.YNc(14,Io,1,0,"span",11),e.qZA(),e._uU(15,"\xa0 "),e.TgZ(16,"button",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",13)(21,"div",6),e._UZ(22,"br")(23,"br"),e.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"div",7)(28,"label",17),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",18),e._uU(32,"*"),e.qZA()()(),e.TgZ(33,"div",7),e._UZ(34,"input",19),e.YNc(35,Lo,2,1,"div",20),e.qZA()()()(),e.TgZ(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",21)(40,"label",22),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",18),e._uU(44,"*"),e.qZA()()(),e.TgZ(45,"div",7),e._UZ(46,"input",23),e.YNc(47,No,2,1,"div",20),e.qZA()()()(),e.TgZ(48,"div",14)(49,"div",15)(50,"div",16)(51,"div",21)(52,"label",17),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",18),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",7),e._UZ(58,"input",24),e.YNc(59,Jo,2,1,"div",20),e.qZA()()()(),e.TgZ(60,"div",14)(61,"div",15)(62,"div",16)(63,"div",21)(64,"label",25),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",18),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",7)(70,"select",26)(71,"option",27),e._uU(72,"Feminin"),e.qZA(),e.TgZ(73,"option",28),e._uU(74,"Masculin"),e.qZA()(),e.YNc(75,Eo,2,1,"div",20),e.qZA()()()()(),e.TgZ(76,"div",6),e._UZ(77,"br")(78,"br"),e.TgZ(79,"div",29)(80,"div",15)(81,"div",16)(82,"div",7)(83,"label",30),e._uU(84),e.ALo(85,"translate"),e.TgZ(86,"span",18),e._uU(87,"*"),e.qZA()()(),e.TgZ(88,"div",7),e._UZ(89,"input",31),e.YNc(90,Qo,2,1,"div",20),e.qZA()()()(),e.TgZ(91,"div",29)(92,"div",15)(93,"div",16)(94,"div",7)(95,"label",32),e._uU(96),e.ALo(97,"translate"),e.TgZ(98,"span",18),e._uU(99,"*"),e.qZA()()(),e.TgZ(100,"div",7),e._UZ(101,"input",33),e.YNc(102,Bo,2,1,"div",20),e.qZA()()()(),e.TgZ(103,"div",29)(104,"div",15)(105,"div",16)(106,"div",7)(107,"label",34),e._uU(108),e.ALo(109,"translate"),e.TgZ(110,"span",18),e._uU(111,"*"),e.qZA()()(),e.TgZ(112,"div",7)(113,"select",35)(114,"option",36),e._uU(115,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(116,"option",37),e._uU(117,"attestation d'identit\xe9"),e.qZA(),e.TgZ(118,"option",38),e._uU(119,"passeport"),e.qZA(),e.TgZ(120,"option",39),e._uU(121,"recepisse"),e.qZA(),e.TgZ(122,"option",40),e._uU(123,"carte consulaire"),e.qZA(),e.TgZ(124,"option",41),e._uU(125,"carte de s\xe9jour"),e.qZA(),e.TgZ(126,"option",42),e._uU(127,"permis de conduire"),e.qZA(),e.TgZ(128,"option",43),e._uU(129,"aucune pi\xe8ce"),e.qZA()(),e.YNc(130,zo,2,1,"div",20),e.qZA()()()()(),e.TgZ(131,"div",6),e._UZ(132,"br")(133,"br"),e.TgZ(134,"div",14)(135,"div",15)(136,"div",16)(137,"div",7)(138,"label",44),e._uU(139),e.ALo(140,"translate"),e.TgZ(141,"span",18),e._uU(142,"*"),e.qZA()()(),e.TgZ(143,"div",7),e._UZ(144,"input",45),e.qZA()()()(),e.TgZ(145,"div",29)(146,"div",15)(147,"div",16)(148,"div",7)(149,"label",46),e._uU(150),e.ALo(151,"translate"),e.TgZ(152,"span",18),e._uU(153,"*"),e.qZA()()(),e.TgZ(154,"div",7)(155,"select",47)(156,"option",48),e._uU(157,"mari\xe9"),e.qZA(),e.TgZ(158,"option",49),e._uU(159,"celibataire"),e.qZA(),e.TgZ(160,"option",50),e._uU(161,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(162,"div",29)(163,"div",15)(164,"div",16)(165,"div",7)(166,"label",51),e._uU(167),e.ALo(168,"translate"),e.TgZ(169,"span",18),e._uU(170,"*"),e.qZA()()(),e.TgZ(171,"div",7)(172,"select",52)(173,"option",53),e._uU(174,"Manager"),e.qZA(),e.TgZ(175,"option",54),e._uU(176,"HCEF"),e.qZA(),e.TgZ(177,"option",55),e._uU(178,"Assistant Manager"),e.qZA(),e.TgZ(179,"option",56),e._uU(180,"Assistant Manager A10"),e.qZA(),e.TgZ(181,"option",57),e._uU(182,"Gestionnaire"),e.qZA(),e.TgZ(183,"option",58),e._uU(184,"Manager Superviseur de Zone"),e.qZA(),e.TgZ(185,"option",59),e._uU(186,"Manager Chef de section"),e.qZA()(),e.YNc(187,Vo,2,1,"div",20),e.qZA()()()()(),e.TgZ(188,"div",6),e._UZ(189,"br")(190,"br"),e.TgZ(191,"div",14)(192,"div",15)(193,"div",16)(194,"div",7)(195,"label",60),e._uU(196),e.ALo(197,"translate"),e.TgZ(198,"span",18),e._uU(199,"*"),e.qZA()()(),e.TgZ(200,"div",7),e._UZ(201,"input",61),e.qZA()()()(),e.TgZ(202,"div",14)(203,"div",15)(204,"div",16)(205,"div",7)(206,"label",62),e._uU(207),e.ALo(208,"translate"),e.TgZ(209,"span",18),e._uU(210,"*"),e.qZA()()(),e.TgZ(211,"div",7),e._UZ(212,"input",63),e.qZA()()()(),e.TgZ(213,"div",14)(214,"div",15)(215,"div",16)(216,"div",7)(217,"label",64),e._uU(218),e.ALo(219,"translate"),e.TgZ(220,"span",18),e._uU(221,"*"),e.qZA()()(),e.TgZ(222,"div",7),e._UZ(223,"input",65),e.YNc(224,Po,2,1,"div",20),e.qZA()()()(),e.TgZ(225,"div",14)(226,"div",15)(227,"div",16)(228,"div",7)(229,"label",66),e._uU(230),e.ALo(231,"translate"),e.TgZ(232,"span",18),e._uU(233,"*"),e.qZA()()(),e.TgZ(234,"div",7),e._UZ(235,"input",67),e.YNc(236,Ro,2,1,"div",20),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,41,"Modifemployer")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(73,Xo)),e.xp6(6),e.Q6J("formGroup",o.managereditForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(18,43,"Annuler")),e.xp6(12),e.hij("",e.lcZ(30,45,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(74,L,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(42,47,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(76,L,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(54,49,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,L,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(66,51,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,L,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(85,53,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(82,L,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(97,55,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(84,L,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(109,57,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(86,L,o.submitted&&o.f.piece.errors)),e.xp6(17),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(140,59,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(151,61,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(168,63,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(88,L,o.submitted&&o.f.grade.errors)),e.xp6(15),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(197,65,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(208,67,"Religion")),e.xp6(11),e.Oqu(e.lcZ(219,69,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,L,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(231,71,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,L,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,g.X$]}),i})();var z=h(8067);function Wo(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",8),e._uU(5),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.qZA(),e._UZ(10,"td",8),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(3),e.AsE("",t.managerId.nom,"\xa0 ",t.managerId.prenom," "),e.xp6(2),e.Oqu(o.bureau),e.xp6(2),e.Oqu(t.salaire_manager),e.xp6(2),e.Oqu(t.garantie_manager)}}let ei=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.agenceservice=o,this.salaireService=a,this.toastrService=s,this.translateService=l,this.managerData=[],this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getManagerSalaire(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}getManagerSalaire(){this.id=this.route.snapshot.paramMap.get("id"),this.salaireService.getAllsalaireByManager(this.id).subscribe({next:t=>{for(let o=0;o<t.length;o++)this.getbureau(t[o].salaireId.bureauId);this.managerData=t,this.dtTrigger.next(null),console.log(this.managerData)}})}getbureau(t){this.agenceservice.singleBureau(t).subscribe(o=>{this.bureau=o.bureau_name})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(A.q),e.Y36(z.o),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-manager"]],decls:28,vars:21,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,Wo,11,5,"tr",7),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,9,"DetailManager")),e.xp6(6),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(13,11,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(16,13,"NomBureau")),e.xp6(3),e.Oqu(e.lcZ(19,15,"Salaire")),e.xp6(3),e.Oqu(e.lcZ(22,17,"Cotisation")),e.xp6(3),e.Oqu(e.lcZ(25,19,"Action")),e.xp6(3),e.Q6J("ngForOf",o.managerData))},dependencies:[c.sg,T.G,g.X$]}),i})();function ti(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function oi(i,r){1&i&&e._UZ(0,"span",30)}function ii(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function ni(i,r){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,ii,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function ri(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"NomBureauObligatoire")))}function ai(i,r){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,ri,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureau_name.errors.required)}}const si=function(i){return{"is-invalid":i}};let li=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b,E){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.route=u,this.http=p,this.toastrService=b,this.translateService=E,this.listCountry=[],this.listBureau=[],this.listZone=[],this.listSection=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editbureauForm=new n.cw({bureau_name:new n.NI(""),countryId:new n.NI(""),zoneId:new n.NI(""),sectionId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editbureauForm=this.fb.group({bureau_name:["",n.kI.required],countryId:["",n.kI.required],zoneId:[""],sectionId:[""]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.agenceService.singleBureau(t).subscribe(o=>{this.selectedcountryItems=o.findagence.countryId,this.selectedzoneItems=o.zone,this.selectedsectionItems=o.sectionId,this.editbureauForm.patchValue({bureau_name:o.findagence.bureau_name,countryId:[o.findagence.countryId],zoneId:[o.zone],sectionId:[o.section]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownZoneSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"zone_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.dropdownSectionSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"section_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editbureauForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){if(t.submitted=!0,console.log(t.editbureauForm.value),t.editbureauForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const a={bureau_name:t.editbureauForm.value.bureau_name,countryId:t.editbureauForm.value.countryId[0]?._id,zoneId:t.editbureauForm.value.zoneId[0]?._id,sectionId:t.editbureauForm.value.sectionId[0]?._id};null==a.zoneId&&(a.zoneId=""),null==a.sectionId&&(a.sectionId=""),console.log("formData",a),t.agenceService.updateBureau(o,a).subscribe({next:s=>{console.log(s),t.toastrService.success(`Le pays ${s.bureau_name} a bien \xe9t\xe9 modifi\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1)},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteBureau(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onItemSelect(t){console.log("onItemSelect",t),this.zoneService.getAllZonesByCountry(t._id).subscribe({next:o=>{this.listZone=o,this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemZoneSelect(t){console.log("onItemSelect",t),this.sectionService.getAllSectionsByZone(t._id).subscribe({next:o=>{this.listSection=o,console.log("section",this.listSection),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onItemZoneDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownZoneClose(){console.log("dropdown closed")}toogleZoneShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleZoneShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onItemSectionSelect(t){console.log("onItemSelect",t),console.log("form model",this.editbureauForm.value)}onItemSectionDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureauForm.value)}onDropDownSectionClose(){console.log("dropdown closed")}toogleSectionShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleSectionShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/bureau"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(q.T),e.Y36(q.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-bureau"]],decls:66,vars:36,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","aria-label","Close",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["formControlName","countryId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","zoneId"],["formControlName","zoneId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["for","sectionId"],["formControlName","sectionId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","bureau_name"],[2,"color","hsl(0, 100%, 50%)(0, 100%, 50%)"],["type","text","placeholder","","id","bureau_name","formControlName","bureau_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,ti,3,3,"ng-container",10),e.YNc(13,oi,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(33,ni,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",15)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",22),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",7)(42,"ng-multiselect-dropdown",23),e.NdJ("onDropDownClose",function(){return o.onDropDownZoneClose()})("onSelect",function(s){return o.onItemZoneSelect(s)})("onDeSelect",function(s){return o.onItemZoneDeSelect(s)}),e.qZA()()()()(),e.TgZ(43,"div",15)(44,"div",16)(45,"div",17)(46,"div",7)(47,"label",24),e._uU(48),e.ALo(49,"translate"),e.TgZ(50,"span",19),e._uU(51,"*"),e.qZA()()(),e.TgZ(52,"div",7)(53,"ng-multiselect-dropdown",25),e.NdJ("onDropDownClose",function(){return o.onDropDownSectionClose()})("onSelect",function(s){return o.onItemSectionSelect(s)})("onDeSelect",function(s){return o.onItemSectionDeSelect(s)}),e.qZA()()()()(),e.TgZ(54,"div",26)(55,"div",16)(56,"div",17)(57,"div",7)(58,"label",27),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"span",28),e._uU(62,"*"),e.qZA()()(),e.TgZ(63,"div",7),e._UZ(64,"input",29),e.YNc(65,ai,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,22,"ModifBureau")),e.xp6(8),e.Q6J("formGroup",o.editbureauForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,24,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,26,"SelectPays")),e.xp6(5),e.Q6J("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij(" ",e.lcZ(40,28,"SelectionZone"),""),e.xp6(3),e.Q6J("data",o.listZone)("disabled",o.disabled)("settings",o.dropdownZoneSettings),e.xp6(6),e.Oqu(e.lcZ(49,30,"SelectionSection")),e.xp6(5),e.Q6J("data",o.listSection)("disabled",o.disabled)("settings",o.dropdownSectionSettings),e.xp6(6),e.Oqu(e.lcZ(60,32,"NomBureau")),e.xp6(5),e.Q6J("ngClass",e.VKq(34,si,o.submitted&&o.f.bureau_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureau_name.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,g.X$]}),i})();function di(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function ui(i,r){1&i&&e._UZ(0,"span",25)}function ci(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function gi(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,ci,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.countryId.errors.required)}}function mi(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function pi(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,mi,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.zone_name.errors.required)}}const _i=function(i){return{"is-invalid":i}};let hi=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b,E){this.agenceService=t,this.zoneService=o,this.sectionService=a,this.countryService=s,this.fb=l,this.router=d,this.route=u,this.http=p,this.toastrService=b,this.translateService=E,this.listCountry=[],this.listZone=[],this.selectedcountryItems=[],this.selectedzoneItems=[],this.selectedsectionItems=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dropdownZoneSettings={},this.dropdownSectionSettings={},this.keyLanguage="userLanguage",this.percentDone=0,this.editzoneForm=new n.cw({zone_name:new n.NI(""),countryId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editzoneForm=this.fb.group({zone_name:["",n.kI.required],countryId:["",n.kI.required]})}ngOnInit(){this.getAllCountry();const t=this.route.snapshot.paramMap.get("id");this.zoneService.getsingleZone(t).subscribe(o=>{console.log("resultat:==>",o),this.selectedcountryItems=o.countryId,this.editzoneForm.patchValue({zone_name:o.zone_name,countryId:[o.countryId]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"country_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editzoneForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){if(t.submitted=!0,console.log(t.editzoneForm.value),t.editzoneForm?.invalid)return;const o=t.route.snapshot.paramMap.get("id");t.buttonloading=!0;const a={zone_name:t.editzoneForm.value.zone_name,countryId:t.editzoneForm.value.countryId[0]?._id};console.log("formData",a),t.zoneService.updateZone(o,a).subscribe({next:s=>{console.log("data",s),t.toastrService.success(`La zone ${s.zone_name} a bien \xe9t\xe9 modifi\xe9e \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.router.navigate(["/rh/zone"]))},error:s=>{console.log(s),t.toastrService.error(s.error),t.buttonloading=!1}})})()}getAllCountry(){this.countryService.getAllCountries().subscribe({next:t=>{this.listCountry=t,console.log(this.listCountry),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editzoneForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editzoneForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}annuler(){this.router.navigate(["/rh/zone"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(q.T),e.Y36(q.T),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-zone"]],decls:46,vars:25,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"container"],[1,"card"],[1,"col-lg-3","col-md-3"],[1,"form-group"],[1,"mb-3"],["for","countryId"],[2,"color","red"],["name","countryId","formControlName","countryId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-3","col-md-3","col-xl-3"],["for","zone_name"],["type","text","placeholder","","id","zone_name","formControlName","zone_name",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,di,3,3,"ng-container",10),e.YNc(13,ui,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.annuler()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27),e.ALo(28,"translate"),e.TgZ(29,"span",19),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",7)(32,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(33,gi,2,1,"div",21),e.qZA()()()(),e.TgZ(34,"div",22)(35,"div",16)(36,"div",17)(37,"div",7)(38,"label",23),e._uU(39),e.ALo(40,"translate"),e.TgZ(41,"span",19),e._uU(42,"*"),e.qZA()()(),e.TgZ(43,"div",7),e._UZ(44,"input",24),e.YNc(45,pi,2,1,"div",21),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,15,"ModifZone")),e.xp6(8),e.Q6J("formGroup",o.editzoneForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,17,"Annuler")),e.xp6(11),e.Oqu(e.lcZ(28,19,"SelectPays")),e.xp6(5),e.Q6J("placeholder","Select Country")("data",o.listCountry)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.countryId.errors),e.xp6(6),e.hij("",e.lcZ(40,21,"NomZone")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(23,_i,o.submitted&&o.f.zone_name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.zone_name.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,g.X$]}),i})();const fi=function(i){return["/rh/list-salaire-du-bureau",i]},Zi=function(i){return["/rh/stock-bureau",i]};function vi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",7),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"button",9),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"ul",10)(9,"li")(10,"a",11),e._uU(11,"Chiffre d'affaire"),e.qZA()(),e.TgZ(12,"li")(13,"a",11),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name),e.xp6(4),e.hij(" ",e.lcZ(7,5,"choisaction")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(9,fi,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(11,Zi,t._id)),e.xp6(1),e.Oqu(e.lcZ(15,7,"VoirStockduBureau"))}}let bi=(()=>{class i{constructor(t,o,a){this.agenceService=t,this.toastrService=o,this.translateService=a,this.listBureau=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:"Text Customer"}},this.getAllBureau()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log("erreur",t),this.toastrService.error(t.statusText),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-salaire-bureau"]],decls:17,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"cursor","pointer"],[1,"btn-group","dropend"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,vi,16,13,"tr",6),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"GestionDesSalaires")," "),e.xp6(5),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(12,7,"NomBureau")),e.xp6(5),e.Q6J("ngForOf",o.listBureau))},dependencies:[c.sg,m.rH,T.G,g.X$]}),i})();var Ai=h(727);function qi(i,r){if(1&i&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ti(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",13),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",13),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td",13),e._uU(10),e.ALo(11,"number"),e.qZA()()),2&i){const t=r.$implicit,o=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.AsE("",t," ",o,""),e.xp6(2),e.hij("",e.Dn7(5,5,null==a.listSalaire[o]||null==a.listSalaire[o].mois[t]?null:a.listSalaire[o].mois[t].chiffreDaf,"1.0-0","fr-FR")," FCFA"),e.xp6(3),e.hij("",e.Dn7(8,9,null==a.listSalaire[o]||null==a.listSalaire[o].mois[t]?null:a.listSalaire[o].mois[t].chargeBureau,"1.0-0","fr-FR")," FCFA"),e.xp6(3),e.hij("",e.Dn7(11,13,null==a.listSalaire[o]||null==a.listSalaire[o].mois[t]?null:a.listSalaire[o].mois[t].montant_bank,"1.0-0","fr-FR")," FCFA")}}function Ci(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ti,12,17,"tr",14),e.BQk()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getMoisKeys(null==o.listSalaire[t]?null:o.listSalaire[t].mois))}}C.kL.register(...C.zX);let Si=(()=>{class i{constructor(t,o,a,s,l){this.route=t,this.agenceService=o,this.salaireService=a,this.toastrService=s,this.translateService=l,this.listSalaire=[],this.loading=!0,this.keyLanguage="userLanguage",this.dtoptions={},this.dtTrigger=new v.x,this.subscriptions=new Ai.w0,this.labeldata=[],this.realdata=[],this.colordata=[],this.totalCa=0,this.annees=[],this.selectedAnnee="",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllSalaire(),this.getBureau()}ngOnDestroy(){this.dtTrigger.unsubscribe(),this.subscriptions.unsubscribe()}getAllSalaire(){this.id=this.route.snapshot.paramMap.get("id");const t=this.salaireService.getAllSalaireBureau(this.id).subscribe({next:o=>{console.log("vrai data",o);for(let s=0;s<o.length;s++)this.labeldata.push(o[s].mois.valueMois),this.realdata.push(o[s].chiffreDaf),this.colordata.push(o[s].mois.codeColor);const a=o.reduce((s,l)=>{const d=l.annee.value,u=l.mois.valueMois,p=l.mois.codeColor;return s[d]||(s[d]={total:0,mois:{}}),s[d].mois[u]||(s[d].mois[u]={chargeBureau:0,chiffreDaf:0,salaire_agent:0,salaire_formateur:0,salaire_total_manager:0,montant_bank:0,motant_total:0,color:p}),s[d].mois[u].chargeBureau=l.chargeBureau,s[d].mois[u].chiffreDaf=l.chiffreDaf,s[d].mois[u].salaire_agent=l.salaire_agent,s[d].mois[u].salaire_formateur=l.salaire_formateur,s[d].mois[u].salaire_total_manager=l.salaire_total_manager,s[d].mois[u].montant_bank=l.montant_bank,s[d].mois[u].motant_total=l.motant_total,s[d].total+=l.chiffreDaf,this.annees.includes(d.toString())||this.annees.push(d.toString()),s},{});this.listSalaire=a,this.annees.length>0&&(this.selectedAnnee=this.annees[0],this.onAnneeChange()),this.totalCa=a[this.selectedAnnee].total,this.dtTrigger.next(null),console.log(this.listSalaire)},error:o=>{console.log(o),this.loading=!1,this.toastrService.error("Erreur lors du chargement des salaires.")}});this.subscriptions.add(t)}onAnneeChange(){if(this.selectedAnnee){const t=this.listSalaire[this.selectedAnnee].mois,o=[],a=[],s=[],l=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],d=Object.keys(t).sort((u,p)=>l.indexOf(u)-l.indexOf(p));for(const u of d)t[u].chiffreDaf>0&&(o.push(u),a.push(t[u].chiffreDaf),s.push(t[u].color));this.RenderChart(o,a,s,"bar","barchart")}}RenderChart(t,o,a,s,l){this.chartInstance&&this.chartInstance.destroy();const d=document.getElementById(l);this.chartInstance=new C.kL(d,{type:s,data:{labels:t,datasets:[{label:"# CA",data:o,backgroundColor:a,borderColor:a,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getBureau(){this.id=this.route.snapshot.paramMap.get("id");const t=this.agenceService.singleBureau(this.id).subscribe({next:o=>{this.agence=o.findagence.bureau_name,this.bureauId=o._id,this.dtTrigger.next(null),this.loading=!1},error:o=>{console.log("erreur",o),this.toastrService.error("Erreur lors du chargement du bureau."),this.loading=!1}});this.subscriptions.add(t)}getAnneeKeys(t){return Object.keys(t)}getMoisKeys(t){return Object.keys(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(A.q),e.Y36(z.o),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-salaire-bureau"]],decls:51,vars:49,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/rh/salaire-bureau",1,"btn","btn-outline-primary"],[1,"form-group"],["for","anneeSelect"],["id","anneeSelect",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[1,"text-center"],[4,"ngFor","ngForOf"],[2,"display","block"],[1,"card-header","py-3"],["id","barchart"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"a",3),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"h6",2),e._uU(10),e.ALo(11,"translate"),e.ALo(12,"translate"),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"div",4)(15,"label",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"select",6),e.NdJ("ngModelChange",function(s){return o.selectedAnnee=s})("change",function(){return o.onAnneeChange()}),e.TgZ(19,"option",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,qi,2,2,"option",8),e.qZA()(),e.TgZ(23,"div",9)(24,"div",10)(25,"div",11)(26,"table",12)(27,"thead")(28,"tr")(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th",13),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th",13),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th",13),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,Ci,2,1,"ng-container",14),e.qZA()()()()(),e.TgZ(43,"div",9)(44,"div",15)(45,"div",16)(46,"h6"),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.TgZ(49,"div",10),e._UZ(50,"canvas",17),e.qZA()()()()),2&t&&(e.xp6(3),e.lnq(" ",e.lcZ(4,21,"RendementBureau")," ",e.lcZ(5,23,"de")," ",o.agence," "),e.xp6(4),e.hij(" ",e.lcZ(8,25,"Retour")," "),e.xp6(3),e.HOy(" ",e.lcZ(11,27,"RendementBureau")," ",e.lcZ(12,29,"de")," l'ann\xe9e ",o.selectedAnnee,": ",e.Dn7(13,31,o.totalCa,"1.0-0","fr-FR")," FCFA "),e.xp6(6),e.hij("",e.lcZ(17,35,"FiltrerAnnee"),":"),e.xp6(2),e.Q6J("ngModel",o.selectedAnnee),e.xp6(2),e.Oqu("-- "+e.lcZ(21,37,"ChoisissezAnnee")+" --"),e.xp6(2),e.Q6J("ngForOf",o.annees),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(31,39,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(34,41,"CHIFFREDAFFAIRE")),e.xp6(3),e.Oqu(e.lcZ(37,43,"ChargeBureau")),e.xp6(3),e.Oqu(e.lcZ(40,45,"ResteDeposeBanque")),e.xp6(3),e.Q6J("ngForOf",o.getAnneeKeys(o.listSalaire)),e.xp6(5),e.AsE("",e.lcZ(48,47,"DiagrammeRendement")," ",o.agence,""))},dependencies:[c.sg,m.rH,n.YN,n.Kr,n.EJ,n.JJ,n.On,T.G,c.JJ,g.X$]}),i})();var G=h(6166),xi=h(2983),U=h.n(xi),W=h(1384);function wi(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Ui(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}C.kL.register(...C.zX);let yi=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b,E,k){this.zoneService=t,this.managerService=o,this.fb=a,this.http=s,this.tauxservice=l,this.route=d,this.countryservice=u,this.toastrService=p,this.translateService=b,this.router=E,this.serviceAfffectation=k,this.datazone=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaZone=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getlistcabyzone(),this.getAllCaZone()}getlistcabyzone(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllSZByZone(t).subscribe({next:o=>{this.datazone=o,this.zoneNom=o[0].zoneId.zone_name,console.log("data sz and zone",this.datazone)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaZone(){this.id=this.route.snapshot.paramMap.get("id"),this.countryservice.getAllZonesCa().subscribe({next:t=>{const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),_.locale(o);for(let a=0;a<t.length;a++)t[a].bureauId.zoneId==this.id&&(this.listCaZone.push(t[a]),this.listDate.push(_(t[a].mois).format("MMMM-YYYY")));console.log("ca zone",this.listCaZone),this.sums=[...this.listCaZone.reduce((a,s)=>{const{mois:l,chiffreDaf:d}=s,u=a.get(l);return u?u.chiffreDaf+=d:a.set(l,Object.assign({},s)),a},new Map).values()],console.log("sums",this.sums);for(let a=0;a<this.sums.length;a++)this.labeldata.push(_(this.sums[a].mois).format("MMMM-YYYY")),this.realdata.push(this.sums[a].chiffreDaf),"january"===_(this.sums[a].mois).format("MMMM")||"janvier"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[0].name):"february"===_(this.sums[a].mois).format("MMMM")||"f\xe9vrier"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[1].name):"march"===_(this.sums[a].mois).format("MMMM")||"mars"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[2].name):"april"===_(this.sums[a].mois).format("MMMM")||"avril"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[3].name):"May"===_(this.sums[a].mois).format("MMMM")||"Mai"===_(this.sums[a].mois).format("MMMM")?(console.log(_(this.sums[a].mois).format("MMMM")),this.colordata.push(this.color[4].name)):"june"===_(this.sums[a].mois).format("MMMM")||"juin"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[5].name):"july"===_(this.sums[a].mois).format("MMMM")||"juillet"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[6].name):"august"===_(this.sums[a].mois).format("MMMM")||"ao\xfbt"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[7].name):"semptember"===_(this.sums[a].mois).format("MMMM")||"semptembre"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[8].name):"october"===_(this.sums[a].mois).format("MMMM")||"octobre"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[9].name):"november"===_(this.sums[a].mois).format("MMMM")||"novembre"===_(this.sums[a].mois).format("MMMM")?this.colordata.push(this.color[10].name):this.colordata.push(this.color[11].name);this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:l=>{this.primeSupervisor=t*l[0].taux_zone/100,console.log(this.primeSupervisor)}});const a=new G.default;var s=new Image;return s.src="assets/logotsw.png",a.addImage(s.src,30,20,10,10),U()(a,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),U()(a,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.zoneNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),U()(a,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),U()(a,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),U()(a,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),a.save("bulletin_paie.pdf")}RenderChart(t,o,a,s,l){new C.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.T),e.Y36(y.b),e.Y36(n.qu),e.Y36(Z.eN),e.Y36(W.Q),e.Y36(m.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0),e.Y36(Q.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-ca-zone"]],decls:45,vars:20,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,""],["id","barchart"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,wi,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,Ui,6,6,"tr",8),e.qZA()()()()(),e.TgZ(35,"div",9)(36,"div",10)(37,"div",4)(38,"div",11)(39,"h6",12),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",5)(43,"div",13),e._UZ(44,"canvas",14),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,8,"CHIFFREDAFFAIREZone")," "),e.xp6(11),e.Oqu(e.lcZ(15,10,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(18,12,"nomsupervisieurZone")),e.xp6(3),e.Q6J("ngForOf",o.datazone),e.xp6(8),e.Oqu(e.lcZ(29,14,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,16,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("ngForOf",o.sums),e.xp6(6),e.Oqu(e.lcZ(41,18,"CHIFFREDAFFAIREZone")))},dependencies:[c.sg,m.rH,c.uU,g.X$]}),i})();function Ii(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.zoneId.zone_name),e.xp6(2),e.AsE("",t.managerId.nom," ",t.managerId.prenom," ")}}function Fi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"a",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.getprimesupervisor(s.chiffreDaf,s.bureauId.zoneId))}),e._UZ(8,"i",20),e._uU(9," payer la prime"),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,2,t.mois,"MMMM-yyyy","fr")),e.xp6(3),e.hij("",t.chiffreDaf," FCFA ")}}C.kL.register(...C.zX);let Li=(()=>{class i{constructor(t,o,a,s,l,d,u,p,b,E,k,sa){this.sectionService=t,this.managerService=o,this.fb=a,this.http=s,this.tauxservice=l,this.route=d,this.countryservice=u,this.toastrService=p,this.translateService=b,this.router=E,this.salaireService=k,this.serviceAfffectation=sa,this.datasection=[],this.color=[{name:"Absolute Zero",hex:"#0048BA"},{name:"Acid Green",hex:"#B0BF1A"},{name:"Aero",hex:"#7CB9E8"},{name:"Aero Blue",hex:"#C9FFE5"},{name:"African Violet",hex:"#B284BE"},{name:"Air Force Blue (RAF)",hex:"#5D8AA8"},{name:"Air Force Blue (USAF)",hex:"#00308F"},{name:"Air Superiority Blue",hex:"#72A0C1"},{name:"Alabama Crimson",hex:"#AF002A"},{name:"Alabaster",hex:"#F2F0E6"},{name:"Alice Blue",hex:"#F0F8FF"},{name:"Alien Armpit",hex:"#84DE02"}],this.now=new Date,this.mois=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.date=this.now.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),this.month=this.mois[this.now.getMonth()],this.year=this.now.getFullYear(),this.disabled=!1,this.labeldata=[],this.realdata=[],this.colordata=[],this.listSectionByZone=[],this.listCaSection=[],this.listCagroupZone=[],this.listDate=[],this.loading=!0,this.anneeList=[],this.dropdownSettingsAnnee={},this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.filterForm=new n.cw({annee:new n.NI("")}),this.translateService.use(localStorage.getItem(this.keyLanguage)),this.filterForm=this.fb.group({annee:[""]})}ngOnInit(){this.getlistcabysection(),this.getAllCaSection(),this.getALLannee(),this.dropdownSettingsAnnee={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"value",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter},this.filterca()}getlistcabysection(){const t=this.route.snapshot.paramMap.get("id");this.serviceAfffectation.getAllMLSBychefSection(t).subscribe({next:o=>{this.datasection=o,this.sectionNom=o[0].zoneId.section_name,console.log("data mls and section",this.datasection)},error:o=>{this.toastrService.error(o.statusText)}})}getAllCaSection(){this.id=this.route.snapshot.paramMap.get("id"),this.sectionService.getAllSectionCa(this.id).subscribe({next:t=>{this.listCaSection=t;const o=window.navigator.language||window.navigator.language;console.log("navigator language: "+o),_.locale(o),this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")},error:t=>{console.log(t),this.loading=!1}})}filterca(){const t={sectionId:this.route.snapshot.paramMap.get("id"),dateStart:this.filterForm.value.annee};this.sectionService.getAllSectionCaBymois(t).subscribe({next:o=>{for(let a=0;a<o.length;a++)this.labeldata.push(_(o[a].mois.valueMois)),this.colordata.push(_(o[a].mois.codeColor)),this.realdata.push(o[a].casection)}}),console.log(t)}getprimesupervisor(t,o){this.tauxservice.singleTauxBYZone(o).subscribe({next:l=>{this.primeSupervisor=t*l[0].taux_zone/100,console.log(this.primeSupervisor)}});const a=new G.default;var s=new Image;return s.src="assets/logotsw.png",a.addImage(s.src,30,20,10,10),U()(a,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),U()(a,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Bureau:${this.sectionNom}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),U()(a,{body:[[{content:`Bulletin de paie du mois de ${this.month} ${this.year}`,styles:{halign:"center",fontSize:13,fillColor:"#B0B2EA"}}]],theme:"plain"}),U()(a,{body:[[{content:`Chiffre d'affaire: \n${t}`,styles:{halign:"right",fontSize:14,textColor:"#3366ff"}}]],theme:"plain"}),U()(a,{head:[["LIBELLE","MONTANT"]],body:[["PRIME",`${this.primeSupervisor}`]],theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),a.save("bulletin_paie.pdf")}RenderChart(t,o,a,s,l){new C.kL(l,{type:s,data:{labels:t,datasets:[{label:"Chiffre d'affaire",data:o,backgroundColor:a,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getALLannee(){this.salaireService.getAllAnnee().subscribe(t=>{this.anneeList=t,console.log(this.anneeList)})}onDetailSZ(t){this.managerService.singleManager(t).subscribe({next:o=>{this.detailca=o,console.log(this.detailca)},error:o=>{this.toastrService.error(o.statusText)}})}onItemSelectAnnee(t){this.filterForm.value.annee=t._id,console.log("ann\xe9e",t._id)}onItemDeSelectAnnee(t){console.log("onItem DeSelect",t)}onDropDownCloseAnnee(){console.log("dropdown closed")}toogleShowAllAnnee(){this.showAll=!this.showAll,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{enableCheckAll:this.showAll})}toogleShowFilterAnnee(){this.ShowFilter=!this.ShowFilter,this.dropdownSettingsAnnee=Object.assign({},this.dropdownSettingsAnnee,{allowSearchFilter:this.ShowFilter})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.T),e.Y36(y.b),e.Y36(n.qu),e.Y36(Z.eN),e.Y36(W.Q),e.Y36(m.gz),e.Y36(q.T),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0),e.Y36(z.o),e.Y36(Q.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-ca-section"]],decls:53,vars:27,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/accounting/paie-prime-sz",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-xl-12","col-lg-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],[1,"text-end"],[3,"formGroup","ngSubmit"],["for","annee"],["id","annee","formControlName","annee",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],[1,""],["id","barchart"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-print"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Ii,5,3,"tr",8),e.qZA()()()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"table",7)(25,"thead")(26,"tr")(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,Fi,10,6,"tr",8),e.qZA()()()()(),e.TgZ(38,"div",9)(39,"div",10)(40,"div",4)(41,"div",11)(42,"h6",12),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",13)(46,"form",14),e.NdJ("ngSubmit",function(){return o.filterca()}),e.TgZ(47,"label",15),e._uU(48,"Filtrer par ann\xe9e"),e.qZA(),e.TgZ(49,"ng-multiselect-dropdown",16),e.NdJ("onDropDownClose",function(){return o.onDropDownCloseAnnee()})("onSelect",function(s){return o.onItemSelectAnnee(s)})("onDeSelect",function(s){return o.onItemDeSelectAnnee(s)}),e.qZA()()()(),e.TgZ(50,"div",5)(51,"div",17),e._UZ(52,"canvas",18),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"CHIFFREDAFFAIRESection")," "),e.xp6(11),e.Oqu(e.lcZ(15,15,"NomSection")),e.xp6(3),e.Oqu(e.lcZ(18,17,"nomchefSection")),e.xp6(3),e.Q6J("ngForOf",o.datasection),e.xp6(8),e.Oqu(e.lcZ(29,19,"MoisDe")),e.xp6(3),e.hij("",e.lcZ(32,21,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Oqu(e.lcZ(35,23,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCaSection),e.xp6(6),e.hij("",e.lcZ(44,25,"CHIFFREDAFFAIREZone")," "),e.xp6(3),e.Q6J("formGroup",o.filterForm),e.xp6(3),e.Q6J("data",o.anneeList)("disabled",o.disabled)("settings",o.dropdownSettingsAnnee))},dependencies:[c.sg,m.rH,n._Y,n.JJ,n.JL,n.sg,n.u,S.OP,c.uU,g.X$]}),i})();var Oi=h(3862),Ni=h(5644);function Di(i,r){if(1&i&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.quantity," ")}}function Ji(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Di,2,1,"div",12),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.productId.name),e.xp6(2),e.Q6J("ngIf",!t.isEdit)}}const Mi=function(){return["/accounting/salaire-bureau"]};let Ei=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.route=t,this.countryService=o,this.productService=a,this.stockService=s,this.http=l,this.toastrService=d,this.translateService=u,this.router=p,this.listProducts=[],this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.submitted=!1,this.dropdownSettings={},this.Settings={},this.selectedItem=[],this.keyLanguage="userLanguage",this.columns=["NOM DU PRODUIT","QUANTITE"],this.rows=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllProductsbyBureau()}onEditquantity(t){this.listProducts.forEach(o=>{o.isEdit=!1}),t.isEdit=!0}onClosequantity(t){t.isEdit=!1,window.location.reload()}onSavequantity(t){console.log("productQuantityObj",t);const o={id:t._id,agenceId:t.agenceId._id,productId:t.productId._id,quantity:Number(t.quantity),quantitytotalenmagasin:Number(t.quantitytotalenmagasin)};this.stockService.updateBureauProductstoct(JSON.stringify(o)).subscribe(a=>{500==a.status?this.toastrService.error(a.message):200==a.status?(this.toastrService.success("Quantit\xe9 modifi\xe9e avec succ\xe8s!!"),this.loading=!1,window.location.reload()):this.toastrService.error(a.message)})}getAllProductsbyBureau(){this.id=this.route.snapshot.paramMap.get("id"),this.stockService.getAllBureauProduct(this.id).subscribe(t=>{this.listProducts=t,this.agence=this.listProducts[0].agenceId.bureau_name,this.agenceId=this.id,console.log("this.listProducts",this.listProducts),this.loading=!1;for(let o=0;o<this.listProducts.length;o++)this.rows.push([this.listProducts[o].productId.name,this.listProducts[o].quantity])})}downloadPDF(){const t=new G.jsPDF;var o=new Image;return o.src="assets/logotsw.png",t.addImage(o.src,30,20,10,10),U()(t,{body:[[{content:"\n",styles:{halign:"left"}}]],theme:"plain"}),U()(t,{body:[[{content:"TOTAL SUCCESS WORLD-TSW\nMarcory Cit\xe9 Hibiscus Villa 189\nBP 3450 Abidjan 10\nT\xe9l: 2721261411/0554543098\nSite web: www.tswintl.com",styles:{halign:"left"}},{content:`Stock du bureau ${this.agence}\n\n\n`,styles:{halign:"right"}}]],theme:"plain"}),U()(t,{head:[this.columns],body:this.rows,theme:"plain",styles:{halign:"center"},headStyles:{fillColor:[124,95,240]},alternateRowStyles:{fillColor:[231,215,252]},tableLineColor:[124,95,240],tableLineWidth:.1}),t.save("stock_pays.pdf")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.gz),e.Y36(q.T),e.Y36(Oi.M),e.Y36(Ni.q),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-stockbureau"]],decls:25,vars:13,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fas-printer"],[1,"card-body"],[1,"table-responsive"],[1,"row-border","hover","table","table-bordered"],[4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[1,"col-md-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"a",6),e.NdJ("click",function(){return o.downloadPDF()}),e._uU(10," imprimer "),e._UZ(11,"i",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,Ji,5,2,"tr",11),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,6,"StockBureau")," ",o.agence," "),e.xp6(2),e.Q6J("routerLink",e.DdM(12,Mi)),e.xp6(13),e.Oqu(e.lcZ(19,8,"NomProduit")),e.xp6(3),e.Oqu(e.lcZ(22,10,"QuantiteDispo")),e.xp6(3),e.Q6J("ngForOf",o.listProducts))},dependencies:[c.sg,c.O5,m.rH,g.X$]}),i})();const Yi=function(i){return["/rh/modification-localisation-bureau",i]};function Qi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",39)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e._uU(5),e.qZA(),e.TgZ(6,"td",41)(7,"a",42),e._UZ(8,"i",43),e.qZA(),e._uU(9,"\xa0 "),e.TgZ(10,"a",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteLcation(s._id))}),e._UZ(11,"i",45),e.qZA()()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.bureauId.bureau_name),e.xp6(2),e.hij(" ",t.localisation_bureau," "),e.xp6(2),e.Q6J("routerLink",e.VKq(3,Yi,t._id))}}function ki(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Bi(i,r){1&i&&e._UZ(0,"span",46)}function ji(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function zi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,ji,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function Ki(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Vi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,Ki,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}function Gi(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Pi(i,r){1&i&&e._UZ(0,"span",46)}function $i(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ri(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,$i,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function Xi(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function Hi(i,r){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,Xi,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}const ee=function(i){return{"is-invalid":i}};let Wi=(()=>{class i{constructor(t,o,a,s,l,d){this.agenceService=t,this.fb=o,this.router=a,this.http=s,this.toastrService=l,this.translateService=d,this.listBureauLocation=[],this.listBureau=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.selectedbureauItems=[],this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.bureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.editbureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.bureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]}),this.editbureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]})}ngOnInit(){this.getAllBureau(),this.getAllLocatilsationBureau(),this.dtoptions={pagingType:"full_numbers",searching:!0,lengthChange:!1,language:{searchPlaceholder:"Recherche rapide"}},this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.bureaulocateForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){t.submitted=!0,console.log(t.bureaulocateForm.value),t.bureaulocateForm?.invalid||(t.buttonloading=!0,t.agenceService.registerlocalisationBureau({localisation_bureau:t.bureaulocateForm.value.localisation_bureau,bureauId:t.bureaulocateForm.value.bureauId[0]?._id}).subscribe({next:a=>{t.toastrService.success(`La localisation du bureau ${t.bureaulocateForm.value.bureauId[0]?.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,window.location.reload())},error:a=>{t.toastrService.error(a.error.message),t.buttonloading=!1}}))})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences},error:t=>{console.log(t),this.loading=!1}})}getAllLocatilsationBureau(){this.agenceService.alllocalisationBureau().subscribe({next:t=>{this.listBureauLocation=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listBureau)},error:t=>{console.log(t),this.loading=!1}})}onDeleteLcation(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.agenceService.removeBureau(t).subscribe({next:o=>{this.toastrService.success(o.message)},error:o=>{console.log(o),this.loading=!1}}),window.location.reload())}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.bureaulocateForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.bureaulocateForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}editelocalisation(t){console.log(t),this.agenceService.singlelocalisationBureau(t).subscribe(o=>{console.log(o),this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})})}onsaveEditSubmit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-localisation-bureau"]],decls:111,vars:38,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addAgenceLcationModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addAgenceLcationModal","tabindex","-1","aria-labelledby","addAgenceLcationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","addAgenceLcationModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-12","col-md-12"],[1,"form-group"],[1,"mb-3"],["for","bureauId"],[2,"color","red"],["name","bureauId","formControlName","bureauId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","col-md-12","col-xl-12"],["for","localisation_bureau"],["type","text","placeholder","","id","localisation_bureau","formControlName","localisation_bureau",1,"form-control",3,"ngClass"],["id","editAgenceLcationModal","tabindex","-1","aria-labelledby","editAgenceLcationModalLabel","aria-hidden","true",1,"modal","fade"],["id","editAgenceLcationModalLabel",1,"modal-title"],[1,"hover"],[1,"hover","text-center"],[1,"text-center"],["href","",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Situation g\xe9ograohique des bureau"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4)(6,"button",5),e._UZ(7,"i",6),e._uU(8,"\xa0Ajouter une localisation du bureau "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"Nom du bureau"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Localisation"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Qi,12,5,"tr",10),e.qZA()()()()()(),e.TgZ(23,"div",11)(24,"div",12)(25,"div",13)(26,"div",14)(27,"h3",15),e._uU(28,"Ajouter la localisation d'un bureau"),e.qZA(),e._UZ(29,"button",16),e.qZA(),e.TgZ(30,"div",17)(31,"div",18)(32,"div",19)(33,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(34,"button",21),e.YNc(35,ki,3,3,"ng-container",22),e.YNc(36,Bi,1,0,"span",23),e.qZA(),e._uU(37,"\xa0 "),e.TgZ(38,"button",24),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"div",25)(43,"div",26)(44,"div",18)(45,"div",27)(46,"div",28)(47,"div",29)(48,"div",19)(49,"label",30),e._uU(50,"Selectionner le bureau"),e.TgZ(51,"span",31),e._uU(52,"*"),e.qZA()()(),e.TgZ(53,"div",19)(54,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(55,zi,2,1,"div",33),e.qZA()()()(),e.TgZ(56,"div",34)(57,"div",28)(58,"div",29)(59,"div",19)(60,"label",35),e._uU(61,"Localisation"),e.TgZ(62,"span",31),e._uU(63,"*"),e.qZA()()(),e.TgZ(64,"div",19),e._UZ(65,"input",36),e.YNc(66,Vi,2,1,"div",33),e.qZA()()()()()()()()()()()()()(),e.TgZ(67,"div",37)(68,"div",12)(69,"div",13)(70,"div",14)(71,"h3",38),e._uU(72,"Ajouter la localisation d'un bureau"),e.qZA(),e._UZ(73,"button",16),e.qZA(),e.TgZ(74,"div",17)(75,"div",18)(76,"div",19)(77,"form",20),e.NdJ("ngSubmit",function(){return o.onsaveEditSubmit()}),e.TgZ(78,"button",21),e.YNc(79,Gi,3,3,"ng-container",22),e.YNc(80,Pi,1,0,"span",23),e.qZA(),e._uU(81,"\xa0 "),e.TgZ(82,"button",24),e._uU(83),e.ALo(84,"translate"),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"div",25)(87,"div",26)(88,"div",18)(89,"div",27)(90,"div",28)(91,"div",29)(92,"div",19)(93,"label",30),e._uU(94,"Selectionner le bureau"),e.TgZ(95,"span",31),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",19)(98,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(99,Ri,2,1,"div",33),e.qZA()()()(),e.TgZ(100,"div",34)(101,"div",28)(102,"div",29)(103,"div",19)(104,"label",35),e._uU(105,"Localisation"),e.TgZ(106,"span",31),e._uU(107,"*"),e.qZA()()(),e.TgZ(108,"div",19),e._UZ(109,"input",36),e.YNc(110,Hi,2,1,"div",33),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(8),e.Oqu(e.lcZ(20,28,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listBureauLocation),e.xp6(11),e.Q6J("formGroup",o.bureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(40,30,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(34,ee,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors),e.xp6(11),e.Q6J("formGroup",o.editbureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(84,32,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(36,ee,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function en(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function tn(i,r){1&i&&e._UZ(0,"span",25)}function on(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function nn(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,on,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function rn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"{{ChampObligatoire' | translate}}"),e.qZA())}function an(i,r){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,rn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.localisation_bureau.errors.required)}}const sn=function(i){return{"is-invalid":i}};let ln=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.fb=o,this.router=a,this.route=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureauLocation=[],this.listBureau=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.selectedbureauItems=[],this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.editbureaulocateForm=new n.cw({localisation_bureau:new n.NI(""),bureauId:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editbureaulocateForm=this.fb.group({localisation_bureau:["",n.kI.required],bureauId:["",n.kI.required]})}ngOnInit(){this.getAllBureau();const t=this.route.snapshot.paramMap.get("id");this.agenceService.singlelocalisationBureau(t).subscribe(o=>{this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})}),this.dropdownSettings={singleSelection:!0,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}get f(){return this.editbureaulocateForm.controls}onSubmit(){var t=this;return(0,Y.Z)(function*(){if(t.submitted=!0,console.log(t.editbureaulocateForm.value),t.editbureaulocateForm?.invalid)return;t.buttonloading=!0;const o={localisation_bureau:t.editbureaulocateForm.value.localisation_bureau,bureauId:t.editbureaulocateForm.value.bureauId[0]?._id},a=t.route.snapshot.paramMap.get("id");t.agenceService.updateLocateBureau(a,o).subscribe({next:s=>{t.toastrService.success(`La localisation du bureau ${t.editbureaulocateForm.value.bureauId[0]?.bureau_name} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(t.buttonloading=!1,t.router.navigate(["/rh/localisation-bureau"]))},error:s=>{t.toastrService.error(s.error.message),t.buttonloading=!1}})})()}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editbureaulocateForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editbureaulocateForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}editelocalisation(t){console.log(t),this.agenceService.singlelocalisationBureau(t).subscribe(o=>{console.log(o),this.selectedbureauItems=o.bureauId,this.editbureaulocateForm.patchValue({localisation_bureau:o.localisation_bureau,bureauId:[o.bureauId]})})}onsaveEditSubmit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-localisation-bureau"]],decls:44,vars:16,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"card"],[1,"col-lg-12","col-md-12"],[1,"form-group"],[1,"mb-3"],["for","bureauId"],[2,"color","red"],["name","bureauId","formControlName","bureauId",3,"placeholder","data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","col-md-12","col-xl-12"],["for","localisation_bureau"],["type","text","placeholder","","id","localisation_bureau","formControlName","localisation_bureau",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Situation g\xe9ograohique des bureau"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6,"Modification de la locatisation localisation du bureau"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,en,3,3,"ng-container",10),e.YNc(13,tn,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",14)(21,"div",6)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",7)(26,"label",18),e._uU(27,"Selectionner le bureau"),e.TgZ(28,"span",19),e._uU(29,"*"),e.qZA()()(),e.TgZ(30,"div",7)(31,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(32,nn,2,1,"div",21),e.qZA()()()(),e.TgZ(33,"div",22)(34,"div",16)(35,"div",17)(36,"div",7)(37,"label",23),e._uU(38,"Localisation"),e.TgZ(39,"span",19),e._uU(40,"*"),e.qZA()()(),e.TgZ(41,"div",7),e._UZ(42,"input",24),e.YNc(43,an,2,1,"div",21),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.editbureaulocateForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,12,"Annuler")),e.xp6(15),e.Q6J("placeholder","Selectionner un bureau")("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(10),e.Q6J("ngClass",e.VKq(14,sn,o.submitted&&o.f.localisation_bureau.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.localisation_bureau.errors))},dependencies:[c.mk,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,S.OP,g.X$],encapsulation:2}),i})();function dn(i,r){if(1&i&&(e.TgZ(0,"div")(1,"span",90),e._uU(2),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.bureau_name)}}const un=function(i){return["/rh/edit-commissaire",i]};function cn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",85)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",85)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",85)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",85)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",85)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",85)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",85)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",85)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",85)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",85)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",85)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",85)(41,"div"),e._uU(42),e.qZA()(),e.TgZ(43,"td",85),e.YNc(44,dn,3,1,"div",10),e.qZA(),e.TgZ(45,"td")(46,"div")(47,"a",86),e._UZ(48,"i",87),e.qZA(),e._uU(49,"\xa0 "),e.TgZ(50,"a",88),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeletecommissaire(s._id))}),e._UZ(51,"i",89),e.qZA()(),e._UZ(52,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.codeAgent),e.xp6(3),e.AsE("",t.nom," ",t.prenom,""),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.date_naiss),e.xp6(3),e.Oqu(t.lieu_naiss),e.xp6(3),e.Oqu(t.piece),e.xp6(3),e.Oqu(t.num_piece),e.xp6(3),e.Oqu(t.genre),e.xp6(3),e.Oqu(t.situation_matrimonial),e.xp6(3),e.Oqu(t.grade),e.xp6(3),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(3),e.Oqu(t.maladie_exist),e.xp6(3),e.Oqu(t.nbr_enfant),e.xp6(2),e.Q6J("ngForOf",t.bureauId),e.xp6(3),e.Q6J("routerLink",e.VKq(17,un,t._id))}}function gn(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function mn(i,r){1&i&&e._UZ(0,"span",91)}function pn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function _n(i,r){if(1&i&&(e.TgZ(0,"div",92),e.YNc(1,pn,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function hn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function fn(i,r){if(1&i&&(e.TgZ(0,"div",92),e.YNc(1,hn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Zn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function vn(i,r){if(1&i&&(e.TgZ(0,"div",92),e.YNc(1,Zn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function bn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function An(i,r){if(1&i&&(e.TgZ(0,"div",92),e.YNc(1,bn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function qn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function Tn(i,r){if(1&i&&(e.TgZ(0,"div",92),e.YNc(1,qn,2,0,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const O=function(i){return{"is-invalid":i}};let Cn=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listCommissaire=[],this.nom="",this.codeagent="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.commissairecontrolForm=new n.cw({codeAgent:new n.NI(""),bureauId:new n.NI(""),casier_judiciaire:new n.NI(""),nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.commissairecontrolForm=this.fb.group({codeAgent:["",n.kI.required],bureauId:["",n.kI.required],casier_judiciaire:["",n.kI.required],nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.commissairecontrolForm.controls}ngOnInit(){this.getAllBureau(),this.getAllCommissaire(),this.generateAgentCode(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}},this.dropdownSettings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.commissairecontrolForm.value),this.commissairecontrolForm?.invalid)return;this.buttonloading=!0;const t={codeAgent:this.commissairecontrolForm.value.codeAgent,casier_judiciaire:this.commissairecontrolForm.value.casier_judiciaire,nom:this.commissairecontrolForm.value.nom,prenom:this.commissairecontrolForm.value.prenom,telephone:this.commissairecontrolForm.value.telephone,date_naiss:this.commissairecontrolForm.value.date_naiss,lieu_naiss:this.commissairecontrolForm.value.lieu_naiss,piece:this.commissairecontrolForm.value.piece,num_piece:this.commissairecontrolForm.value.num_piece,grade:this.commissairecontrolForm.value.grade,genre:this.commissairecontrolForm.value.genre,situation_matrimonial:this.commissairecontrolForm.value.situation_matrimonial,ethnie:this.commissairecontrolForm.value.ethnie,religion:this.commissairecontrolForm.value.religion,maladie_exist:this.commissairecontrolForm.value.maladie_exist,nbr_enfant:this.commissairecontrolForm.value.nbr_enfant,bureauId:this.commissairecontrolForm.value.bureauId,fullnamemanager:`${this.commissairecontrolForm.value.nom} ${this.commissairecontrolForm.value.prenom}`};console.log("form data",t),this.managerService.registerCommissaire(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le commissaire ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error.message),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCommissaire(){this.managerService.getAllCommissaires().subscribe({next:t=>{this.listCommissaire=t,console.log("commissaire",this.listCommissaire),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.commissairecontrolForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.commissairecontrolForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeletecommissaire(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}generateAgentCode(){const o=("00"+(Math.floor(99*Math.random())+1)).slice(-3);this.codeagent=`Agent${o}`,this.commissairecontrolForm.get("codeAgent")?.setValue(this.codeagent)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-commissair-de-control"]],decls:316,vars:135,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addcommissaireModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addcommissaireModal","tabindex","-1","aria-labelledby","addcommissaireModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addcommissaireModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-md-4","col-lg-4","col-xs-4"],[1,"mb-3"],[1,"col-md-6"],["for","bureauId"],[2,"color","red"],[1,"col-md-9"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","codeAgent"],["type","text","formControlName","codeAgent","id","codeAgent",1,"form-control"],["for","casier_judiciaire"],["type","text","formControlName","casier_judiciaire","id","casier_judiciaire",1,"form-control"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],["for","nom"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Inspecteur"],["value","Inspectrice"],["value","Leader Coordonnateur"],["value","Controleur G\xe9n\xe9ral"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"badge","badge-success"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Gestion des inspecteurs de contr\xf4le"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4)(6,"button",5),e._UZ(7,"i",6),e._uU(8,"\xa0Ajouter un inspecteur de contr\xf4le "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"Code Agent"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Bureau d'action"),e.qZA(),e.TgZ(57,"th"),e._uU(58),e.ALo(59,"translate"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,cn,53,19,"tr",10),e.qZA()()()()()(),e.TgZ(62,"div",11)(63,"div",12)(64,"div",13)(65,"div",14)(66,"h3",15),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"button",16),e.qZA(),e.TgZ(70,"div",17)(71,"div",18)(72,"div",19)(73,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(74,"button",21),e.YNc(75,gn,3,3,"ng-container",22),e.YNc(76,mn,1,0,"span",23),e.qZA(),e._uU(77,"\xa0 "),e.TgZ(78,"button",24),e._uU(79),e.ALo(80,"translate"),e.qZA(),e._UZ(81,"br"),e.TgZ(82,"div",25)(83,"div",18)(84,"div",26)(85,"div",27)(86,"div",28)(87,"label",29),e._uU(88,"Selectionner les bureaux d'action"),e.TgZ(89,"span",30),e._uU(90,"*"),e.qZA()()(),e.TgZ(91,"div",31)(92,"ng-multiselect-dropdown",32),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(93,_n,2,1,"div",33),e.qZA()()(),e.TgZ(94,"div",26)(95,"div",27)(96,"div",19)(97,"label",34),e._uU(98,"Code Agent"),e.TgZ(99,"span",30),e._uU(100,"*"),e.qZA()()(),e.TgZ(101,"div",19),e._UZ(102,"input",35),e.qZA()()(),e.TgZ(103,"div",26)(104,"div",27)(105,"div",19)(106,"label",36),e._uU(107,"Casier judiciaire"),e.TgZ(108,"span",30),e._uU(109,"*"),e.qZA()()(),e.TgZ(110,"div",19),e._UZ(111,"input",37),e.qZA()()()(),e.TgZ(112,"div",18),e._UZ(113,"br")(114,"br"),e.TgZ(115,"div",38)(116,"div",39)(117,"div",27)(118,"div",19)(119,"label",40),e._uU(120),e.ALo(121,"translate"),e.TgZ(122,"span",30),e._uU(123,"*"),e.qZA()()(),e.TgZ(124,"div",19),e._UZ(125,"input",41),e.YNc(126,fn,2,1,"div",33),e.qZA()()()(),e.TgZ(127,"div",38)(128,"div",39)(129,"div",27)(130,"div",28)(131,"label",42),e._uU(132),e.ALo(133,"translate"),e.TgZ(134,"span",30),e._uU(135,"*"),e.qZA()()(),e.TgZ(136,"div",19),e._UZ(137,"input",43),e.YNc(138,vn,2,1,"div",33),e.qZA()()()(),e.TgZ(139,"div",38)(140,"div",39)(141,"div",27)(142,"div",28)(143,"label",40),e._uU(144),e.ALo(145,"translate"),e.TgZ(146,"span",30),e._uU(147,"*"),e.qZA()()(),e.TgZ(148,"div",19),e._UZ(149,"input",44),e.YNc(150,An,2,1,"div",33),e.qZA()()()(),e.TgZ(151,"div",38)(152,"div",39)(153,"div",27)(154,"div",28)(155,"label",45),e._uU(156),e.ALo(157,"translate"),e.TgZ(158,"span",30),e._uU(159,"*"),e.qZA()()(),e.TgZ(160,"div",19)(161,"select",46)(162,"option",47),e._uU(163,"Feminin"),e.qZA(),e.TgZ(164,"option",48),e._uU(165,"Masculin"),e.qZA()(),e.YNc(166,Tn,2,1,"div",33),e.qZA()()()()(),e.TgZ(167,"div",18),e._UZ(168,"br")(169,"br"),e.TgZ(170,"div",49)(171,"div",39)(172,"div",27)(173,"div",19)(174,"label",50),e._uU(175),e.ALo(176,"translate"),e.TgZ(177,"span",30),e._uU(178,"*"),e.qZA()()(),e.TgZ(179,"div",19),e._UZ(180,"input",51),e.qZA()()()(),e.TgZ(181,"div",49)(182,"div",39)(183,"div",27)(184,"div",19)(185,"label",52),e._uU(186),e.ALo(187,"translate"),e.TgZ(188,"span",30),e._uU(189,"*"),e.qZA()()(),e.TgZ(190,"div",19),e._UZ(191,"input",53),e.qZA()()()(),e.TgZ(192,"div",49)(193,"div",39)(194,"div",27)(195,"div",19)(196,"label",54),e._uU(197),e.ALo(198,"translate"),e.TgZ(199,"span",30),e._uU(200,"*"),e.qZA()()(),e.TgZ(201,"div",19)(202,"select",55)(203,"option",56),e._uU(204,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(205,"option",57),e._uU(206,"attestation d'identit\xe9"),e.qZA(),e.TgZ(207,"option",58),e._uU(208,"passeport"),e.qZA(),e.TgZ(209,"option",59),e._uU(210,"recepisse"),e.qZA(),e.TgZ(211,"option",60),e._uU(212,"carte consulaire"),e.qZA(),e.TgZ(213,"option",61),e._uU(214,"carte de s\xe9jour"),e.qZA(),e.TgZ(215,"option",62),e._uU(216,"permis de conduire"),e.qZA(),e.TgZ(217,"option",63),e._uU(218,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(219,"div",18),e._UZ(220,"br")(221,"br"),e.TgZ(222,"div",38)(223,"div",39)(224,"div",27)(225,"div",19)(226,"label",64),e._uU(227),e.ALo(228,"translate"),e.TgZ(229,"span",30),e._uU(230,"*"),e.qZA()()(),e.TgZ(231,"div",19),e._UZ(232,"input",65),e.qZA()()()(),e.TgZ(233,"div",49)(234,"div",39)(235,"div",27)(236,"div",19)(237,"label",66),e._uU(238),e.ALo(239,"translate"),e.TgZ(240,"span",30),e._uU(241,"*"),e.qZA()()(),e.TgZ(242,"div",19)(243,"select",67)(244,"option",68),e._uU(245,"mari\xe9"),e.qZA(),e.TgZ(246,"option",69),e._uU(247,"celibataire"),e.qZA(),e.TgZ(248,"option",70),e._uU(249,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(250,"div",49)(251,"div",39)(252,"div",27)(253,"div",19)(254,"label",71),e._uU(255),e.ALo(256,"translate"),e.TgZ(257,"span",30),e._uU(258,"*"),e.qZA()()(),e.TgZ(259,"div",19)(260,"select",72)(261,"option",73),e._uU(262,"Inspecteur"),e.qZA(),e.TgZ(263,"option",74),e._uU(264,"Inspectrice"),e.qZA(),e.TgZ(265,"option",75),e._uU(266,"Leader Coordonnateur"),e.qZA(),e.TgZ(267,"option",76),e._uU(268,"Controleur G\xe9n\xe9ral"),e.qZA()()()()()()(),e.TgZ(269,"div",18),e._UZ(270,"br")(271,"br"),e.TgZ(272,"div",38)(273,"div",39)(274,"div",27)(275,"div",19)(276,"label",77),e._uU(277),e.ALo(278,"translate"),e.TgZ(279,"span",30),e._uU(280,"*"),e.qZA()()(),e.TgZ(281,"div",19),e._UZ(282,"input",78),e.qZA()()()(),e.TgZ(283,"div",38)(284,"div",39)(285,"div",27)(286,"div",19)(287,"label",79),e._uU(288),e.ALo(289,"translate"),e.TgZ(290,"span",30),e._uU(291,"*"),e.qZA()()(),e.TgZ(292,"div",19),e._UZ(293,"input",80),e.qZA()()()(),e.TgZ(294,"div",38)(295,"div",39)(296,"div",27)(297,"div",19)(298,"label",81),e._uU(299),e.ALo(300,"translate"),e.TgZ(301,"span",30),e._uU(302,"*"),e.qZA()()(),e.TgZ(303,"div",19),e._UZ(304,"input",82),e.qZA()()()(),e.TgZ(305,"div",38)(306,"div",39)(307,"div",27)(308,"div",19)(309,"label",83),e._uU(310),e.ALo(311,"translate"),e.TgZ(312,"span",30),e._uU(313,"*"),e.qZA()()(),e.TgZ(314,"div",19),e._UZ(315,"input",84),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(6),e.Oqu(e.lcZ(18,55,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(21,57,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(24,59,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(27,61,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(30,63,"Piece")),e.xp6(3),e.Oqu(e.lcZ(33,65,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(36,67,"Genre")),e.xp6(3),e.hij("",e.lcZ(39,69,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(42,71,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(45,73,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(48,75,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(51,77,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(54,79,"NombreEnfant")),e.xp6(5),e.Oqu(e.lcZ(59,81,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listCommissaire),e.xp6(6),e.Oqu(e.lcZ(68,83,"Ajoutercommissaire")),e.xp6(6),e.Q6J("formGroup",o.commissairecontrolForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(80,85,"Annuler")),e.xp6(13),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(27),e.hij("",e.lcZ(121,87,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(115,O,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(133,89,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(117,O,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(145,91,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(119,O,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(157,93,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(121,O,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(176,95,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(123,O,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(187,97,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(125,O,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(198,99,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(127,O,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(228,101,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(239,103,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(256,105,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(129,O,o.submitted&&o.f.grade.errors)),e.xp6(17),e.Oqu(e.lcZ(278,107,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(289,109,"Religion")),e.xp6(11),e.Oqu(e.lcZ(300,111,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(131,O,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(311,113,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(133,O,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,S.OP,T.G,g.X$]}),i})();function Sn(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function xn(i,r){1&i&&e._UZ(0,"span",72)}function wn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Un(i,r){if(1&i&&(e.TgZ(0,"div",73),e.YNc(1,wn,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.bureauId.errors.required)}}function yn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function In(i,r){if(1&i&&(e.TgZ(0,"div",73),e.YNc(1,yn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Fn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function Ln(i,r){if(1&i&&(e.TgZ(0,"div",73),e.YNc(1,Fn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function On(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function Nn(i,r){if(1&i&&(e.TgZ(0,"div",73),e.YNc(1,On,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Dn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Ce champ est obligatoire"),e.qZA())}function Jn(i,r){if(1&i&&(e.TgZ(0,"div",73),e.YNc(1,Dn,2,0,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const Mn=function(){return["/rh/commissaires"]},N=function(i){return{"is-invalid":i}};let En=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.route=d,this.toastrService=u,this.translateService=p,this.listBureau=[],this.listCommissaire=[],this.nom="",this.codeagent="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.editcommissairecontrolForm=new n.cw({codeAgent:new n.NI(""),bureauId:new n.NI(""),casier_judiciaire:new n.NI(""),nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editcommissairecontrolForm=this.fb.group({codeAgent:["",n.kI.required],bureauId:["",n.kI.required],casier_judiciaire:["",n.kI.required],nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.editcommissairecontrolForm.controls}ngOnInit(){this.getAllBureau();const t=this.route.snapshot.paramMap.get("id");this.managerService.singleCommissaire(t).subscribe(o=>{console.log(o.nom),this.editcommissairecontrolForm.patchValue({codeAgent:o.codeAgent,bureauId:o.bureauId,casier_judiciaire:o.casier_judiciaire,nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})}),this.dropdownSettings={singleSelection:!1,defaultOpen:!1,idField:"_id",textField:"bureau_name",tooltipField:"item_tooltip",enableCheckAll:this.showAll,itemsShowLimit:999999,allowSearchFilter:this.ShowFilter}}onSubmit(){if(this.submitted=!0,console.log(this.editcommissairecontrolForm.value),this.editcommissairecontrolForm?.invalid)return;this.buttonloading=!0;const t={codeAgent:this.editcommissairecontrolForm.value.codeAgent,casier_judiciaire:this.editcommissairecontrolForm.value.casier_judiciaire,nom:this.editcommissairecontrolForm.value.nom,prenom:this.editcommissairecontrolForm.value.prenom,telephone:this.editcommissairecontrolForm.value.telephone,date_naiss:this.editcommissairecontrolForm.value.date_naiss,lieu_naiss:this.editcommissairecontrolForm.value.lieu_naiss,piece:this.editcommissairecontrolForm.value.piece,num_piece:this.editcommissairecontrolForm.value.num_piece,grade:this.editcommissairecontrolForm.value.grade,genre:this.editcommissairecontrolForm.value.genre,situation_matrimonial:this.editcommissairecontrolForm.value.situation_matrimonial,ethnie:this.editcommissairecontrolForm.value.ethnie,religion:this.editcommissairecontrolForm.value.religion,maladie_exist:this.editcommissairecontrolForm.value.maladie_exist,nbr_enfant:this.editcommissairecontrolForm.value.nbr_enfant,bureauId:this.editcommissairecontrolForm.value.bureauId,fullnamemanager:`${this.editcommissairecontrolForm.value.nom} ${this.editcommissairecontrolForm.value.prenom}`},o=this.route.snapshot.paramMap.get("id");this.managerService.updateCommissaire(o,t).subscribe({next:a=>{console.log(a),this.toastrService.success(`Le commissaire ${a.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,this.router.navigate(["/rh/commissaires"]))},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t.agences,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllCommissaire(){this.managerService.getAllCommissaires().subscribe({next:t=>{this.listCommissaire=t,console.log("commissaire",this.listCommissaire),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onItemSelect(t){console.log("onItemSelect",t),console.log("form model",this.editcommissairecontrolForm.value)}onItemDeSelect(t){console.log("onItem DeSelect",t),console.log("form model",this.editcommissairecontrolForm.value)}onDropDownClose(){console.log("dropdown closed")}toogleShowAll(){this.showAll=!this.showAll,this.dropdownSettings=Object.assign({},this.dropdownSettings,{enableCheckAll:this.showAll})}toogleShowFilter(){this.ShowFilter=!this.ShowFilter,this.dropdownSettings=Object.assign({},this.dropdownSettings,{allowSearchFilter:this.ShowFilter})}onDeletecommissaire(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet pays ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}generateAgentCode(){const o=("00"+(Math.floor(99*Math.random())+1)).slice(-3);this.codeagent=`Agent${o}`,this.editcommissairecontrolForm.get("codeAgent")?.setValue(this.codeagent)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(m.gz),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-commissair-de-control"]],decls:251,vars:89,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-md-4","col-lg-4","col-xs-4"],[1,"mb-3"],[1,"col-md-6"],["for","bureauId"],[2,"color","red"],[1,"col-md-9"],["formControlName","bureauId",3,"data","disabled","settings","onDropDownClose","onSelect","onDeSelect"],["class","invalid-feedback",4,"ngIf"],["for","codeAgent"],["type","text","formControlName","codeAgent","id","codeAgent",1,"form-control"],["for","casier_judiciaire"],["type","text","formControlName","casier_judiciaire","id","casier_judiciaire",1,"form-control"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],["for","nom"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Inspecteur de zone"],["value","Leader coordinateur"],["value","Leader national"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Modification de commissaire de contr\xf4le "),e.qZA(),e.TgZ(4,"a",3),e._uU(5,"back"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"button",9),e.YNc(12,Sn,3,3,"ng-container",10),e.YNc(13,xn,1,0,"span",11),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",13)(20,"div",6)(21,"div",14)(22,"div",15)(23,"div",16)(24,"label",17),e._uU(25,"Selectionner les bureaux d'action"),e.TgZ(26,"span",18),e._uU(27,"*"),e.qZA()()(),e.TgZ(28,"div",19)(29,"ng-multiselect-dropdown",20),e.NdJ("onDropDownClose",function(){return o.onDropDownClose()})("onSelect",function(s){return o.onItemSelect(s)})("onDeSelect",function(s){return o.onItemDeSelect(s)}),e.qZA(),e.YNc(30,Un,2,1,"div",21),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"div",7)(34,"label",22),e._uU(35,"Code Agent"),e.TgZ(36,"span",18),e._uU(37,"*"),e.qZA()()(),e.TgZ(38,"div",7),e._UZ(39,"input",23),e.qZA()()(),e.TgZ(40,"div",14)(41,"div",15)(42,"div",7)(43,"label",24),e._uU(44,"Casier judiciaire"),e.TgZ(45,"span",18),e._uU(46,"*"),e.qZA()()(),e.TgZ(47,"div",7),e._UZ(48,"input",25),e.qZA()()()(),e.TgZ(49,"div",6),e._UZ(50,"br")(51,"br"),e.TgZ(52,"div",26)(53,"div",27)(54,"div",15)(55,"div",7)(56,"label",28),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",18),e._uU(60,"*"),e.qZA()()(),e.TgZ(61,"div",7),e._UZ(62,"input",29),e.YNc(63,In,2,1,"div",21),e.qZA()()()(),e.TgZ(64,"div",26)(65,"div",27)(66,"div",15)(67,"div",16)(68,"label",30),e._uU(69),e.ALo(70,"translate"),e.TgZ(71,"span",18),e._uU(72,"*"),e.qZA()()(),e.TgZ(73,"div",7),e._UZ(74,"input",31),e.YNc(75,Ln,2,1,"div",21),e.qZA()()()(),e.TgZ(76,"div",26)(77,"div",27)(78,"div",15)(79,"div",16)(80,"label",28),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",18),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",7),e._UZ(86,"input",32),e.YNc(87,Nn,2,1,"div",21),e.qZA()()()(),e.TgZ(88,"div",26)(89,"div",27)(90,"div",15)(91,"div",16)(92,"label",33),e._uU(93),e.ALo(94,"translate"),e.TgZ(95,"span",18),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",7)(98,"select",34)(99,"option",35),e._uU(100,"Feminin"),e.qZA(),e.TgZ(101,"option",36),e._uU(102,"Masculin"),e.qZA()(),e.YNc(103,Jn,2,1,"div",21),e.qZA()()()()(),e.TgZ(104,"div",6),e._UZ(105,"br")(106,"br"),e.TgZ(107,"div",37)(108,"div",27)(109,"div",15)(110,"div",7)(111,"label",38),e._uU(112),e.ALo(113,"translate"),e.TgZ(114,"span",18),e._uU(115,"*"),e.qZA()()(),e.TgZ(116,"div",7),e._UZ(117,"input",39),e.qZA()()()(),e.TgZ(118,"div",37)(119,"div",27)(120,"div",15)(121,"div",7)(122,"label",40),e._uU(123),e.ALo(124,"translate"),e.TgZ(125,"span",18),e._uU(126,"*"),e.qZA()()(),e.TgZ(127,"div",7),e._UZ(128,"input",41),e.qZA()()()(),e.TgZ(129,"div",37)(130,"div",27)(131,"div",15)(132,"div",7)(133,"label",42),e._uU(134),e.ALo(135,"translate"),e.TgZ(136,"span",18),e._uU(137,"*"),e.qZA()()(),e.TgZ(138,"div",7)(139,"select",43)(140,"option",44),e._uU(141,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(142,"option",45),e._uU(143,"attestation d'identit\xe9"),e.qZA(),e.TgZ(144,"option",46),e._uU(145,"passeport"),e.qZA(),e.TgZ(146,"option",47),e._uU(147,"recepisse"),e.qZA(),e.TgZ(148,"option",48),e._uU(149,"carte consulaire"),e.qZA(),e.TgZ(150,"option",49),e._uU(151,"carte de s\xe9jour"),e.qZA(),e.TgZ(152,"option",50),e._uU(153,"permis de conduire"),e.qZA(),e.TgZ(154,"option",51),e._uU(155,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(156,"div",6),e._UZ(157,"br")(158,"br"),e.TgZ(159,"div",26)(160,"div",27)(161,"div",15)(162,"div",7)(163,"label",52),e._uU(164),e.ALo(165,"translate"),e.TgZ(166,"span",18),e._uU(167,"*"),e.qZA()()(),e.TgZ(168,"div",7),e._UZ(169,"input",53),e.qZA()()()(),e.TgZ(170,"div",37)(171,"div",27)(172,"div",15)(173,"div",7)(174,"label",54),e._uU(175),e.ALo(176,"translate"),e.TgZ(177,"span",18),e._uU(178,"*"),e.qZA()()(),e.TgZ(179,"div",7)(180,"select",55)(181,"option",56),e._uU(182,"mari\xe9"),e.qZA(),e.TgZ(183,"option",57),e._uU(184,"celibataire"),e.qZA(),e.TgZ(185,"option",58),e._uU(186,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(187,"div",37)(188,"div",27)(189,"div",15)(190,"div",7)(191,"label",59),e._uU(192),e.ALo(193,"translate"),e.TgZ(194,"span",18),e._uU(195,"*"),e.qZA()()(),e.TgZ(196,"div",7)(197,"select",60)(198,"option",61),e._uU(199,"Inspecteur de zone"),e.qZA(),e.TgZ(200,"option",62),e._uU(201,"Leader coordinateur"),e.qZA(),e.TgZ(202,"option",63),e._uU(203,"Leader national"),e.qZA()()()()()()(),e.TgZ(204,"div",6),e._UZ(205,"br")(206,"br"),e.TgZ(207,"div",26)(208,"div",27)(209,"div",15)(210,"div",7)(211,"label",64),e._uU(212),e.ALo(213,"translate"),e.TgZ(214,"span",18),e._uU(215,"*"),e.qZA()()(),e.TgZ(216,"div",7),e._UZ(217,"input",65),e.qZA()()()(),e.TgZ(218,"div",26)(219,"div",27)(220,"div",15)(221,"div",7)(222,"label",66),e._uU(223),e.ALo(224,"translate"),e.TgZ(225,"span",18),e._uU(226,"*"),e.qZA()()(),e.TgZ(227,"div",7),e._UZ(228,"input",67),e.qZA()()()(),e.TgZ(229,"div",26)(230,"div",27)(231,"div",15)(232,"div",7)(233,"label",68),e._uU(234),e.ALo(235,"translate"),e.TgZ(236,"span",18),e._uU(237,"*"),e.qZA()()(),e.TgZ(238,"div",7),e._UZ(239,"input",69),e.qZA()()()(),e.TgZ(240,"div",26)(241,"div",27)(242,"div",15)(243,"div",7)(244,"label",70),e._uU(245),e.ALo(246,"translate"),e.TgZ(247,"span",18),e._uU(248,"*"),e.qZA()()(),e.TgZ(249,"div",7),e._UZ(250,"input",71),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(68,Mn)),e.xp6(6),e.Q6J("formGroup",o.editcommissairecontrolForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(17,38,"Annuler")),e.xp6(13),e.Q6J("data",o.listBureau)("disabled",o.disabled)("settings",o.dropdownSettings),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.bureauId.errors),e.xp6(27),e.hij("",e.lcZ(58,40,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(69,N,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(70,42,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(71,N,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(82,44,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(73,N,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(94,46,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(75,N,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(113,48,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(77,N,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(124,50,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(79,N,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(135,52,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(81,N,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(165,54,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(176,56,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(193,58,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(83,N,o.submitted&&o.f.grade.errors)),e.xp6(15),e.Oqu(e.lcZ(213,60,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(224,62,"Religion")),e.xp6(11),e.Oqu(e.lcZ(235,64,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(85,N,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(246,66,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(87,N,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,S.OP,g.X$]}),i})();const te=function(i){return["/rh/liste-ca-par-zone",i]};function Yn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td",9)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",10)(5,"a",11),e._UZ(6,"i",12),e.qZA(),e._uU(7,"\xa0 "),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,te,t._id)),e.xp6(2),e.Oqu(t.zone_name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,te,t._id))}}let Qn=(()=>{class i{constructor(t,o,a,s,l,d){this.agenceService=t,this.zoneService=o,this.router=a,this.http=s,this.toastrService=l,this.translateService=d,this.listCountry=[],this.listZone=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.disabled=!1,this.limitSelection=!1,this.limitShow=!1,this.ShowFilter=!0,this.showAll=!0,this.dropdownSettings={},this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.getAllZone(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}getAllZone(){this.zoneService.getAllZones().subscribe({next:t=>{this.listZone=t,this.dtTrigger.next(null),this.loading=!1,console.log(this.listZone)},error:t=>{console.log(t),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ca-zone"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"hover",3,"routerLink"],[1,"text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Rendements des zone"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6,"Listes des zones"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Yn,8,7,"tr",8),e.qZA()()()()()()),2&t&&(e.xp6(9),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(14,5,"NomZone")),e.xp6(3),e.Oqu(e.lcZ(17,7,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listZone))},dependencies:[c.sg,m.rH,T.G,g.X$]}),i})(),kn=(()=>{class i{constructor(){this.moisOrdre=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"]}transform(t){return t&&0!==t.length?t.sort((o,a)=>this.moisOrdre.indexOf(o)-this.moisOrdre.indexOf(a)):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"orderByMois",type:i,pure:!0}),i})();function Bn(i,r){if(1&i&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function jn(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",18)(4,"div"),e._uU(5),e.ALo(6,"number"),e.qZA()()()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.AsE("",t," ",o,""),e.xp6(3),e.hij("",e.Dn7(6,3,a.listCaZone[o][t].sum,"1.0-0","fr-FR")," FCFA")}}function zn(i,r){if(1&i&&(e.ynx(0),e.YNc(1,jn,7,7,"tr",17),e.BQk()),2&i){const t=r.$implicit,o=e.oxw().$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.listCaZone[o][t].sum>0)}}function Kn(i,r){if(1&i&&(e.ynx(0),e.YNc(1,zn,2,1,"ng-container",13),e.ALo(2,"orderByMois"),e.BQk()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.getMoisKeys(o.listCaZone[t])))}}C.kL.register(...C.zX);let Vn=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.zoneService=o,this.router=a,this.http=s,this.route=l,this.toastrService=d,this.translateService=u,this.listCaZone={},this.nom="",this.dtOptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.labeldata=[],this.realdata=[],this.colordata=[],this.totalCa=0,this.annees=[],this.selectedAnnee="";const p=localStorage.getItem(this.keyLanguage);p&&this.translateService.use(p)}ngOnInit(){this.getAllCaZone();const t=this.route.snapshot.paramMap.get("id");this.zoneService.getsingleZone(t).subscribe(o=>{this.nom=o.zone_name}),this.dtOptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!0,language:{searchPlaceholder:""}}}ngOnDestroy(){this.dtTrigger.unsubscribe()}getAllCaZone(){const t=this.route.snapshot.paramMap.get("id");t?this.zoneService.getAllCaByZoneId(t).subscribe({next:o=>{console.log("data",o);const a=o.reduce((s,l)=>{const d=l.mois.valueMois,u=l.mois.codeColor,p=l.annee.value,b=l.cazone;return s[p]||(s[p]={total:0,mois:{}}),s[p][d]||(s[p][d]={sum:0,color:u}),s[p][d].sum+=b,s[p].total+=b,this.annees.includes(p.toString())||this.annees.push(p.toString()),s},{});this.listCaZone=a,this.annees.length>0&&(this.selectedAnnee=this.annees[0],this.onAnneeChange()),this.totalCa=a[this.selectedAnnee].total.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),this.dtTrigger.next(null)},error:o=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es :",o),this.toastrService.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es.")}}):this.toastrService.error("ID invalide ou manquant")}onAnneeChange(){if(this.selectedAnnee){console.log("ici test",this.listCaZone[this.selectedAnnee]);const t=this.listCaZone[this.selectedAnnee],o=[],a=[],s=[],l=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],d=Object.keys(t).sort((u,p)=>l.indexOf(u)-l.indexOf(p));for(const u of d)t[u].sum>0&&(o.push(u),a.push(t[u].sum),s.push(t[u].color));this.RenderChart(o,a,s,"bar","barchart")}}RenderChart(t,o,a,s,l){new C.kL(l,{type:s,data:{labels:t,datasets:[{label:"# CA",data:o,backgroundColor:a,borderColor:a,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}getAnneeKeys(t){return Object.keys(t)}getMoisKeys(t){return Object.keys(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(q.T),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(m.gz),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ca-by-zone"]],decls:32,vars:9,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"form-group"],["for","anneeSelect"],["id","anneeSelect",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[2,"display","block"],["id","barchart"],[3,"value"],[4,"ngIf"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Rendements des zones"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"h6",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10,"Filtrer par ann\xe9e :"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(s){return o.selectedAnnee=s})("change",function(){return o.onAnneeChange()}),e.TgZ(12,"option",9),e._uU(13,"-- Choisissez une ann\xe9e --"),e.qZA(),e.YNc(14,Bn,2,2,"option",10),e.qZA()(),e.TgZ(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th"),e._uU(20,"Mois"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Chiffre d'affaire"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,Kn,3,3,"ng-container",13),e.qZA()()()()(),e.TgZ(25,"div",2)(26,"div",14)(27,"div",3)(28,"h6"),e._uU(29),e.qZA()(),e.TgZ(30,"div",5),e._UZ(31,"canvas",15),e.qZA()()()()),2&t&&(e.xp6(6),e.lnq("Liste des rendements de la zone ",o.nom," CA de l'ann\xe9e ",o.selectedAnnee,": ",o.totalCa," FCFA"),e.xp6(5),e.Q6J("ngModel",o.selectedAnnee),e.xp6(3),e.Q6J("ngForOf",o.annees),e.xp6(2),e.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),e.xp6(8),e.Q6J("ngForOf",o.getAnneeKeys(o.listCaZone)),e.xp6(5),e.hij("Diagramme des rendement de la zone ",o.nom,""))},dependencies:[c.sg,c.O5,n.YN,n.Kr,n.EJ,n.JJ,n.On,T.G,c.JJ,kn]}),i})();const w=function(i){return["/rh/detail-manager",i]},Gn=function(i){return["/rh/edit-assistant-manager-a10r",i]};function Pn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",74)(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td",75)(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"td",75)(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"td",75)(11,"div"),e._uU(12),e.qZA()(),e.TgZ(13,"td",75)(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"td",75)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",75)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"td",75)(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"td",75)(26,"div"),e._uU(27),e.qZA()(),e.TgZ(28,"td",75)(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"td",76)(32,"div"),e._uU(33),e.qZA()(),e.TgZ(34,"td",75)(35,"div"),e._uU(36),e.qZA()(),e.TgZ(37,"td",75)(38,"div"),e._uU(39),e.qZA()(),e.TgZ(40,"td",75)(41,"span",77),e._uU(42),e.qZA()(),e.TgZ(43,"td")(44,"div")(45,"a",78),e._UZ(46,"i",79),e.qZA(),e._uU(47,"\xa0 "),e.TgZ(48,"a",78),e._UZ(49,"i",80),e.qZA(),e._uU(50,"\xa0 "),e.TgZ(51,"a",81),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onDeleteManager(s._id))}),e._UZ(52,"i",82),e.qZA()(),e._UZ(53,"div"),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(30,w,t._id)),e.xp6(2),e.AsE("",t.nom," ",t.prenom,""),e.xp6(1),e.Q6J("routerLink",e.VKq(32,w,t._id)),e.xp6(2),e.Oqu(t.telephone),e.xp6(1),e.Q6J("routerLink",e.VKq(34,w,t._id)),e.xp6(2),e.Oqu(t.date_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(36,w,t._id)),e.xp6(2),e.Oqu(t.lieu_naiss),e.xp6(1),e.Q6J("routerLink",e.VKq(38,w,t._id)),e.xp6(2),e.Oqu(t.piece),e.xp6(1),e.Q6J("routerLink",e.VKq(40,w,t._id)),e.xp6(2),e.Oqu(t.num_piece),e.xp6(1),e.Q6J("routerLink",e.VKq(42,w,t._id)),e.xp6(2),e.Oqu(t.genre),e.xp6(1),e.Q6J("routerLink",e.VKq(44,w,t._id)),e.xp6(2),e.Oqu(t.situation_matrimonial),e.xp6(1),e.Q6J("routerLink",e.VKq(46,w,t._id)),e.xp6(2),e.Oqu(t.grade),e.xp6(1),e.Q6J("routerLink",e.VKq(48,w,t._id)),e.xp6(2),e.Oqu(t.ethnie),e.xp6(3),e.Oqu(t.religion),e.xp6(1),e.Q6J("routerLink",e.VKq(50,w,t._id)),e.xp6(2),e.Oqu(t.maladie_exist),e.xp6(1),e.Q6J("routerLink",e.VKq(52,w,t._id)),e.xp6(2),e.Oqu(t.nbr_enfant),e.xp6(1),e.Q6J("routerLink",e.VKq(54,w,t._id)),e.xp6(2),e.Oqu(t.status_mgr),e.xp6(3),e.Q6J("routerLink",e.VKq(56,w,t._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(58,Gn,t._id))}}function $n(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Rn(i,r){1&i&&e._UZ(0,"span",83)}function Xn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Hn(i,r){if(1&i&&(e.TgZ(0,"div",84),e.YNc(1,Xn,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Wn(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function er(i,r){if(1&i&&(e.TgZ(0,"div",84),e.YNc(1,Wn,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function tr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function or(i,r){if(1&i&&(e.TgZ(0,"div",84),e.YNc(1,tr,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function ir(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function nr(i,r){if(1&i&&(e.TgZ(0,"div",84),e.YNc(1,ir,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}const D=function(i){return{"is-invalid":i}};let rr=(()=>{class i{constructor(t,o,a,s,l,d,u){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.http=l,this.toastrService=d,this.translateService=u,this.listBureau=[],this.listManager=[],this.nom="",this.loading=!0,this.buttonloading=!1,this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.managerForm=new n.cw({nom:new n.NI(""),prenom:new n.NI(""),telephone:new n.NI(""),date_naiss:new n.NI(""),lieu_naiss:new n.NI(""),piece:new n.NI(""),num_piece:new n.NI(""),grade:new n.NI(""),situation_matrimonial:new n.NI(""),ethnie:new n.NI(""),religion:new n.NI(""),maladie_exist:new n.NI(""),nbr_enfant:new n.NI(""),genre:new n.NI("")}),this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:[""],lieu_naiss:[""],piece:[""],num_piece:[""],grade:["",n.kI.required],situation_matrimonial:[""],ethnie:[""],religion:[""],maladie_exist:[""],nbr_enfant:[],genre:["",n.kI.required]})}get f(){return this.managerForm.controls}ngOnInit(){this.getAllBureau(),this.getAllManager(),this.dtoptions={pagingType:"full_numbers",searching:!0,paging:!0,lengthChange:!1,language:{searchPlaceholder:"Text Customer"}}}onSubmit(){if(this.submitted=!0,console.log(this.managerForm.value),this.managerForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managerForm.value.nom,prenom:this.managerForm.value.prenom,telephone:this.managerForm.value.telephone,date_naiss:this.managerForm.value.date_naiss,lieu_naiss:this.managerForm.value.lieu_naiss,piece:this.managerForm.value.piece,num_piece:this.managerForm.value.num_piece,grade:this.managerForm.value.grade,genre:this.managerForm.value.genre,situation_matrimonial:this.managerForm.value.situation_matrimonial,ethnie:this.managerForm.value.ethnie,religion:this.managerForm.value.religion,maladie_exist:this.managerForm.value.maladie_exist,nbr_enfant:this.managerForm.value.nbr_enfant,fullnamemanager:`${this.managerForm.value.nom} ${this.managerForm.value.prenom}`};console.log("form data",t),this.managerService.registerManager(t).subscribe({next:o=>{console.log(o),this.toastrService.success(`Le manager ${o.nom} a bien \xe9t\xe9 ajout\xe9 \xe0 la base de donn\xe9es !`)&&(this.buttonloading=!1,window.location.reload())},error:o=>{console.log(o),this.toastrService.error(o.error),this.buttonloading=!1}})}getAllBureau(){this.agenceService.getAllBureaux().subscribe({next:t=>{this.listBureau=t,console.log(this.listBureau),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}getAllManager(){this.managerService.getAllAssistantManagersA10().subscribe({next:t=>{this.listManager=t,console.log(this.listManager),this.dtTrigger.next(null),this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}onDeleteManager(t){window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet assistanr manager A10 ?")&&(this.managerService.removeManager(t).subscribe({next:o=>{this.toastrService.success(o)},error:o=>{console.log(o),this.loading=!1}}),this.ngOnInit())}onUpdateManager(t){this.managerService.singleManager(t).subscribe(o=>{console.log(o)})}onSubmitUpdate(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assistant-manager-a10"]],decls:281,vars:137,consts:[[1,"container-fluid"],[1,"h3","mb-2","text-gray-800"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],["data-bs-toggle","modal","data-bs-target","#addManagerModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["id","addManagerModal","tabindex","-1","aria-labelledby","addManagerModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addManagerModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Assistant Manager A10","selected",""],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[3,"routerLink"],[1,"text-center",3,"routerLink"],[1,"text-center"],[1,"badge","badge-success"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-eye"],[1,"fa","fa-pencil"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"h6",4)(7,"button",5),e._UZ(8,"i",6),e._uU(9,"\xa0Ajouter assistants manager A10 "),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"table",9)(13,"thead")(14,"tr")(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"th"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"th"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"th"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"th"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"th"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"th"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"th"),e._uU(58),e.ALo(59,"translate"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,Pn,54,60,"tr",10),e.qZA()()()()()(),e.TgZ(62,"div",11)(63,"div",12)(64,"div",13)(65,"div",14)(66,"h3",15),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"button",16),e.qZA(),e.TgZ(70,"div",17)(71,"div",18)(72,"div",19)(73,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(74,"button",21),e.YNc(75,$n,3,3,"ng-container",22),e.YNc(76,Rn,1,0,"span",23),e.qZA(),e._uU(77,"\xa0 "),e.TgZ(78,"button",24),e._uU(79),e.ALo(80,"translate"),e.qZA(),e._UZ(81,"br"),e.TgZ(82,"div",25)(83,"div",18),e._UZ(84,"br")(85,"br"),e.TgZ(86,"div",26)(87,"div",27)(88,"div",28)(89,"div",19)(90,"label",29),e._uU(91),e.ALo(92,"translate"),e.TgZ(93,"span",30),e._uU(94,"*"),e.qZA()()(),e.TgZ(95,"div",19),e._UZ(96,"input",31),e.YNc(97,Hn,2,1,"div",32),e.qZA()()()(),e.TgZ(98,"div",26)(99,"div",27)(100,"div",28)(101,"div",33)(102,"label",34),e._uU(103),e.ALo(104,"translate"),e.TgZ(105,"span",30),e._uU(106,"*"),e.qZA()()(),e.TgZ(107,"div",19),e._UZ(108,"input",35),e.YNc(109,er,2,1,"div",32),e.qZA()()()(),e.TgZ(110,"div",26)(111,"div",27)(112,"div",28)(113,"div",33)(114,"label",29),e._uU(115),e.ALo(116,"translate"),e.TgZ(117,"span",30),e._uU(118,"*"),e.qZA()()(),e.TgZ(119,"div",19),e._UZ(120,"input",36),e.YNc(121,or,2,1,"div",32),e.qZA()()()(),e.TgZ(122,"div",26)(123,"div",27)(124,"div",28)(125,"div",33)(126,"label",37),e._uU(127),e.ALo(128,"translate"),e.TgZ(129,"span",30),e._uU(130,"*"),e.qZA()()(),e.TgZ(131,"div",19)(132,"select",38)(133,"option",39),e._uU(134,"Feminin"),e.qZA(),e.TgZ(135,"option",40),e._uU(136,"Masculin"),e.qZA()(),e.YNc(137,nr,2,1,"div",32),e.qZA()()()()(),e.TgZ(138,"div",18),e._UZ(139,"br")(140,"br"),e.TgZ(141,"div",41)(142,"div",27)(143,"div",28)(144,"div",19)(145,"label",42),e._uU(146),e.ALo(147,"translate"),e.TgZ(148,"span",30),e._uU(149,"*"),e.qZA()()(),e.TgZ(150,"div",19),e._UZ(151,"input",43),e.qZA()()()(),e.TgZ(152,"div",41)(153,"div",27)(154,"div",28)(155,"div",19)(156,"label",44),e._uU(157),e.ALo(158,"translate"),e.TgZ(159,"span",30),e._uU(160,"*"),e.qZA()()(),e.TgZ(161,"div",19),e._UZ(162,"input",45),e.qZA()()()(),e.TgZ(163,"div",41)(164,"div",27)(165,"div",28)(166,"div",19)(167,"label",46),e._uU(168),e.ALo(169,"translate"),e.TgZ(170,"span",30),e._uU(171,"*"),e.qZA()()(),e.TgZ(172,"div",19)(173,"select",47)(174,"option",48),e._uU(175,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(176,"option",49),e._uU(177,"attestation d'identit\xe9"),e.qZA(),e.TgZ(178,"option",50),e._uU(179,"passeport"),e.qZA(),e.TgZ(180,"option",51),e._uU(181,"recepisse"),e.qZA(),e.TgZ(182,"option",52),e._uU(183,"carte consulaire"),e.qZA(),e.TgZ(184,"option",53),e._uU(185,"carte de s\xe9jour"),e.qZA(),e.TgZ(186,"option",54),e._uU(187,"permis de conduire"),e.qZA(),e.TgZ(188,"option",55),e._uU(189,"aucune pi\xe8ce"),e.qZA()()()()()()(),e.TgZ(190,"div",18),e._UZ(191,"br")(192,"br"),e.TgZ(193,"div",26)(194,"div",27)(195,"div",28)(196,"div",19)(197,"label",56),e._uU(198),e.ALo(199,"translate"),e.TgZ(200,"span",30),e._uU(201,"*"),e.qZA()()(),e.TgZ(202,"div",19),e._UZ(203,"input",57),e.qZA()()()(),e.TgZ(204,"div",41)(205,"div",27)(206,"div",28)(207,"div",19)(208,"label",58),e._uU(209),e.ALo(210,"translate"),e.TgZ(211,"span",30),e._uU(212,"*"),e.qZA()()(),e.TgZ(213,"div",19)(214,"select",59)(215,"option",60),e._uU(216,"mari\xe9"),e.qZA(),e.TgZ(217,"option",61),e._uU(218,"celibataire"),e.qZA(),e.TgZ(219,"option",62),e._uU(220,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(221,"div",41)(222,"div",27)(223,"div",28)(224,"div",19)(225,"label",63),e._uU(226),e.ALo(227,"translate"),e.TgZ(228,"span",30),e._uU(229,"*"),e.qZA()()(),e.TgZ(230,"div",19)(231,"select",64)(232,"option",65),e._uU(233,"Assistant Manager A10"),e.qZA()()()()()()(),e.TgZ(234,"div",18),e._UZ(235,"br")(236,"br"),e.TgZ(237,"div",26)(238,"div",27)(239,"div",28)(240,"div",19)(241,"label",66),e._uU(242),e.ALo(243,"translate"),e.TgZ(244,"span",30),e._uU(245,"*"),e.qZA()()(),e.TgZ(246,"div",19),e._UZ(247,"input",67),e.qZA()()()(),e.TgZ(248,"div",26)(249,"div",27)(250,"div",28)(251,"div",19)(252,"label",68),e._uU(253),e.ALo(254,"translate"),e.TgZ(255,"span",30),e._uU(256,"*"),e.qZA()()(),e.TgZ(257,"div",19),e._UZ(258,"input",69),e.qZA()()()(),e.TgZ(259,"div",26)(260,"div",27)(261,"div",28)(262,"div",19)(263,"label",70),e._uU(264),e.ALo(265,"translate"),e.TgZ(266,"span",30),e._uU(267,"*"),e.qZA()()(),e.TgZ(268,"div",19),e._UZ(269,"input",71),e.qZA()()()(),e.TgZ(270,"div",26)(271,"div",27)(272,"div",28)(273,"div",19)(274,"label",72),e._uU(275),e.ALo(276,"translate"),e.TgZ(277,"span",30),e._uU(278,"*"),e.qZA()()(),e.TgZ(279,"div",19),e._UZ(280,"input",73),e.qZA()()()()()()()()()()()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,53,"GestionManagers")),e.xp6(10),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(17,55,"NomPrenomsAdmin")),e.xp6(3),e.Oqu(e.lcZ(20,57,"Telephone")),e.xp6(3),e.Oqu(e.lcZ(23,59,"DateNaissance")),e.xp6(3),e.hij("",e.lcZ(26,61,"LieuNaiss")," "),e.xp6(3),e.Oqu(e.lcZ(29,63,"Piece")),e.xp6(3),e.Oqu(e.lcZ(32,65,"NumeroPiece")),e.xp6(3),e.Oqu(e.lcZ(35,67,"Genre")),e.xp6(3),e.hij("",e.lcZ(38,69,"SituationMatrimoniale")," "),e.xp6(3),e.hij("",e.lcZ(41,71,"Grade")," "),e.xp6(3),e.hij("",e.lcZ(44,73,"Ethenie")," "),e.xp6(3),e.hij("",e.lcZ(47,75,"Religion")," "),e.xp6(3),e.Oqu(e.lcZ(50,77,"MaladiEntecedent")),e.xp6(3),e.Oqu(e.lcZ(53,79,"NombreEnfant")),e.xp6(3),e.Oqu(e.lcZ(56,81,"Status")),e.xp6(3),e.Oqu(e.lcZ(59,83,"Action")),e.xp6(3),e.Q6J("ngForOf",o.listManager),e.xp6(6),e.Oqu(e.lcZ(68,85,"AjouterManager")),e.xp6(6),e.Q6J("formGroup",o.managerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(80,87,"Annuler")),e.xp6(12),e.hij("",e.lcZ(92,89,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(117,D,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(104,91,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(119,D,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(116,93,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(121,D,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(128,95,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(123,D,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(147,97,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(125,D,o.submitted&&o.f.date_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(158,99,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(127,D,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(6),e.hij("",e.lcZ(169,101,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(129,D,o.submitted&&o.f.piece.errors)),e.xp6(25),e.Oqu(e.lcZ(199,103,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(210,105,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(227,107,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(131,D,o.submitted&&o.f.grade.errors)),e.xp6(11),e.Oqu(e.lcZ(243,109,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(254,111,"Religion")),e.xp6(11),e.Oqu(e.lcZ(265,113,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(133,D,o.submitted&&o.f.maladie_exist.errors)),e.xp6(6),e.Oqu(e.lcZ(276,115,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(135,D,o.submitted&&o.f.nbr_enfant.errors)))},dependencies:[c.mk,c.sg,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,T.G,g.X$]}),i})();function ar(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function sr(i,r){1&i&&e._UZ(0,"span",63)}function lr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function dr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,lr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function ur(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function cr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,ur,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function gr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function mr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,gr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function pr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function _r(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,pr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.genre.errors.required)}}function hr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function fr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,hr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Zr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function vr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Zr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function br(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Ar(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,br,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function qr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Tr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,qr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function Cr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Sr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Cr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function xr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function wr(i,r){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,xr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}const Ur=function(){return["/rh/manager"]},J=function(i){return{"is-invalid":i}};let yr=(()=>{class i{constructor(t,o,a,s,l,d,u,p){this.agenceService=t,this.managerService=o,this.fb=a,this.router=s,this.route=l,this.http=d,this.toastrService=u,this.translateService=p,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.managereditForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],ethnie:["",n.kI.required],religion:["",n.kI.required],maladie_exist:["",n.kI.required],nbr_enfant:["",n.kI.required],genre:["",n.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.managerService.singleManager(t).subscribe(o=>{console.log(o.nom),this.managereditForm.patchValue({nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,nbr_enfant:o.nbr_enfant,genre:o.genre})})}get f(){return this.managereditForm.controls}onSubmit(){if(this.submitted=!0,console.log(this.managereditForm.value),this.managereditForm?.invalid)return;this.buttonloading=!0;const t={nom:this.managereditForm.value.nom,prenom:this.managereditForm.value.prenom,fullnamemanager:`${this.managereditForm.value.nom}    ${this.managereditForm.value.prenom}`,telephone:this.managereditForm.value.telephone,date_naiss:this.managereditForm.value.date_naiss,lieu_naiss:this.managereditForm.value.lieu_naiss,piece:this.managereditForm.value.piece,num_piece:this.managereditForm.value.num_piece,grade:this.managereditForm.value.grade,genre:this.managereditForm.value.genre,situation_matrimonial:this.managereditForm.value.situation_matrimonial,ethnie:this.managereditForm.value.ethnie,religion:this.managereditForm.value.religion,maladie_exist:this.managereditForm.value.maladie_exist,nbr_enfant:this.managereditForm.value.nbr_enfant},o=this.route.snapshot.paramMap.get("id");this.managerService.updateManager(o,t).subscribe({next:a=>{this.toastrService.success(`Les informations du manager ${a.nom} ont bien \xe9t\xe9 modifi\xe9es!`)&&(this.buttonloading=!1,window.location.reload())},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.q),e.Y36(y.b),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-assistant-manager-a10-form"]],decls:227,vars:94,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-3","md-3","xl-3"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","genre"],["formControlName","genre","id","genre",1,"form-control",3,"ngClass"],["value","Feminin"],["value","Masculin"],[1,"col-lg-4","md-4","xl-4"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],["value","recepisse"],["value","carte consulaire"],["value","carte de s\xe9jour"],["value","permis de conduire"],["value","aucune pi\xe8ce"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Assistant Manager A10"],["value","Manager"],["for","ethnie"],["type","text","formControlName","ethnie","id","ethnie",1,"form-control"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"back"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(12,"button",9),e.YNc(13,ar,3,3,"ng-container",10),e.YNc(14,sr,1,0,"span",11),e.qZA(),e._uU(15,"\xa0 "),e.TgZ(16,"button",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"div",13)(21,"div",6),e._UZ(22,"br")(23,"br"),e.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"div",7)(28,"label",17),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",18),e._uU(32,"*"),e.qZA()()(),e.TgZ(33,"div",7),e._UZ(34,"input",19),e.YNc(35,dr,2,1,"div",20),e.qZA()()()(),e.TgZ(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",21)(40,"label",22),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",18),e._uU(44,"*"),e.qZA()()(),e.TgZ(45,"div",7),e._UZ(46,"input",23),e.YNc(47,cr,2,1,"div",20),e.qZA()()()(),e.TgZ(48,"div",14)(49,"div",15)(50,"div",16)(51,"div",21)(52,"label",17),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",18),e._uU(56,"*"),e.qZA()()(),e.TgZ(57,"div",7),e._UZ(58,"input",24),e.YNc(59,mr,2,1,"div",20),e.qZA()()()(),e.TgZ(60,"div",14)(61,"div",15)(62,"div",16)(63,"div",21)(64,"label",25),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",18),e._uU(68,"*"),e.qZA()()(),e.TgZ(69,"div",7)(70,"select",26)(71,"option",27),e._uU(72,"Feminin"),e.qZA(),e.TgZ(73,"option",28),e._uU(74,"Masculin"),e.qZA()(),e.YNc(75,_r,2,1,"div",20),e.qZA()()()()(),e.TgZ(76,"div",6),e._UZ(77,"br")(78,"br"),e.TgZ(79,"div",29)(80,"div",15)(81,"div",16)(82,"div",7)(83,"label",30),e._uU(84),e.ALo(85,"translate"),e.TgZ(86,"span",18),e._uU(87,"*"),e.qZA()()(),e.TgZ(88,"div",7),e._UZ(89,"input",31),e.YNc(90,fr,2,1,"div",20),e.qZA()()()(),e.TgZ(91,"div",29)(92,"div",15)(93,"div",16)(94,"div",7)(95,"label",32),e._uU(96),e.ALo(97,"translate"),e.TgZ(98,"span",18),e._uU(99,"*"),e.qZA()()(),e.TgZ(100,"div",7),e._UZ(101,"input",33),e.YNc(102,vr,2,1,"div",20),e.qZA()()()(),e.TgZ(103,"div",29)(104,"div",15)(105,"div",16)(106,"div",7)(107,"label",34),e._uU(108),e.ALo(109,"translate"),e.TgZ(110,"span",18),e._uU(111,"*"),e.qZA()()(),e.TgZ(112,"div",7)(113,"select",35)(114,"option",36),e._uU(115,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(116,"option",37),e._uU(117,"attestation d'identit\xe9"),e.qZA(),e.TgZ(118,"option",38),e._uU(119,"passeport"),e.qZA(),e.TgZ(120,"option",39),e._uU(121,"recepisse"),e.qZA(),e.TgZ(122,"option",40),e._uU(123,"carte consulaire"),e.qZA(),e.TgZ(124,"option",41),e._uU(125,"carte de s\xe9jour"),e.qZA(),e.TgZ(126,"option",42),e._uU(127,"permis de conduire"),e.qZA(),e.TgZ(128,"option",43),e._uU(129,"aucune pi\xe8ce"),e.qZA()(),e.YNc(130,Ar,2,1,"div",20),e.qZA()()()()(),e.TgZ(131,"div",6),e._UZ(132,"br")(133,"br"),e.TgZ(134,"div",14)(135,"div",15)(136,"div",16)(137,"div",7)(138,"label",44),e._uU(139),e.ALo(140,"translate"),e.TgZ(141,"span",18),e._uU(142,"*"),e.qZA()()(),e.TgZ(143,"div",7),e._UZ(144,"input",45),e.qZA()()()(),e.TgZ(145,"div",29)(146,"div",15)(147,"div",16)(148,"div",7)(149,"label",46),e._uU(150),e.ALo(151,"translate"),e.TgZ(152,"span",18),e._uU(153,"*"),e.qZA()()(),e.TgZ(154,"div",7)(155,"select",47)(156,"option",48),e._uU(157,"mari\xe9"),e.qZA(),e.TgZ(158,"option",49),e._uU(159,"celibataire"),e.qZA(),e.TgZ(160,"option",50),e._uU(161,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(162,"div",29)(163,"div",15)(164,"div",16)(165,"div",7)(166,"label",51),e._uU(167),e.ALo(168,"translate"),e.TgZ(169,"span",18),e._uU(170,"*"),e.qZA()()(),e.TgZ(171,"div",7)(172,"select",52)(173,"option",53),e._uU(174,"Assistant Manager A10"),e.qZA(),e.TgZ(175,"option",54),e._uU(176,"Manager"),e.qZA()(),e.YNc(177,Tr,2,1,"div",20),e.qZA()()()()(),e.TgZ(178,"div",6),e._UZ(179,"br")(180,"br"),e.TgZ(181,"div",14)(182,"div",15)(183,"div",16)(184,"div",7)(185,"label",55),e._uU(186),e.ALo(187,"translate"),e.TgZ(188,"span",18),e._uU(189,"*"),e.qZA()()(),e.TgZ(190,"div",7),e._UZ(191,"input",56),e.qZA()()()(),e.TgZ(192,"div",14)(193,"div",15)(194,"div",16)(195,"div",7)(196,"label",57),e._uU(197),e.ALo(198,"translate"),e.TgZ(199,"span",18),e._uU(200,"*"),e.qZA()()(),e.TgZ(201,"div",7),e._UZ(202,"input",58),e.qZA()()()(),e.TgZ(203,"div",14)(204,"div",15)(205,"div",16)(206,"div",7)(207,"label",59),e._uU(208),e.ALo(209,"translate"),e.TgZ(210,"span",18),e._uU(211,"*"),e.qZA()()(),e.TgZ(212,"div",7),e._UZ(213,"input",60),e.YNc(214,Sr,2,1,"div",20),e.qZA()()()(),e.TgZ(215,"div",14)(216,"div",15)(217,"div",16)(218,"div",7)(219,"label",61),e._uU(220),e.ALo(221,"translate"),e.TgZ(222,"span",18),e._uU(223,"*"),e.qZA()()(),e.TgZ(224,"div",7),e._UZ(225,"input",62),e.YNc(226,wr,2,1,"div",20),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,41,"ModifManager")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(73,Ur)),e.xp6(6),e.Q6J("formGroup",o.managereditForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(18,43,"Annuler")),e.xp6(12),e.hij("",e.lcZ(30,45,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(74,J,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(42,47,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(76,J,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(54,49,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(78,J,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(6),e.Oqu(e.lcZ(66,51,"Genre")),e.xp6(5),e.Q6J("ngClass",e.VKq(80,J,o.submitted&&o.f.genre.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.genre.errors),e.xp6(9),e.hij("",e.lcZ(85,53,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(82,J,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(97,55,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(84,J,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(109,57,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(86,J,o.submitted&&o.f.piece.errors)),e.xp6(17),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(140,59,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(151,61,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(168,63,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(88,J,o.submitted&&o.f.grade.errors)),e.xp6(5),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(187,65,"Ethenie")),e.xp6(11),e.Oqu(e.lcZ(198,67,"Religion")),e.xp6(11),e.Oqu(e.lcZ(209,69,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(90,J,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(221,71,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(92,J,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,g.X$]}),i})();function Ir(i,r){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Sauver")))}function Fr(i,r){1&i&&e._UZ(0,"span",81)}function Lr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Or(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Lr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nom.errors.required)}}function Nr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Dr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Nr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.prenom.errors.required)}}function Jr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TelephoneManagerObligatoire")))}function Mr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Jr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.telephone.errors.required)}}function Er(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Yr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Er,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date_naiss.errors.required)}}function Qr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function kr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Qr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lieu_naiss.errors.required)}}function Br(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function jr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Br,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.piece.errors.required)}}function zr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Kr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,zr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.grade.errors.required)}}function Vr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Gr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Vr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.maladie_exist.errors.required)}}function Pr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function $r(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Pr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.nbr_enfant.errors.required)}}function Rr(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ChampObligatoire")))}function Xr(i,r){if(1&i&&(e.TgZ(0,"div",82),e.YNc(1,Rr,3,3,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fin_contrat.errors.required)}}const Hr=function(){return["/rh/employers"]},M=function(i){return{"is-invalid":i}};let Wr=(()=>{class i{constructor(t,o,a,s,l,d,u){this.employerService=t,this.fb=o,this.router=a,this.route=s,this.http=l,this.toastrService=d,this.translateService=u,this.keyLanguage="userLanguage",this.loading=!0,this.buttonloading=!1,this.submitted=!1,this.translateService.use(localStorage.getItem(this.keyLanguage)),this.editemployerForm=this.fb.group({nom:["",n.kI.required],prenom:["",n.kI.required],telephone:["",n.kI.required],date_naiss:["",n.kI.required],lieu_naiss:["",n.kI.required],piece:["",n.kI.required],genre:["",n.kI.required],num_piece:["",n.kI.required],grade:["",n.kI.required],situation_matrimonial:["",n.kI.required],type_contrat:["",n.kI.required],debut_contrat:["",n.kI.required],fin_contrat:["",n.kI.required],nbr_enfant:["",n.kI.required],maladie_exist:["",n.kI.required],religion:["",n.kI.required]})}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.employerService.singleEmployer(t).subscribe(o=>{console.log(o.nom),this.editemployerForm.patchValue({nom:o.nom,prenom:o.prenom,telephone:o.telephone,date_naiss:o.date_naiss,lieu_naiss:o.lieu_naiss,piece:o.piece,num_piece:o.num_piece,grade:o.grade,situation_matrimonial:o.situation_matrimonial,ethnie:o.ethnie,religion:o.religion,maladie_exist:o.maladie_exist,type_contrat:o.type_contrat,debut_contrat:o.debut_contrat,fin_contrat:o.fin_contrat,nbr_enfant:o.nbr_enfant,genre:o.genre})})}get f(){return this.editemployerForm.controls}onSubmit(){if(this.submitted=!0,console.log(this.editemployerForm.value),this.editemployerForm?.invalid)return;this.buttonloading=!0;const t={nom:this.editemployerForm.value.nom,prenom:this.editemployerForm.value.prenom,telephone:this.editemployerForm.value.telephone,date_naiss:this.editemployerForm.value.date_naiss,lieu_naiss:this.editemployerForm.value.lieu_naiss,piece:this.editemployerForm.value.piece,num_piece:this.editemployerForm.value.num_piece,grade:this.editemployerForm.value.grade,genre:this.editemployerForm.value.genre,situation_matrimonial:this.editemployerForm.value.situation_matrimonial,religion:this.editemployerForm.value.religion,type_contrat:this.editemployerForm.value.type_contrat,debut_contrat:this.editemployerForm.value.debut_contrat,fin_contrat:this.editemployerForm.value.fin_contrat,maladie_exist:this.editemployerForm.value.maladie_exist,nbr_enfant:this.editemployerForm.value.nbr_enfant},o=this.route.snapshot.paramMap.get("id");this.employerService.updateEmployer(o,t).subscribe({next:a=>{this.toastrService.success(`Les informations de ${a.nom} ont bien \xe9t\xe9 modifi\xe9es!`)&&(this.buttonloading=!1,this.router.navigate(["rh/employers"]))},error:a=>{console.log(a),this.toastrService.error(a.error.message),this.buttonloading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(V.g),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(Z.eN),e.Y36(f._W),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-employer"]],decls:279,vars:103,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"card","shadow","mb-4"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"container"],[1,"col-lg-4","md-4","xl-4"],[1,"form-group"],[1,"mb-3"],["for","nom"],[2,"color","red"],["type","text","placeholder","","id","nom","formControlName","nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],["for","prenom"],["type","text","formControlName","prenom",1,"form-control",3,"ngClass"],["for","telephone"],["type","text","formControlName","telephone",1,"form-control",3,"ngClass"],["for","date_naiss"],["type","date","placeholder","","id","date_naiss","formControlName","date_naiss",1,"form-control",3,"ngClass"],["for","lieu_naiss"],["type","text","placeholder","","id","lieu_naiss","formControlName","lieu_naiss",1,"form-control",3,"ngClass"],["for","piece"],["formControlName","piece","id","piece",1,"form-control",3,"ngClass"],["value","carte nationale d'identit\xe9"],["value","attestation d'identit\xe9"],["value","passeport"],[1,"col-lg-3","md-3","xl-3"],["for","num_piece"],["type","text","formControlName","num_piece","id","num_piece",1,"form-control"],["for","situation_matrimonial"],["formControlName","situation_matrimonial","id","situation_matrimonial",1,"form-control"],["value","mari\xe9"],["value","celibataire"],["value","divorc\xe9"],["for","grade"],["formControlName","grade","id","grade",1,"form-control",3,"ngClass"],["value","Chef de Service"],["value","Directeur G\xe9n\xe9ral"],["value","Superviseur g\xe9n\xe9ral"],["value","G\xe9rant"],["value","Comptable"],["value","Assistant(e) Comptable"],["value","Chef de service m\xe9dical"],["value","Adjoint(e) du Chef de service m\xe9dical"],["value","Kin\xe9sith\xe9rapeutre"],["value","Assistant(e) Kin\xe9sith\xe9rapeutre"],["value","Informaticien(enne)"],["value","S\xe9cretaire"],["value","R\xe9ceptionniste"],["value","Magasinier(\xe8re)"],["value","Coursier(\xe8re)"],["value","Agent de S\xe9curit\xe9"],["value","Agent de m\xe9nage"],["for","genre"],["formControlName","genre","id","genre",1,"form-control"],["value","masculin"],["value","f\xe9minin"],["for","religion"],["type","text","formControlName","religion","id","religion",1,"form-control"],["for","maladie_exist"],["type","text","formControlName","maladie_exist","id","maladie_exist",1,"form-control",3,"ngClass"],["for","nbr_enfant"],["type","number","formControlName","nbr_enfant","id","nbr_enfant",1,"form-control",3,"ngClass"],["for","type_contrat"],["formControlName","type_contrat","id","type_contrat",1,"form-control"],["value","CDD"],["value","CDI"],["value","Prestation"],["for","debut_contrat"],["type","date","formControlName","debut_contrat","id","debut_contrat",1,"form-control"],["for","fin_contrat"],["type","date","formControlName","fin_contrat","id","fin_contrat",1,"form-control",3,"ngClass"],[1,"spinner-border","spinner-border-sm"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(13,"button",9),e.YNc(14,Ir,3,3,"ng-container",10),e.YNc(15,Fr,1,0,"span",11),e.qZA(),e._uU(16,"\xa0 "),e.TgZ(17,"button",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"div",13)(22,"div",6),e._UZ(23,"br")(24,"br"),e.TgZ(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",7)(29,"label",17),e._uU(30),e.ALo(31,"translate"),e.TgZ(32,"span",18),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",7),e._UZ(35,"input",19),e.YNc(36,Or,2,1,"div",20),e.qZA()()()(),e.TgZ(37,"div",14)(38,"div",15)(39,"div",16)(40,"div",21)(41,"label",22),e._uU(42),e.ALo(43,"translate"),e.TgZ(44,"span",18),e._uU(45,"*"),e.qZA()()(),e.TgZ(46,"div",7),e._UZ(47,"input",23),e.YNc(48,Dr,2,1,"div",20),e.qZA()()()(),e.TgZ(49,"div",14)(50,"div",15)(51,"div",16)(52,"div",21)(53,"label",24),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"span",18),e._uU(57,"*"),e.qZA()()(),e.TgZ(58,"div",7),e._UZ(59,"input",25),e.YNc(60,Mr,2,1,"div",20),e.qZA()()()()(),e.TgZ(61,"div",6),e._UZ(62,"br")(63,"br"),e.TgZ(64,"div",14)(65,"div",15)(66,"div",16)(67,"div",7)(68,"label",26),e._uU(69),e.ALo(70,"translate"),e.TgZ(71,"span",18),e._uU(72,"*"),e.qZA()()(),e.TgZ(73,"div",7),e._UZ(74,"input",27),e.YNc(75,Yr,2,1,"div",20),e.qZA()()()(),e.TgZ(76,"div",14)(77,"div",15)(78,"div",16)(79,"div",7)(80,"label",28),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",18),e._uU(84,"*"),e.qZA()()(),e.TgZ(85,"div",7),e._UZ(86,"input",29),e.YNc(87,kr,2,1,"div",20),e.qZA()()()(),e.TgZ(88,"div",14)(89,"div",15)(90,"div",16)(91,"div",7)(92,"label",30),e._uU(93),e.ALo(94,"translate"),e.TgZ(95,"span",18),e._uU(96,"*"),e.qZA()()(),e.TgZ(97,"div",7)(98,"select",31)(99,"option",32),e._uU(100,"carte nationale d'identit\xe9"),e.qZA(),e.TgZ(101,"option",33),e._uU(102,"attestation d'identit\xe9"),e.qZA(),e.TgZ(103,"option",34),e._uU(104,"passeport"),e.qZA()(),e.YNc(105,jr,2,1,"div",20),e.qZA()()()()(),e.TgZ(106,"div",6),e._UZ(107,"br")(108,"br"),e.TgZ(109,"div",35)(110,"div",15)(111,"div",16)(112,"div",7)(113,"label",36),e._uU(114),e.ALo(115,"translate"),e.TgZ(116,"span",18),e._uU(117,"*"),e.qZA()()(),e.TgZ(118,"div",7),e._UZ(119,"input",37),e.qZA()()()(),e.TgZ(120,"div",14)(121,"div",15)(122,"div",16)(123,"div",7)(124,"label",38),e._uU(125),e.ALo(126,"translate"),e.TgZ(127,"span",18),e._uU(128,"*"),e.qZA()()(),e.TgZ(129,"div",7)(130,"select",39)(131,"option",40),e._uU(132,"mari\xe9"),e.qZA(),e.TgZ(133,"option",41),e._uU(134,"celibataire"),e.qZA(),e.TgZ(135,"option",42),e._uU(136,"divorc\xe9"),e.qZA()()()()()(),e.TgZ(137,"div",14)(138,"div",15)(139,"div",16)(140,"div",7)(141,"label",43),e._uU(142),e.ALo(143,"translate"),e.TgZ(144,"span",18),e._uU(145,"*"),e.qZA()()(),e.TgZ(146,"div",7)(147,"select",44)(148,"option",45),e._uU(149,"Chef Service"),e.qZA(),e.TgZ(150,"option",46),e._uU(151,"Directeur G\xe9n\xe9ral"),e.qZA(),e.TgZ(152,"option",47),e._uU(153,"Superviseur g\xe9n\xe9ral"),e.qZA(),e.TgZ(154,"option",48),e._uU(155,"G\xe9rant"),e.qZA(),e.TgZ(156,"option",49),e._uU(157,"Comptable"),e.qZA(),e.TgZ(158,"option",50),e._uU(159,"Assistant(e) Comptable"),e.qZA(),e.TgZ(160,"option",51),e._uU(161,"Chef de service m\xe9dical"),e.qZA(),e.TgZ(162,"option",52),e._uU(163,"Adjoint(e) du Chef de service m\xe9dical"),e.qZA(),e.TgZ(164,"option",53),e._uU(165,"Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(166,"option",54),e._uU(167,"Assistant(e) Kin\xe9sith\xe9rapeutre"),e.qZA(),e.TgZ(168,"option",55),e._uU(169,"Informaticien(enne)"),e.qZA(),e.TgZ(170,"option",56),e._uU(171,"S\xe9cretaire"),e.qZA(),e.TgZ(172,"option",57),e._uU(173,"R\xe9ceptionniste"),e.qZA(),e.TgZ(174,"option",58),e._uU(175,"Magasinier(\xe8re)"),e.qZA(),e.TgZ(176,"option",59),e._uU(177,"Coursier(i\xe8re)"),e.qZA(),e.TgZ(178,"option",60),e._uU(179,"Agent de S\xe9curit\xe9"),e.qZA(),e.TgZ(180,"option",61),e._uU(181,"Agent de m\xe9nage"),e.qZA()(),e.YNc(182,Kr,2,1,"div",20),e.qZA()()()()(),e.TgZ(183,"div",6),e._UZ(184,"br")(185,"br"),e.TgZ(186,"div",35)(187,"div",15)(188,"div",16)(189,"div",7)(190,"label",62),e._uU(191),e.ALo(192,"translate"),e.TgZ(193,"span",18),e._uU(194,"*"),e.qZA()()(),e.TgZ(195,"div",7)(196,"select",63)(197,"option",64),e._uU(198,"Masculin"),e.qZA(),e.TgZ(199,"option",65),e._uU(200,"F\xe9minin"),e.qZA()()()()()(),e.TgZ(201,"div",35)(202,"div",15)(203,"div",16)(204,"div",7)(205,"label",66),e._uU(206),e.ALo(207,"translate"),e.TgZ(208,"span",18),e._uU(209,"*"),e.qZA()()(),e.TgZ(210,"div",7),e._UZ(211,"input",67),e.qZA()()()(),e.TgZ(212,"div",35)(213,"div",15)(214,"div",16)(215,"div",7)(216,"label",68),e._uU(217),e.ALo(218,"translate"),e.TgZ(219,"span",18),e._uU(220,"*"),e.qZA()()(),e.TgZ(221,"div",7),e._UZ(222,"input",69),e.YNc(223,Gr,2,1,"div",20),e.qZA()()()(),e.TgZ(224,"div",35)(225,"div",15)(226,"div",16)(227,"div",7)(228,"label",70),e._uU(229),e.ALo(230,"translate"),e.TgZ(231,"span",18),e._uU(232,"*"),e.qZA()()(),e.TgZ(233,"div",7),e._UZ(234,"input",71),e.YNc(235,$r,2,1,"div",20),e.qZA()()()()(),e.TgZ(236,"div",6),e._UZ(237,"br")(238,"br"),e.TgZ(239,"div",35)(240,"div",15)(241,"div",16)(242,"div",7)(243,"label",72),e._uU(244),e.ALo(245,"translate"),e.TgZ(246,"span",18),e._uU(247,"*"),e.qZA()()(),e.TgZ(248,"div",7)(249,"select",73)(250,"option",74),e._uU(251,"CDD"),e.qZA(),e.TgZ(252,"option",75),e._uU(253,"CDI"),e.qZA(),e.TgZ(254,"option",76),e._uU(255,"Prestation"),e.qZA()()()()()(),e.TgZ(256,"div",14)(257,"div",15)(258,"div",16)(259,"div",7)(260,"label",77),e._uU(261),e.ALo(262,"translate"),e.TgZ(263,"span",18),e._uU(264,"*"),e.qZA()()(),e.TgZ(265,"div",7),e._UZ(266,"input",78),e.qZA()()()(),e.TgZ(267,"div",14)(268,"div",15)(269,"div",16)(270,"div",7)(271,"label",79),e._uU(272),e.ALo(273,"translate"),e.TgZ(274,"span",18),e._uU(275,"*"),e.qZA()()(),e.TgZ(276,"div",7),e._UZ(277,"input",80),e.YNc(278,Xr,2,1,"div",20),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,44,"ModifManager")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(82,Hr)),e.xp6(1),e.Oqu(e.lcZ(7,46,"Retour")),e.xp6(6),e.Q6J("formGroup",o.editemployerForm),e.xp6(1),e.Q6J("disabled",o.buttonloading),e.xp6(1),e.Q6J("ngIf",!o.buttonloading),e.xp6(1),e.Q6J("ngIf",o.buttonloading),e.xp6(3),e.Oqu(e.lcZ(19,48,"Annuler")),e.xp6(12),e.hij("",e.lcZ(31,50,"Nom")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(83,M,o.submitted&&o.f.nom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nom.errors),e.xp6(6),e.Oqu(e.lcZ(43,52,"Prenom")),e.xp6(5),e.Q6J("ngClass",e.VKq(85,M,o.submitted&&o.f.prenom.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.prenom.errors),e.xp6(6),e.Oqu(e.lcZ(55,54,"Telephone")),e.xp6(5),e.Q6J("ngClass",e.VKq(87,M,o.submitted&&o.f.telephone.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.telephone.errors),e.xp6(9),e.hij("",e.lcZ(70,56,"DateNaissance")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(89,M,o.submitted&&o.f.date_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date_naiss.errors),e.xp6(6),e.hij("",e.lcZ(82,58,"LieuNaiss")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(91,M,o.submitted&&o.f.lieu_naiss.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lieu_naiss.errors),e.xp6(6),e.hij("",e.lcZ(94,60,"Piece")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(93,M,o.submitted&&o.f.piece.errors)),e.xp6(7),e.Q6J("ngIf",o.submitted&&o.f.piece.errors),e.xp6(9),e.Oqu(e.lcZ(115,62,"NumeroPiece")),e.xp6(11),e.Oqu(e.lcZ(126,64,"SituationMatrimoniale")),e.xp6(17),e.Oqu(e.lcZ(143,66,"Grade")),e.xp6(5),e.Q6J("ngClass",e.VKq(95,M,o.submitted&&o.f.grade.errors)),e.xp6(35),e.Q6J("ngIf",o.submitted&&o.f.grade.errors),e.xp6(9),e.Oqu(e.lcZ(192,68,"Genre")),e.xp6(15),e.Oqu(e.lcZ(207,70,"Religion")),e.xp6(11),e.Oqu(e.lcZ(218,72,"MaladiEntecedent")),e.xp6(5),e.Q6J("ngClass",e.VKq(97,M,o.submitted&&o.f.maladie_exist.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.maladie_exist.errors),e.xp6(6),e.Oqu(e.lcZ(230,74,"NombreEnfant")),e.xp6(5),e.Q6J("ngClass",e.VKq(99,M,o.submitted&&o.f.nbr_enfant.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.nbr_enfant.errors),e.xp6(9),e.Oqu(e.lcZ(245,76,"TypeContrat")),e.xp6(17),e.Oqu(e.lcZ(262,78,"DebutContrat")),e.xp6(11),e.Oqu(e.lcZ(273,80,"FinContrat")),e.xp6(5),e.Q6J("ngClass",e.VKq(101,M,o.submitted&&o.f.fin_contrat.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fin_contrat.errors))},dependencies:[c.mk,c.O5,m.rH,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,g.X$]}),i})();var ea=h(1185);function ta(i,r){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.year)}}function oa(i,r){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",24),e._uU(4),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.mois.valueMois),e.xp6(2),e.hij("",t.caTotal," FCFA")}}C.kL.register(...C.zX);const ia=[{path:"",component:ie},{path:"manager",component:he},{path:"edit-manager/:id",component:Ho},{path:"detail-manager/:id",component:ei},{path:"affectation",component:qe},{path:"mission",component:Ne},{path:"country",component:Be},{path:"bureau",component:Tt},{path:"employers",component:mt},{path:"edit-employer/:id",component:Wr},{path:"zone",component:Dt},{path:"section",component:Vt},{path:"conge",component:so},{path:"superviseur-zone",component:po},{path:"chef-section",component:bo},{path:"zone-pays/:id",component:So},{path:"detail-zone/:id",component:Uo},{path:"edit-bureau/:id",component:li},{path:"edit-zone/:id",component:hi},{path:"rendement-bureau",component:bi},{path:"rendement-national",component:(()=>{class i{constructor(t,o,a,s,l){this.locale=t,this.route=o,this.translateService=a,this.weekendeyservice=s,this.salaireService=l,this.startYear=2023,this.endYear=2100,this.Listyears=[],this.listCaPaysMois=[],this.dtoptions={},this.dtTrigger=new v.x,this.keyLanguage="userLanguage",this.keyUser="currentUser",this.labeldata=[],this.realdata=[],this.colordata=[],this.translateService.use(localStorage.getItem(this.keyLanguage))}ngOnInit(){this.loadYears(),this.getUser()}loadYears(){for(let t=this.startYear;t<=this.endYear;t++)this.Listyears.push({year:t,value:t.toString()})}getUser(){const o=JSON.parse(localStorage.getItem(this.keyUser)).role.countryId;Array.isArray(o)?o.forEach(a=>{this.fetchDataForCountry(a._id)}):this.fetchDataForCountry(o._id)}fetchDataForCountry(t){this.weekendeyservice.getallCamoisbypays(t).subscribe({next:o=>{if(o.length>0){this.pays=o[0].mois.valueMois,this.listCaPaysMois=o,o.forEach(s=>{console.log("Item annee:",s.annee)});let a=o;this.selectedYear&&(a=o.filter(s=>(console.log("Filtering item annee:",s.annee.annee),s.annee.annee===Number(this.selectedYear)))),this.listCaPaysMois=a,this.labeldata=[],this.realdata=[],this.colordata=[];for(let s=0;s<a.length;s++)this.labeldata.push(a[s].mois.valueMois),this.realdata.push(a[s].caTotal),this.colordata.push(a[s].mois.codeColor);this.RenderChart(this.labeldata,this.realdata,this.colordata,"bar","barchart")}this.dtTrigger.next(null)},error:o=>{console.error("Error fetching data for country:",o)}})}onYearChange(t){console.log("event",t.target);const o=t.target;console.log("event value",o.value),this.selectedYear=o.value,this.getUser()}RenderChart(t,o,a,s,l){this.myChart&&this.myChart.destroy(),this.myChart=new C.kL(l,{type:s,data:{labels:t,datasets:[{label:"CA",data:o,backgroundColor:a,borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.soG),e.Y36(m.gz),e.Y36(g.sK),e.Y36(ea.x),e.Y36(z.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rendement-national"]],decls:46,vars:20,consts:[[1,"container-fluid"],[1,"shadow","p-3","mb-5","bg-body","rounded"],[1,"h3","mb-2","text-gray-800"],["routerLink","/rh",1,"btn","btn-outline-primary"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"card-body"],[1,"container"],[1,"row"],[1,"col-md-3"],["for","filter",1,"col-md-3","control-label"],[1,"col-md-9"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"top-0","end-0"],[1,"table-responsive"],["datatable","",1,"row-border","hover","table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-xl-12"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold","text-primary"],["id","barchart"],[3,"value"],[1,"center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6,"Retour"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",8)(14,"label",10),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11)(18,"select",12),e.NdJ("change",function(s){return o.onYearChange(s)}),e.TgZ(19,"option",13),e._uU(20,"----Ann\xe9e----"),e.qZA(),e.YNc(21,ta,2,2,"option",14),e.qZA()()()()()(),e.TgZ(22,"span",15),e._uU(23,"Solde: "),e.qZA(),e.TgZ(24,"div",16)(25,"table",17)(26,"thead")(27,"tr")(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,oa,5,2,"tr",18),e.qZA()()()()(),e.TgZ(36,"div",8)(37,"div",19)(38,"div",4)(39,"div",20)(40,"h6",21),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",6)(44,"div"),e._UZ(45,"canvas",22),e.qZA()()()()()()),2&t&&(e.xp6(3),e.AsE(" ",e.lcZ(4,10,"CHIFFREDAFFAIREMonth")," ",o.pays," "),e.xp6(12),e.Oqu(e.lcZ(16,12,"Filter")),e.xp6(6),e.Q6J("ngForOf",o.Listyears),e.xp6(4),e.Q6J("dtOptions",o.dtoptions)("dtTrigger",o.dtTrigger),e.xp6(4),e.Oqu(e.lcZ(30,14,"MoisDe")),e.xp6(3),e.Oqu(e.lcZ(33,16,"CHIFFREDAFFAIRE")),e.xp6(3),e.Q6J("ngForOf",o.listCaPaysMois),e.xp6(6),e.Oqu(e.lcZ(42,18,"CHIFFREDAFFAIREMonth")))},dependencies:[c.sg,m.rH,n.YN,n.Kr,T.G,g.X$]}),i})()},{path:"list-salaire-du-bureau/:id",component:Si},{path:"liste-ca-zone/:id",component:yi},{path:"liste-ca-section/:id",component:Li},{path:"stock-bureau/:id",component:Ei},{path:"localisation-bureau",component:Wi},{path:"modification-localisation-bureau/:id",component:ln},{path:"commissaires",component:Cn},{path:"edit-commissaire/:id",component:En},{path:"liste-zone-pour-ca",component:Qn},{path:"liste-ca-par-zone/:id",component:Vn},{path:"liste-assistant-manager-a10",component:rr},{path:"edit-assistant-manager-a10/:id",component:yr}];let na=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(ia),m.Bz]}),i})();var ra=h(1744);function oe(i){return new ra.w(i,"./assets/i18n/",".json")}let aa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,na,n.UX,n.u5,S.ZQ,T.T.forRoot(),g.aw.forRoot({defaultLanguage:"en",loader:{provide:g.Zw,useFactory:oe,deps:[Z.eN]}})]}),i})()}}]);